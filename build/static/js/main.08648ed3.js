/*! For license information please see main.08648ed3.js.LICENSE.txt */
!function(){"use strict";var e={900:function(e,t,n){function r(){return"undefined"!==typeof __SENTRY_BROWSER_BUNDLE__&&!!__SENTRY_BROWSER_BUNDLE__}function i(){return"npm"}n.d(t,{S:function(){return i},n:function(){return r}})},685:function(e,t,n){n.d(t,{KV:function(){return i},l$:function(){return a}});var r=n(900);function i(){return!(0,r.n)()&&"[object process]"===Object.prototype.toString.call("undefined"!==typeof process?process:0)}function a(e,t){return e.require(t)}e=n.hmd(e)},846:function(e,t,n){n.d(t,{Z1:function(){return h},_I:function(){return f},ph:function(){return l},yW:function(){return c}});var r=n(685),i=n(748);e=n.hmd(e);var a=(0,i.Rf)(),o={nowSeconds:function(){return Date.now()/1e3}};var s=(0,r.KV)()?function(){try{return(0,r.l$)(e,"perf_hooks").performance}catch(t){return}}():function(){var e=a.performance;if(e&&e.now)return{now:function(){return e.now()},timeOrigin:Date.now()-e.now()}}(),u=void 0===s?o:{nowSeconds:function(){return(s.timeOrigin+s.now())/1e3}},c=o.nowSeconds.bind(o),l=u.nowSeconds.bind(u),f=l,h=function(){var e=a.performance;if(e&&e.now){var t=36e5,n=e.now(),r=Date.now(),i=e.timeOrigin?Math.abs(e.timeOrigin+n-r):t,o=i<t,s=e.timing&&e.timing.navigationStart,u="number"===typeof s?Math.abs(s+n-r):t;return o||u<t?i<=u?("timeOrigin",e.timeOrigin):("navigationStart",s):("dateNow",r)}"none"}()},748:function(e,t,n){function r(e){return e&&e.Math==Math?e:void 0}n.d(t,{Rf:function(){return a},YO:function(){return o},n2:function(){return i}});var i="object"==typeof globalThis&&r(globalThis)||"object"==typeof window&&r(window)||"object"==typeof self&&r(self)||"object"==typeof n.g&&r(n.g)||function(){return this}()||{};function a(){return i}function o(e,t,n){var r=n||i,a=r.__SENTRY__=r.__SENTRY__||{};return a[e]||(a[e]=t())}},463:function(e,t,n){var r=n(791),i=n(296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,s={};function u(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(s[e]=t,e=0;e<t.length;e++)o.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function _(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(d,e)&&(h.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var k=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,b=Symbol.for("react.element"),w=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),x=Symbol.for("react.provider"),I=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),A=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var O=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var P=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=P&&e[P]||e["@@iterator"])?e:null}var M,U=Object.assign;function j(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var F=!1;function B(e,t){if(!e||F)return"";F=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s]){var u="\n"+i[o].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=o&&0<=s);break}}}finally{F=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?j(e):""}function V(e){switch(e.tag){case 5:return j(e.type);case 16:return j("Lazy");case 13:return j("Suspense");case 19:return j("SuspenseList");case 0:case 2:case 15:return e=B(e.type,!1);case 11:return e=B(e.type.render,!1);case 1:return e=B(e.type,!0);default:return""}}function z(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case E:return"Fragment";case w:return"Portal";case S:return"Profiler";case T:return"StrictMode";case N:return"Suspense";case R:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case I:return(e.displayName||"Context")+".Consumer";case x:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case D:return null!==(t=e.displayName||null)?t:z(e.type)||"Memo";case A:t=e._payload,e=e._init;try{return z(e(t))}catch(n){}}return null}function G(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return z(t);case 8:return t===T?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function q(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function H(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Y(e){e._valueTracker||(e._valueTracker=function(e){var t=H(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=H(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function W(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Q(e,t){var n=t.checked;return U({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function X(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=q(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function $(e,t){null!=(t=t.checked)&&_(e,"checked",t,!1)}function J(e,t){$(e,t);var n=q(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&W(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+q(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return U({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:q(n)}}function ae(e,t){var n=q(t.value),r=q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ue(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,fe=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var ye=U({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function _e(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ke=null;function be(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var we=null,Ee=null,Te=null;function Se(e){if(e=_i(e)){if("function"!==typeof we)throw Error(a(280));var t=e.stateNode;t&&(t=bi(t),we(e.stateNode,e.type,t))}}function xe(e){Ee?Te?Te.push(e):Te=[e]:Ee=e}function Ie(){if(Ee){var e=Ee,t=Te;if(Te=Ee=null,Se(e),t)for(e=0;e<t.length;e++)Se(t[e])}}function Ce(e,t){return e(t)}function Ne(){}var Re=!1;function De(e,t,n){if(Re)return e(t,n);Re=!0;try{return Ce(e,t,n)}finally{Re=!1,(null!==Ee||null!==Te)&&(Ne(),Ie())}}function Ae(e,t){var n=e.stateNode;if(null===n)return null;var r=bi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Oe=!1;if(l)try{var Pe={};Object.defineProperty(Pe,"passive",{get:function(){Oe=!0}}),window.addEventListener("test",Pe,Pe),window.removeEventListener("test",Pe,Pe)}catch(le){Oe=!1}function Le(e,t,n,r,i,a,o,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Me=!1,Ue=null,je=!1,Fe=null,Be={onError:function(e){Me=!0,Ue=e}};function Ve(e,t,n,r,i,a,o,s,u){Me=!1,Ue=null,Le.apply(Be,arguments)}function ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ge(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function qe(e){if(ze(e)!==e)throw Error(a(188))}function He(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=ze(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return qe(i),e;if(o===r)return qe(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=o;break}if(u===r){s=!0,r=i,n=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===n){s=!0,n=o,r=i;break}if(u===r){s=!0,r=o,n=i;break}u=u.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?Ye(e):null}function Ye(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ye(e);if(null!==t)return t;e=e.sibling}return null}var Ke=i.unstable_scheduleCallback,We=i.unstable_cancelCallback,Qe=i.unstable_shouldYield,Xe=i.unstable_requestPaint,$e=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(st(e)/ut|0)|0},st=Math.log,ut=Math.LN2;var ct=64,lt=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var s=o&~i;0!==s?r=ft(s):0!==(a&=o)&&(r=ft(a))}else 0!==(o=n&~i)?r=ft(o):0!==a&&(r=ft(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function gt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var _t=0;function kt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var bt,wt,Et,Tt,St,xt=!1,It=[],Ct=null,Nt=null,Rt=null,Dt=new Map,At=new Map,Ot=[],Pt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":Nt=null;break;case"mouseover":case"mouseout":Rt=null;break;case"pointerover":case"pointerout":Dt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":At.delete(t.pointerId)}}function Mt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=_i(t))&&wt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ut(e){var t=gi(e.target);if(null!==t){var n=ze(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ge(n)))return e.blockedOn=t,void St(e.priority,(function(){Et(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function jt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Qt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=_i(n))&&wt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);ke=r,n.target.dispatchEvent(r),ke=null,t.shift()}return!0}function Ft(e,t,n){jt(e)&&n.delete(t)}function Bt(){xt=!1,null!==Ct&&jt(Ct)&&(Ct=null),null!==Nt&&jt(Nt)&&(Nt=null),null!==Rt&&jt(Rt)&&(Rt=null),Dt.forEach(Ft),At.forEach(Ft)}function Vt(e,t){e.blockedOn===t&&(e.blockedOn=null,xt||(xt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Bt)))}function zt(e){function t(t){return Vt(t,e)}if(0<It.length){Vt(It[0],e);for(var n=1;n<It.length;n++){var r=It[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ct&&Vt(Ct,e),null!==Nt&&Vt(Nt,e),null!==Rt&&Vt(Rt,e),Dt.forEach(t),At.forEach(t),n=0;n<Ot.length;n++)(r=Ot[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Ot.length&&null===(n=Ot[0]).blockedOn;)Ut(n),null===n.blockedOn&&Ot.shift()}var Gt=k.ReactCurrentBatchConfig,qt=!0;function Ht(e,t,n,r){var i=_t,a=Gt.transition;Gt.transition=null;try{_t=1,Kt(e,t,n,r)}finally{_t=i,Gt.transition=a}}function Yt(e,t,n,r){var i=_t,a=Gt.transition;Gt.transition=null;try{_t=4,Kt(e,t,n,r)}finally{_t=i,Gt.transition=a}}function Kt(e,t,n,r){if(qt){var i=Qt(e,t,n,r);if(null===i)qr(e,t,r,Wt,n),Lt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Ct=Mt(Ct,e,t,n,r,i),!0;case"dragenter":return Nt=Mt(Nt,e,t,n,r,i),!0;case"mouseover":return Rt=Mt(Rt,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Dt.set(a,Mt(Dt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,At.set(a,Mt(At.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Pt.indexOf(e)){for(;null!==i;){var a=_i(i);if(null!==a&&bt(a),null===(a=Qt(e,t,n,r))&&qr(e,t,r,Wt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else qr(e,t,r,null,n)}}var Wt=null;function Qt(e,t,n,r){if(Wt=null,null!==(e=gi(e=be(r))))if(null===(t=ze(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Ge(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Wt=e,null}function Xt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var $t=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,i="value"in $t?$t.value:$t.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return U(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,sn,un,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=an(cn),fn=U({},cn,{view:0,detail:0}),hn=an(fn),dn=U({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==un&&(un&&"mousemove"===e.type?(on=e.screenX-un.screenX,sn=e.screenY-un.screenY):sn=on=0,un=e),on)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),pn=an(dn),vn=an(U({},dn,{dataTransfer:0})),mn=an(U({},fn,{relatedTarget:0})),yn=an(U({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),gn=U({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),_n=an(gn),kn=an(U({},cn,{data:0})),bn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},En={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=En[e])&&!!t[e]}function Sn(){return Tn}var xn=U({},fn,{key:function(e){if(e.key){var t=bn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?wn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),In=an(xn),Cn=an(U({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Nn=an(U({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sn})),Rn=an(U({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Dn=U({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),An=an(Dn),On=[9,13,27,32],Pn=l&&"CompositionEvent"in window,Ln=null;l&&"documentMode"in document&&(Ln=document.documentMode);var Mn=l&&"TextEvent"in window&&!Ln,Un=l&&(!Pn||Ln&&8<Ln&&11>=Ln),jn=String.fromCharCode(32),Fn=!1;function Bn(e,t){switch(e){case"keyup":return-1!==On.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var zn=!1;var Gn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Gn[e.type]:"textarea"===t}function Hn(e,t,n,r){xe(r),0<(t=Yr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Yn=null,Kn=null;function Wn(e){jr(e,0)}function Qn(e){if(K(ki(e)))return e}function Xn(e,t){if("change"===e)return t}var $n=!1;if(l){var Jn;if(l){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;$n=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Yn&&(Yn.detachEvent("onpropertychange",nr),Kn=Yn=null)}function nr(e){if("value"===e.propertyName&&Qn(Kn)){var t=[];Hn(t,Kn,e,be(e)),De(Wn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Kn=n,(Yn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Qn(Kn)}function ar(e,t){if("click"===e)return Qn(t)}function or(e,t){if("input"===e||"change"===e)return Qn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ur(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!sr(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=W();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=W((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=lr(n,a);var o=lr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=l&&"documentMode"in document&&11>=document.documentMode,mr=null,yr=null,gr=null,_r=!1;function kr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;_r||null==mr||mr!==W(r)||("selectionStart"in(r=mr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&ur(gr,r)||(gr=r,0<(r=Yr(yr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function br(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var wr={animationend:br("Animation","AnimationEnd"),animationiteration:br("Animation","AnimationIteration"),animationstart:br("Animation","AnimationStart"),transitionend:br("Transition","TransitionEnd")},Er={},Tr={};function Sr(e){if(Er[e])return Er[e];if(!wr[e])return e;var t,n=wr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Tr)return Er[e]=n[t];return e}l&&(Tr=document.createElement("div").style,"AnimationEvent"in window||(delete wr.animationend.animation,delete wr.animationiteration.animation,delete wr.animationstart.animation),"TransitionEvent"in window||delete wr.transitionend.transition);var xr=Sr("animationend"),Ir=Sr("animationiteration"),Cr=Sr("animationstart"),Nr=Sr("transitionend"),Rr=new Map,Dr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ar(e,t){Rr.set(e,t),u(t,[e])}for(var Or=0;Or<Dr.length;Or++){var Pr=Dr[Or];Ar(Pr.toLowerCase(),"on"+(Pr[0].toUpperCase()+Pr.slice(1)))}Ar(xr,"onAnimationEnd"),Ar(Ir,"onAnimationIteration"),Ar(Cr,"onAnimationStart"),Ar("dblclick","onDoubleClick"),Ar("focusin","onFocus"),Ar("focusout","onBlur"),Ar(Nr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function Ur(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,s,u,c){if(Ve.apply(this,arguments),Me){if(!Me)throw Error(a(198));var l=Ue;Me=!1,Ue=null,je||(je=!0,Fe=l)}}(r,t,void 0,e),e.currentTarget=null}function jr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],u=s.instance,c=s.currentTarget;if(s=s.listener,u!==a&&i.isPropagationStopped())break e;Ur(i,s,c),a=u}else for(o=0;o<r.length;o++){if(u=(s=r[o]).instance,c=s.currentTarget,s=s.listener,u!==a&&i.isPropagationStopped())break e;Ur(i,s,c),a=u}}}if(je)throw e=Fe,je=!1,Fe=null,e}function Fr(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(Gr(t,e,2,!1),n.add(r))}function Br(e,t,n){var r=0;t&&(r|=4),Gr(n,e,r,t)}var Vr="_reactListening"+Math.random().toString(36).slice(2);function zr(e){if(!e[Vr]){e[Vr]=!0,o.forEach((function(t){"selectionchange"!==t&&(Mr.has(t)||Br(t,!1,e),Br(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Vr]||(t[Vr]=!0,Br("selectionchange",!1,t))}}function Gr(e,t,n,r){switch(Xt(t)){case 1:var i=Ht;break;case 4:i=Yt;break;default:i=Kt}n=i.bind(null,t,n,e),i=void 0,!Oe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function qr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var u=o.tag;if((3===u||4===u)&&((u=o.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;o=o.return}for(;null!==s;){if(null===(o=gi(s)))return;if(5===(u=o.tag)||6===u){r=a=o;continue e}s=s.parentNode}}r=r.return}De((function(){var r=a,i=be(n),o=[];e:{var s=Rr.get(e);if(void 0!==s){var u=ln,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":u=In;break;case"focusin":c="focus",u=mn;break;case"focusout":c="blur",u=mn;break;case"beforeblur":case"afterblur":u=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=Nn;break;case xr:case Ir:case Cr:u=yn;break;case Nr:u=Rn;break;case"scroll":u=hn;break;case"wheel":u=An;break;case"copy":case"cut":case"paste":u=_n;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=Cn}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==s?s+"Capture":null:s;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Ae(p,h))&&l.push(Hr(p,v,d)))),f)break;p=p.return}0<l.length&&(s=new u(s,c,null,n,i),o.push({event:s,listeners:l}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===ke||!(c=n.relatedTarget||n.fromElement)||!gi(c)&&!c[pi])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?gi(c):null)&&(c!==(f=ze(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(u=null,c=r),u!==c)){if(l=pn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Cn,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==u?s:ki(u),d=null==c?s:ki(c),(s=new l(v,p+"leave",u,n,i)).target=f,s.relatedTarget=d,v=null,gi(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,u&&c)e:{for(h=c,p=0,d=l=u;d;d=Kr(d))p++;for(d=0,v=h;v;v=Kr(v))d++;for(;0<p-d;)l=Kr(l),p--;for(;0<d-p;)h=Kr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Kr(l),h=Kr(h)}l=null}else l=null;null!==u&&Wr(o,s,u,l,!1),null!==c&&null!==f&&Wr(o,f,c,l,!0)}if("select"===(u=(s=r?ki(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var m=Xn;else if(qn(s))if($n)m=or;else{m=ir;var y=rr}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=ar);switch(m&&(m=m(e,r))?Hn(o,m,n,i):(y&&y(e,s,r),"focusout"===e&&(y=s._wrapperState)&&y.controlled&&"number"===s.type&&ee(s,"number",s.value)),y=r?ki(r):window,e){case"focusin":(qn(y)||"true"===y.contentEditable)&&(mr=y,yr=r,gr=null);break;case"focusout":gr=yr=mr=null;break;case"mousedown":_r=!0;break;case"contextmenu":case"mouseup":case"dragend":_r=!1,kr(o,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":kr(o,n,i)}var g;if(Pn)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else zn?Bn(e,n)&&(_="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(_="onCompositionStart");_&&(Un&&"ko"!==n.locale&&(zn||"onCompositionStart"!==_?"onCompositionEnd"===_&&zn&&(g=en()):(Jt="value"in($t=i)?$t.value:$t.textContent,zn=!0)),0<(y=Yr(r,_)).length&&(_=new kn(_,e,null,n,i),o.push({event:_,listeners:y}),g?_.data=g:null!==(g=Vn(n))&&(_.data=g))),(g=Mn?function(e,t){switch(e){case"compositionend":return Vn(t);case"keypress":return 32!==t.which?null:(Fn=!0,jn);case"textInput":return(e=t.data)===jn&&Fn?null:e;default:return null}}(e,n):function(e,t){if(zn)return"compositionend"===e||!Pn&&Bn(e,t)?(e=en(),Zt=Jt=$t=null,zn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Un&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Yr(r,"onBeforeInput")).length&&(i=new kn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}jr(o,t)}))}function Hr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Yr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Ae(e,n))&&r.unshift(Hr(e,a,i)),null!=(a=Ae(e,t))&&r.push(Hr(e,a,i))),e=e.return}return r}function Kr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Wr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,u=s.alternate,c=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(u=Ae(n,a))&&o.unshift(Hr(n,u,s)):i||null!=(u=Ae(n,a))&&o.push(Hr(n,u,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Qr=/\r\n?/g,Xr=/\u0000|\uFFFD/g;function $r(e){return("string"===typeof e?e:""+e).replace(Qr,"\n").replace(Xr,"")}function Jr(e,t,n){if(t=$r(t),$r(e)!==t&&n)throw Error(a(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(si)}:ri;function si(e){setTimeout((function(){throw e}))}function ui(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void zt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);zt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function li(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),hi="__reactFiber$"+fi,di="__reactProps$"+fi,pi="__reactContainer$"+fi,vi="__reactEvents$"+fi,mi="__reactListeners$"+fi,yi="__reactHandles$"+fi;function gi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=li(e);null!==e;){if(n=e[hi])return n;e=li(e)}return t}n=(e=n).parentNode}return null}function _i(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ki(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function bi(e){return e[di]||null}var wi=[],Ei=-1;function Ti(e){return{current:e}}function Si(e){0>Ei||(e.current=wi[Ei],wi[Ei]=null,Ei--)}function xi(e,t){Ei++,wi[Ei]=e.current,e.current=t}var Ii={},Ci=Ti(Ii),Ni=Ti(!1),Ri=Ii;function Di(e,t){var n=e.type.contextTypes;if(!n)return Ii;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Ai(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Oi(){Si(Ni),Si(Ci)}function Pi(e,t,n){if(Ci.current!==Ii)throw Error(a(168));xi(Ci,t),xi(Ni,n)}function Li(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,G(e)||"Unknown",i));return U({},n,r)}function Mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ii,Ri=Ci.current,xi(Ci,e),xi(Ni,Ni.current),!0}function Ui(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Li(e,t,Ri),r.__reactInternalMemoizedMergedChildContext=e,Si(Ni),Si(Ci),xi(Ci,e)):Si(Ni),xi(Ni,n)}var ji=null,Fi=!1,Bi=!1;function Vi(e){null===ji?ji=[e]:ji.push(e)}function zi(){if(!Bi&&null!==ji){Bi=!0;var e=0,t=_t;try{var n=ji;for(_t=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}ji=null,Fi=!1}catch(i){throw null!==ji&&(ji=ji.slice(e+1)),Ke(Ze,zi),i}finally{_t=t,Bi=!1}}return null}var Gi=[],qi=0,Hi=null,Yi=0,Ki=[],Wi=0,Qi=null,Xi=1,$i="";function Ji(e,t){Gi[qi++]=Yi,Gi[qi++]=Hi,Hi=e,Yi=t}function Zi(e,t,n){Ki[Wi++]=Xi,Ki[Wi++]=$i,Ki[Wi++]=Qi,Qi=e;var r=Xi;e=$i;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Xi=1<<32-ot(t)+i|n<<i|r,$i=a+e}else Xi=1<<a|n<<i|r,$i=e}function ea(e){null!==e.return&&(Ji(e,1),Zi(e,1,0))}function ta(e){for(;e===Hi;)Hi=Gi[--qi],Gi[qi]=null,Yi=Gi[--qi],Gi[qi]=null;for(;e===Qi;)Qi=Ki[--Wi],Ki[Wi]=null,$i=Ki[--Wi],Ki[Wi]=null,Xi=Ki[--Wi],Ki[Wi]=null}var na=null,ra=null,ia=!1,aa=null;function oa(e,t){var n=Dc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function sa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Qi?{id:Xi,overflow:$i}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Dc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function ua(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ca(e){if(ia){var t=ra;if(t){var n=t;if(!sa(e,t)){if(ua(e))throw Error(a(418));t=ci(n.nextSibling);var r=na;t&&sa(e,t)?oa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(ua(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function la(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function fa(e){if(e!==na)return!1;if(!ia)return la(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(ua(e))throw ha(),Error(a(418));for(;t;)oa(e,t),t=ci(t.nextSibling)}if(la(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?ci(e.stateNode.nextSibling):null;return!0}function ha(){for(var e=ra;e;)e=ci(e.nextSibling)}function da(){ra=na=null,ia=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var va=k.ReactCurrentBatchConfig;function ma(e,t){if(e&&e.defaultProps){for(var n in t=U({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ya=Ti(null),ga=null,_a=null,ka=null;function ba(){ka=_a=ga=null}function wa(e){var t=ya.current;Si(ya),e._currentValue=t}function Ea(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ta(e,t){ga=e,ka=_a=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ks=!0),e.firstContext=null)}function Sa(e){var t=e._currentValue;if(ka!==e)if(e={context:e,memoizedValue:t,next:null},null===_a){if(null===ga)throw Error(a(308));_a=e,ga.dependencies={lanes:0,firstContext:e}}else _a=_a.next=e;return t}var xa=null;function Ia(e){null===xa?xa=[e]:xa.push(e)}function Ca(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ia(t)):(n.next=i.next,i.next=n),t.interleaved=n,Na(e,r)}function Na(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ra=!1;function Da(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Aa(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Oa(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Pa(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Cu)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Na(e,n)}return null===(i=r.interleaved)?(t.next=t,Ia(r)):(t.next=i.next,i.next=t),r.interleaved=t,Na(e,n)}function La(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}function Ma(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ua(e,t,n,r){var i=e.updateQueue;Ra=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var u=s,c=u.next;u.next=null,null===o?a=c:o.next=c,o=u;var l=e.alternate;null!==l&&((s=(l=l.updateQueue).lastBaseUpdate)!==o&&(null===s?l.firstBaseUpdate=c:s.next=c,l.lastBaseUpdate=u))}if(null!==a){var f=i.baseState;for(o=0,l=c=u=null,s=a;;){var h=s.lane,d=s.eventTime;if((r&h)===h){null!==l&&(l=l.next={eventTime:d,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,v=s;switch(h=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(d,f,h);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=v.payload)?p.call(d,f,h):p)||void 0===h)break e;f=U({},f,h);break e;case 2:Ra=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[s]:h.push(s))}else d={eventTime:d,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===l?(c=l=d,u=f):l=l.next=d,o|=h;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(h=s).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===l&&(u=f),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Mu|=o,e.lanes=o,e.memoizedState=f}}function ja(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var Fa=(new r.Component).refs;function Ba(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:U({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Va={isMounted:function(e){return!!(e=e._reactInternals)&&ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),a=Oa(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Pa(e,a,i))&&(nc(t,e,i,r),La(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),a=Oa(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Pa(e,a,i))&&(nc(t,e,i,r),La(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),i=Oa(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Pa(e,i,r))&&(nc(t,e,r,n),La(t,e,r))}};function za(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!ur(n,r)||!ur(i,a))}function Ga(e,t,n){var r=!1,i=Ii,a=t.contextType;return"object"===typeof a&&null!==a?a=Sa(a):(i=Ai(t)?Ri:Ci.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Di(e,i):Ii),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Va,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function qa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Va.enqueueReplaceState(t,t.state,null)}function Ha(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Fa,Da(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Sa(a):(a=Ai(t)?Ri:Ci.current,i.context=Di(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(Ba(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Va.enqueueReplaceState(i,i.state,null),Ua(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Ya(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===Fa&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Ka(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Wa(e){return(0,e._init)(e._payload)}function Qa(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Oc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Uc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===E?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===A&&Wa(a)===t.type)?((r=i(t,n.props)).ref=Ya(e,t,n),r.return=e,r):((r=Pc(n.type,n.key,n.props,null,e.mode,r)).ref=Ya(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=jc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Lc(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Uc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case b:return(n=Pc(t.type,t.key,t.props,null,e.mode,n)).ref=Ya(e,null,t),n.return=e,n;case w:return(t=jc(t,e.mode,n)).return=e,t;case A:return h(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Lc(t,e.mode,n,null)).return=e,t;Ka(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case b:return n.key===i?c(e,t,n,r):null;case w:return n.key===i?l(e,t,n,r):null;case A:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:f(e,t,n,r,null);Ka(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case b:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case w:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case A:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return f(t,e=e.get(n)||null,r,i,null);Ka(t,r)}return null}function v(i,a,s,u){for(var c=null,l=null,f=a,v=a=0,m=null;null!==f&&v<s.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var y=d(i,f,s[v],u);if(null===y){null===f&&(f=m);break}e&&f&&null===y.alternate&&t(i,f),a=o(y,a,v),null===l?c=y:l.sibling=y,l=y,f=m}if(v===s.length)return n(i,f),ia&&Ji(i,v),c;if(null===f){for(;v<s.length;v++)null!==(f=h(i,s[v],u))&&(a=o(f,a,v),null===l?c=f:l.sibling=f,l=f);return ia&&Ji(i,v),c}for(f=r(i,f);v<s.length;v++)null!==(m=p(f,i,v,s[v],u))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),a=o(m,a,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),ia&&Ji(i,v),c}function m(i,s,u,c){var l=L(u);if("function"!==typeof l)throw Error(a(150));if(null==(u=l.call(u)))throw Error(a(151));for(var f=l=null,v=s,m=s=0,y=null,g=u.next();null!==v&&!g.done;m++,g=u.next()){v.index>m?(y=v,v=null):y=v.sibling;var _=d(i,v,g.value,c);if(null===_){null===v&&(v=y);break}e&&v&&null===_.alternate&&t(i,v),s=o(_,s,m),null===f?l=_:f.sibling=_,f=_,v=y}if(g.done)return n(i,v),ia&&Ji(i,m),l;if(null===v){for(;!g.done;m++,g=u.next())null!==(g=h(i,g.value,c))&&(s=o(g,s,m),null===f?l=g:f.sibling=g,f=g);return ia&&Ji(i,m),l}for(v=r(i,v);!g.done;m++,g=u.next())null!==(g=p(v,i,m,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?m:g.key),s=o(g,s,m),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),ia&&Ji(i,m),l}return function e(r,a,o,u){if("object"===typeof o&&null!==o&&o.type===E&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case b:e:{for(var c=o.key,l=a;null!==l;){if(l.key===c){if((c=o.type)===E){if(7===l.tag){n(r,l.sibling),(a=i(l,o.props.children)).return=r,r=a;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===A&&Wa(c)===l.type){n(r,l.sibling),(a=i(l,o.props)).ref=Ya(r,l,o),a.return=r,r=a;break e}n(r,l);break}t(r,l),l=l.sibling}o.type===E?((a=Lc(o.props.children,r.mode,u,o.key)).return=r,r=a):((u=Pc(o.type,o.key,o.props,null,r.mode,u)).ref=Ya(r,a,o),u.return=r,r=u)}return s(r);case w:e:{for(l=o.key;null!==a;){if(a.key===l){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=jc(o,r.mode,u)).return=r,r=a}return s(r);case A:return e(r,a,(l=o._init)(o._payload),u)}if(te(o))return v(r,a,o,u);if(L(o))return m(r,a,o,u);Ka(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=Uc(o,r.mode,u)).return=r,r=a),s(r)):n(r,a)}}var Xa=Qa(!0),$a=Qa(!1),Ja={},Za=Ti(Ja),eo=Ti(Ja),to=Ti(Ja);function no(e){if(e===Ja)throw Error(a(174));return e}function ro(e,t){switch(xi(to,t),xi(eo,e),xi(Za,Ja),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ue(null,"");break;default:t=ue(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Si(Za),xi(Za,t)}function io(){Si(Za),Si(eo),Si(to)}function ao(e){no(to.current);var t=no(Za.current),n=ue(t,e.type);t!==n&&(xi(eo,e),xi(Za,n))}function oo(e){eo.current===e&&(Si(Za),Si(eo))}var so=Ti(0);function uo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var co=[];function lo(){for(var e=0;e<co.length;e++)co[e]._workInProgressVersionPrimary=null;co.length=0}var fo=k.ReactCurrentDispatcher,ho=k.ReactCurrentBatchConfig,po=0,vo=null,mo=null,yo=null,go=!1,_o=!1,ko=0,bo=0;function wo(){throw Error(a(321))}function Eo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function To(e,t,n,r,i,o){if(po=o,vo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fo.current=null===e||null===e.memoizedState?ss:us,e=n(r,i),_o){o=0;do{if(_o=!1,ko=0,25<=o)throw Error(a(301));o+=1,yo=mo=null,t.updateQueue=null,fo.current=cs,e=n(r,i)}while(_o)}if(fo.current=os,t=null!==mo&&null!==mo.next,po=0,yo=mo=vo=null,go=!1,t)throw Error(a(300));return e}function So(){var e=0!==ko;return ko=0,e}function xo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===yo?vo.memoizedState=yo=e:yo=yo.next=e,yo}function Io(){if(null===mo){var e=vo.alternate;e=null!==e?e.memoizedState:null}else e=mo.next;var t=null===yo?vo.memoizedState:yo.next;if(null!==t)yo=t,mo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(mo=e).memoizedState,baseState:mo.baseState,baseQueue:mo.baseQueue,queue:mo.queue,next:null},null===yo?vo.memoizedState=yo=e:yo=yo.next=e}return yo}function Co(e,t){return"function"===typeof t?t(e):t}function No(e){var t=Io(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=mo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var u=s=null,c=null,l=o;do{var f=l.lane;if((po&f)===f)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var h={lane:f,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(u=c=h,s=r):c=c.next=h,vo.lanes|=f,Mu|=f}l=l.next}while(null!==l&&l!==o);null===c?s=r:c.next=u,sr(r,t.memoizedState)||(ks=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,vo.lanes|=o,Mu|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ro(e){var t=Io(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);sr(o,t.memoizedState)||(ks=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Do(){}function Ao(e,t){var n=vo,r=Io(),i=t(),o=!sr(r.memoizedState,i);if(o&&(r.memoizedState=i,ks=!0),r=r.queue,qo(Lo.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==yo&&1&yo.memoizedState.tag){if(n.flags|=2048,Fo(9,Po.bind(null,n,r,i,t),void 0,null),null===Nu)throw Error(a(349));0!==(30&po)||Oo(n,t,i)}return i}function Oo(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Po(e,t,n,r){t.value=n,t.getSnapshot=r,Mo(t)&&Uo(e)}function Lo(e,t,n){return n((function(){Mo(t)&&Uo(e)}))}function Mo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function Uo(e){var t=Na(e,1);null!==t&&nc(t,e,1,-1)}function jo(e){var t=xo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Co,lastRenderedState:e},t.queue=e,e=e.dispatch=ns.bind(null,vo,e),[t.memoizedState,e]}function Fo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Bo(){return Io().memoizedState}function Vo(e,t,n,r){var i=xo();vo.flags|=e,i.memoizedState=Fo(1|t,n,void 0,void 0===r?null:r)}function zo(e,t,n,r){var i=Io();r=void 0===r?null:r;var a=void 0;if(null!==mo){var o=mo.memoizedState;if(a=o.destroy,null!==r&&Eo(r,o.deps))return void(i.memoizedState=Fo(t,n,a,r))}vo.flags|=e,i.memoizedState=Fo(1|t,n,a,r)}function Go(e,t){return Vo(8390656,8,e,t)}function qo(e,t){return zo(2048,8,e,t)}function Ho(e,t){return zo(4,2,e,t)}function Yo(e,t){return zo(4,4,e,t)}function Ko(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Wo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,zo(4,4,Ko.bind(null,t,e),n)}function Qo(){}function Xo(e,t){var n=Io();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Eo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function $o(e,t){var n=Io();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Eo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Jo(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,ks=!0),e.memoizedState=n):(sr(n,t)||(n=vt(),vo.lanes|=n,Mu|=n,e.baseState=!0),t)}function Zo(e,t){var n=_t;_t=0!==n&&4>n?n:4,e(!0);var r=ho.transition;ho.transition={};try{e(!1),t()}finally{_t=n,ho.transition=r}}function es(){return Io().memoizedState}function ts(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rs(e))is(t,n);else if(null!==(n=Ca(e,t,n,r))){nc(n,e,r,ec()),as(n,t,r)}}function ns(e,t,n){var r=tc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rs(e))is(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,o)){var u=t.interleaved;return null===u?(i.next=i,Ia(t)):(i.next=u.next,u.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Ca(e,t,i,r))&&(nc(n,e,r,i=ec()),as(n,t,r))}}function rs(e){var t=e.alternate;return e===vo||null!==t&&t===vo}function is(e,t){_o=go=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function as(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}var os={readContext:Sa,useCallback:wo,useContext:wo,useEffect:wo,useImperativeHandle:wo,useInsertionEffect:wo,useLayoutEffect:wo,useMemo:wo,useReducer:wo,useRef:wo,useState:wo,useDebugValue:wo,useDeferredValue:wo,useTransition:wo,useMutableSource:wo,useSyncExternalStore:wo,useId:wo,unstable_isNewReconciler:!1},ss={readContext:Sa,useCallback:function(e,t){return xo().memoizedState=[e,void 0===t?null:t],e},useContext:Sa,useEffect:Go,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Vo(4194308,4,Ko.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Vo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Vo(4,2,e,t)},useMemo:function(e,t){var n=xo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=xo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ts.bind(null,vo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},xo().memoizedState=e},useState:jo,useDebugValue:Qo,useDeferredValue:function(e){return xo().memoizedState=e},useTransition:function(){var e=jo(!1),t=e[0];return e=Zo.bind(null,e[1]),xo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=vo,i=xo();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Nu)throw Error(a(349));0!==(30&po)||Oo(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Go(Lo.bind(null,r,o,e),[e]),r.flags|=2048,Fo(9,Po.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=xo(),t=Nu.identifierPrefix;if(ia){var n=$i;t=":"+t+"R"+(n=(Xi&~(1<<32-ot(Xi)-1)).toString(32)+n),0<(n=ko++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=bo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},us={readContext:Sa,useCallback:Xo,useContext:Sa,useEffect:qo,useImperativeHandle:Wo,useInsertionEffect:Ho,useLayoutEffect:Yo,useMemo:$o,useReducer:No,useRef:Bo,useState:function(){return No(Co)},useDebugValue:Qo,useDeferredValue:function(e){return Jo(Io(),mo.memoizedState,e)},useTransition:function(){return[No(Co)[0],Io().memoizedState]},useMutableSource:Do,useSyncExternalStore:Ao,useId:es,unstable_isNewReconciler:!1},cs={readContext:Sa,useCallback:Xo,useContext:Sa,useEffect:qo,useImperativeHandle:Wo,useInsertionEffect:Ho,useLayoutEffect:Yo,useMemo:$o,useReducer:Ro,useRef:Bo,useState:function(){return Ro(Co)},useDebugValue:Qo,useDeferredValue:function(e){var t=Io();return null===mo?t.memoizedState=e:Jo(t,mo.memoizedState,e)},useTransition:function(){return[Ro(Co)[0],Io().memoizedState]},useMutableSource:Do,useSyncExternalStore:Ao,useId:es,unstable_isNewReconciler:!1};function ls(e,t){try{var n="",r=t;do{n+=V(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function fs(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function hs(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var ds="function"===typeof WeakMap?WeakMap:Map;function ps(e,t,n){(n=Oa(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){qu||(qu=!0,Hu=r),hs(0,t)},n}function vs(e,t,n){(n=Oa(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){hs(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){hs(0,t),"function"!==typeof r&&(null===Yu?Yu=new Set([this]):Yu.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ms(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ds;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Sc.bind(null,e,t,n),t.then(e,e))}function ys(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function gs(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Oa(-1,1)).tag=2,Pa(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var _s=k.ReactCurrentOwner,ks=!1;function bs(e,t,n,r){t.child=null===e?$a(t,null,n,r):Xa(t,e.child,n,r)}function ws(e,t,n,r,i){n=n.render;var a=t.ref;return Ta(t,i),r=To(e,t,n,r,a,i),n=So(),null===e||ks?(ia&&n&&ea(t),t.flags|=1,bs(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,qs(e,t,i))}function Es(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Ac(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Pc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Ts(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:ur)(o,r)&&e.ref===t.ref)return qs(e,t,i)}return t.flags|=1,(e=Oc(a,r)).ref=t.ref,e.return=t,t.child=e}function Ts(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(ur(a,r)&&e.ref===t.ref){if(ks=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,qs(e,t,i);0!==(131072&e.flags)&&(ks=!0)}}return Is(e,t,n,r,i)}function Ss(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},xi(Ou,Au),Au|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,xi(Ou,Au),Au|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,xi(Ou,Au),Au|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,xi(Ou,Au),Au|=r;return bs(e,t,i,n),t.child}function xs(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Is(e,t,n,r,i){var a=Ai(n)?Ri:Ci.current;return a=Di(t,a),Ta(t,i),n=To(e,t,n,r,a,i),r=So(),null===e||ks?(ia&&r&&ea(t),t.flags|=1,bs(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,qs(e,t,i))}function Cs(e,t,n,r,i){if(Ai(n)){var a=!0;Mi(t)}else a=!1;if(Ta(t,i),null===t.stateNode)Gs(e,t),Ga(t,n,r),Ha(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var u=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Sa(c):c=Di(t,c=Ai(n)?Ri:Ci.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||u!==c)&&qa(t,o,r,c),Ra=!1;var h=t.memoizedState;o.state=h,Ua(t,r,o,i),u=t.memoizedState,s!==r||h!==u||Ni.current||Ra?("function"===typeof l&&(Ba(t,n,l,r),u=t.memoizedState),(s=Ra||za(t,n,s,r,h,u,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=c,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Aa(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:ma(t.type,s),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(u=n.contextType)&&null!==u?u=Sa(u):u=Di(t,u=Ai(n)?Ri:Ci.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==f||h!==u)&&qa(t,o,r,u),Ra=!1,h=t.memoizedState,o.state=h,Ua(t,r,o,i);var p=t.memoizedState;s!==f||h!==p||Ni.current||Ra?("function"===typeof d&&(Ba(t,n,d,r),p=t.memoizedState),(c=Ra||za(t,n,c,r,h,p,u)||!1)?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,u),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=u,r=c):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Ns(e,t,n,r,a,i)}function Ns(e,t,n,r,i,a){xs(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Ui(t,n,!1),qs(e,t,a);r=t.stateNode,_s.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Xa(t,e.child,null,a),t.child=Xa(t,null,s,a)):bs(e,t,s,a),t.memoizedState=r.state,i&&Ui(t,n,!0),t.child}function Rs(e){var t=e.stateNode;t.pendingContext?Pi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Pi(0,t.context,!1),ro(e,t.containerInfo)}function Ds(e,t,n,r,i){return da(),pa(i),t.flags|=256,bs(e,t,n,r),t.child}var As,Os,Ps,Ls={dehydrated:null,treeContext:null,retryLane:0};function Ms(e){return{baseLanes:e,cachePool:null,transitions:null}}function Us(e,t,n){var r,i=t.pendingProps,o=so.current,s=!1,u=0!==(128&t.flags);if((r=u)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),xi(so,1&o),null===e)return ca(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(u=i.children,e=i.fallback,s?(i=t.mode,s=t.child,u={mode:"hidden",children:u},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=u):s=Mc(u,i,0,null),e=Lc(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Ms(n),t.memoizedState=Ls,e):js(t,u));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,s){if(n)return 256&t.flags?(t.flags&=-257,Fs(e,t,s,r=fs(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Mc({mode:"visible",children:r.children},i,0,null),(o=Lc(o,i,s,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&Xa(t,e.child,null,s),t.child.memoizedState=Ms(s),t.memoizedState=Ls,o);if(0===(1&t.mode))return Fs(e,t,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var u=r.dgst;return r=u,Fs(e,t,s,r=fs(o=Error(a(419)),r,void 0))}if(u=0!==(s&e.childLanes),ks||u){if(null!==(r=Nu)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|s))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Na(e,i),nc(r,e,i,-1))}return vc(),Fs(e,t,s,r=fs(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Ic.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ra=ci(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Ki[Wi++]=Xi,Ki[Wi++]=$i,Ki[Wi++]=Qi,Xi=e.id,$i=e.overflow,Qi=t),(t=js(t,r.children)).flags|=4096,t)}(e,t,u,i,r,o,n);if(s){s=i.fallback,u=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&u)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Oc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?s=Oc(r,s):(s=Lc(s,u,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,u=null===(u=e.child.memoizedState)?Ms(n):{baseLanes:u.baseLanes|n,cachePool:null,transitions:u.transitions},s.memoizedState=u,s.childLanes=e.childLanes&~n,t.memoizedState=Ls,i}return e=(s=e.child).sibling,i=Oc(s,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function js(e,t){return(t=Mc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Fs(e,t,n,r){return null!==r&&pa(r),Xa(t,e.child,null,n),(e=js(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Bs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ea(e.return,t,n)}function Vs(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function zs(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(bs(e,t,r.children,n),0!==(2&(r=so.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Bs(e,n,t);else if(19===e.tag)Bs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(xi(so,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===uo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Vs(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===uo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Vs(t,!0,n,null,a);break;case"together":Vs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Gs(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function qs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Mu|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Oc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Oc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Hs(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ys(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ks(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ys(t),null;case 1:case 17:return Ai(t.type)&&Oi(),Ys(t),null;case 3:return r=t.stateNode,io(),Si(Ni),Si(Ci),lo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fa(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(oc(aa),aa=null))),Ys(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Os(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Ys(t),null}if(e=no(Za.current),fa(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[hi]=t,r[di]=o,e=0!==(1&t.mode),n){case"dialog":Fr("cancel",r),Fr("close",r);break;case"iframe":case"object":case"embed":Fr("load",r);break;case"video":case"audio":for(i=0;i<Lr.length;i++)Fr(Lr[i],r);break;case"source":Fr("error",r);break;case"img":case"image":case"link":Fr("error",r),Fr("load",r);break;case"details":Fr("toggle",r);break;case"input":X(r,o),Fr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Fr("invalid",r);break;case"textarea":ie(r,o),Fr("invalid",r)}for(var u in ge(n,o),i=null,o)if(o.hasOwnProperty(u)){var c=o[u];"children"===u?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",""+c]):s.hasOwnProperty(u)&&null!=c&&"onScroll"===u&&Fr("scroll",r)}switch(n){case"input":Y(r),Z(r,o,!0);break;case"textarea":Y(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{u=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),"select"===n&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[hi]=t,e[di]=r,As(e,t),t.stateNode=e;e:{switch(u=_e(n,r),n){case"dialog":Fr("cancel",e),Fr("close",e),i=r;break;case"iframe":case"object":case"embed":Fr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Lr.length;i++)Fr(Lr[i],e);i=r;break;case"source":Fr("error",e),i=r;break;case"img":case"image":case"link":Fr("error",e),Fr("load",e),i=r;break;case"details":Fr("toggle",e),i=r;break;case"input":X(e,r),i=Q(e,r),Fr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=U({},r,{value:void 0}),Fr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Fr("invalid",e)}for(o in ge(n,i),c=i)if(c.hasOwnProperty(o)){var l=c[o];"style"===o?me(e,l):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&fe(e,l):"children"===o?"string"===typeof l?("textarea"!==n||""!==l)&&he(e,l):"number"===typeof l&&he(e,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(s.hasOwnProperty(o)?null!=l&&"onScroll"===o&&Fr("scroll",e):null!=l&&_(e,o,l,u))}switch(n){case"input":Y(e),Z(e,r,!1);break;case"textarea":Y(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+q(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ys(t),null;case 6:if(e&&null!=t.stateNode)Ps(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=no(to.current),no(Za.current),fa(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(o=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Ys(t),null;case 13:if(Si(so),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))ha(),da(),t.flags|=98560,o=!1;else if(o=fa(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[hi]=t}else da(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ys(t),o=!1}else null!==aa&&(oc(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&so.current)?0===Pu&&(Pu=3):vc())),null!==t.updateQueue&&(t.flags|=4),Ys(t),null);case 4:return io(),null===e&&zr(t.stateNode.containerInfo),Ys(t),null;case 10:return wa(t.type._context),Ys(t),null;case 19:if(Si(so),null===(o=t.memoizedState))return Ys(t),null;if(r=0!==(128&t.flags),null===(u=o.rendering))if(r)Hs(o,!1);else{if(0!==Pu||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(u=uo(e))){for(t.flags|=128,Hs(o,!1),null!==(r=u.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(u=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=u.childLanes,o.lanes=u.lanes,o.child=u.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=u.memoizedProps,o.memoizedState=u.memoizedState,o.updateQueue=u.updateQueue,o.type=u.type,e=u.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return xi(so,1&so.current|2),t.child}e=e.sibling}null!==o.tail&&$e()>zu&&(t.flags|=128,r=!0,Hs(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=uo(u))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Hs(o,!0),null===o.tail&&"hidden"===o.tailMode&&!u.alternate&&!ia)return Ys(t),null}else 2*$e()-o.renderingStartTime>zu&&1073741824!==n&&(t.flags|=128,r=!0,Hs(o,!1),t.lanes=4194304);o.isBackwards?(u.sibling=t.child,t.child=u):(null!==(n=o.last)?n.sibling=u:t.child=u,o.last=u)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=$e(),t.sibling=null,n=so.current,xi(so,r?1&n|2:1&n),t):(Ys(t),null);case 22:case 23:return fc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Au)&&(Ys(t),6&t.subtreeFlags&&(t.flags|=8192)):Ys(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Ws(e,t){switch(ta(t),t.tag){case 1:return Ai(t.type)&&Oi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),Si(Ni),Si(Ci),lo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(Si(so),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));da()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Si(so),null;case 4:return io(),null;case 10:return wa(t.type._context),null;case 22:case 23:return fc(),null;default:return null}}As=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Os=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no(Za.current);var a,o=null;switch(n){case"input":i=Q(e,i),r=Q(e,r),o=[];break;case"select":i=U({},i,{value:void 0}),r=U({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(l in ge(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var u=i[l];for(a in u)u.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(s.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var c=r[l];if(u=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==u&&(null!=c||null!=u))if("style"===l)if(u){for(a in u)!u.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&u[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,u=u?u.__html:void 0,null!=c&&u!==c&&(o=o||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(s.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&Fr("scroll",e),o||u===c||(o=[])):(o=o||[]).push(l,c))}n&&(o=o||[]).push("style",n);var l=o;(t.updateQueue=l)&&(t.flags|=4)}},Ps=function(e,t,n,r){n!==r&&(t.flags|=4)};var Qs=!1,Xs=!1,$s="function"===typeof WeakSet?WeakSet:Set,Js=null;function Zs(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Tc(e,t,r)}else n.current=null}function eu(e,t,n){try{n()}catch(r){Tc(e,t,r)}}var tu=!1;function nu(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&eu(t,n,a)}i=i.next}while(i!==r)}}function ru(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function iu(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function au(e){var t=e.alternate;null!==t&&(e.alternate=null,au(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[di],delete t[vi],delete t[mi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ou(e){return 5===e.tag||3===e.tag||4===e.tag}function su(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ou(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function uu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(uu(e,t,n),e=e.sibling;null!==e;)uu(e,t,n),e=e.sibling}function cu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cu(e,t,n),e=e.sibling;null!==e;)cu(e,t,n),e=e.sibling}var lu=null,fu=!1;function hu(e,t,n){for(n=n.child;null!==n;)du(e,t,n),n=n.sibling}function du(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(s){}switch(n.tag){case 5:Xs||Zs(n,t);case 6:var r=lu,i=fu;lu=null,hu(e,t,n),fu=i,null!==(lu=r)&&(fu?(e=lu,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):lu.removeChild(n.stateNode));break;case 18:null!==lu&&(fu?(e=lu,n=n.stateNode,8===e.nodeType?ui(e.parentNode,n):1===e.nodeType&&ui(e,n),zt(e)):ui(lu,n.stateNode));break;case 4:r=lu,i=fu,lu=n.stateNode.containerInfo,fu=!0,hu(e,t,n),lu=r,fu=i;break;case 0:case 11:case 14:case 15:if(!Xs&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&eu(n,t,o),i=i.next}while(i!==r)}hu(e,t,n);break;case 1:if(!Xs&&(Zs(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Tc(n,t,s)}hu(e,t,n);break;case 21:hu(e,t,n);break;case 22:1&n.mode?(Xs=(r=Xs)||null!==n.memoizedState,hu(e,t,n),Xs=r):hu(e,t,n);break;default:hu(e,t,n)}}function pu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new $s),t.forEach((function(t){var r=Cc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function vu(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,u=s;e:for(;null!==u;){switch(u.tag){case 5:lu=u.stateNode,fu=!1;break e;case 3:case 4:lu=u.stateNode.containerInfo,fu=!0;break e}u=u.return}if(null===lu)throw Error(a(160));du(o,s,i),lu=null,fu=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(l){Tc(i,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)mu(t,e),t=t.sibling}function mu(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(vu(t,e),yu(e),4&r){try{nu(3,e,e.return),ru(3,e)}catch(m){Tc(e,e.return,m)}try{nu(5,e,e.return)}catch(m){Tc(e,e.return,m)}}break;case 1:vu(t,e),yu(e),512&r&&null!==n&&Zs(n,n.return);break;case 5:if(vu(t,e),yu(e),512&r&&null!==n&&Zs(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(m){Tc(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,s=null!==n?n.memoizedProps:o,u=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===u&&"radio"===o.type&&null!=o.name&&$(i,o),_e(u,s);var l=_e(u,o);for(s=0;s<c.length;s+=2){var f=c[s],h=c[s+1];"style"===f?me(i,h):"dangerouslySetInnerHTML"===f?fe(i,h):"children"===f?he(i,h):_(i,f,h,l)}switch(u){case"input":J(i,o);break;case"textarea":ae(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):d!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[di]=o}catch(m){Tc(e,e.return,m)}}break;case 6:if(vu(t,e),yu(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(m){Tc(e,e.return,m)}}break;case 3:if(vu(t,e),yu(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{zt(t.containerInfo)}catch(m){Tc(e,e.return,m)}break;case 4:default:vu(t,e),yu(e);break;case 13:vu(t,e),yu(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(Vu=$e())),4&r&&pu(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?(Xs=(l=Xs)||f,vu(t,e),Xs=l):vu(t,e),yu(e),8192&r){if(l=null!==e.memoizedState,(e.stateNode.isHidden=l)&&!f&&0!==(1&e.mode))for(Js=e,f=e.child;null!==f;){for(h=Js=f;null!==Js;){switch(p=(d=Js).child,d.tag){case 0:case 11:case 14:case 15:nu(4,d,d.return);break;case 1:Zs(d,d.return);var v=d.stateNode;if("function"===typeof v.componentWillUnmount){r=d,n=d.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(m){Tc(r,n,m)}}break;case 5:Zs(d,d.return);break;case 22:if(null!==d.memoizedState){bu(h);continue}}null!==p?(p.return=d,Js=p):bu(h)}f=f.sibling}e:for(f=null,h=e;;){if(5===h.tag){if(null===f){f=h;try{i=h.stateNode,l?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(u=h.stateNode,s=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,u.style.display=ve("display",s))}catch(m){Tc(e,e.return,m)}}}else if(6===h.tag){if(null===f)try{h.stateNode.nodeValue=l?"":h.memoizedProps}catch(m){Tc(e,e.return,m)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:vu(t,e),yu(e),4&r&&pu(e);case 21:}}function yu(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ou(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),cu(e,su(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;uu(e,su(e),o);break;default:throw Error(a(161))}}catch(s){Tc(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function gu(e,t,n){Js=e,_u(e,t,n)}function _u(e,t,n){for(var r=0!==(1&e.mode);null!==Js;){var i=Js,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Qs;if(!o){var s=i.alternate,u=null!==s&&null!==s.memoizedState||Xs;s=Qs;var c=Xs;if(Qs=o,(Xs=u)&&!c)for(Js=i;null!==Js;)u=(o=Js).child,22===o.tag&&null!==o.memoizedState?wu(i):null!==u?(u.return=o,Js=u):wu(i);for(;null!==a;)Js=a,_u(a,t,n),a=a.sibling;Js=i,Qs=s,Xs=c}ku(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Js=a):ku(e)}}function ku(e){for(;null!==Js;){var t=Js;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Xs||ru(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Xs)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ma(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&ja(t,o,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}ja(t,s,n)}break;case 5:var u=t.stateNode;if(null===n&&4&t.flags){n=u;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var f=l.memoizedState;if(null!==f){var h=f.dehydrated;null!==h&&zt(h)}}}break;default:throw Error(a(163))}Xs||512&t.flags&&iu(t)}catch(d){Tc(t,t.return,d)}}if(t===e){Js=null;break}if(null!==(n=t.sibling)){n.return=t.return,Js=n;break}Js=t.return}}function bu(e){for(;null!==Js;){var t=Js;if(t===e){Js=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Js=n;break}Js=t.return}}function wu(e){for(;null!==Js;){var t=Js;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ru(4,t)}catch(u){Tc(t,n,u)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(u){Tc(t,i,u)}}var a=t.return;try{iu(t)}catch(u){Tc(t,a,u)}break;case 5:var o=t.return;try{iu(t)}catch(u){Tc(t,o,u)}}}catch(u){Tc(t,t.return,u)}if(t===e){Js=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Js=s;break}Js=t.return}}var Eu,Tu=Math.ceil,Su=k.ReactCurrentDispatcher,xu=k.ReactCurrentOwner,Iu=k.ReactCurrentBatchConfig,Cu=0,Nu=null,Ru=null,Du=0,Au=0,Ou=Ti(0),Pu=0,Lu=null,Mu=0,Uu=0,ju=0,Fu=null,Bu=null,Vu=0,zu=1/0,Gu=null,qu=!1,Hu=null,Yu=null,Ku=!1,Wu=null,Qu=0,Xu=0,$u=null,Ju=-1,Zu=0;function ec(){return 0!==(6&Cu)?$e():-1!==Ju?Ju:Ju=$e()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Cu)&&0!==Du?Du&-Du:null!==va.transition?(0===Zu&&(Zu=vt()),Zu):0!==(e=_t)?e:e=void 0===(e=window.event)?16:Xt(e.type)}function nc(e,t,n,r){if(50<Xu)throw Xu=0,$u=null,Error(a(185));yt(e,n,r),0!==(2&Cu)&&e===Nu||(e===Nu&&(0===(2&Cu)&&(Uu|=n),4===Pu&&sc(e,Du)),rc(e,r),1===n&&0===Cu&&0===(1&t.mode)&&(zu=$e()+500,Fi&&zi()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),s=1<<o,u=i[o];-1===u?0!==(s&n)&&0===(s&r)||(i[o]=dt(s,t)):u<=t&&(e.expiredLanes|=s),a&=~s}}(e,t);var r=ht(e,e===Nu?Du:0);if(0===r)null!==n&&We(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&We(n),1===t)0===e.tag?function(e){Fi=!0,Vi(e)}(uc.bind(null,e)):Vi(uc.bind(null,e)),oi((function(){0===(6&Cu)&&zi()})),n=null;else{switch(kt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Nc(n,ic.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ic(e,t){if(Ju=-1,Zu=0,0!==(6&Cu))throw Error(a(327));var n=e.callbackNode;if(wc()&&e.callbackNode!==n)return null;var r=ht(e,e===Nu?Du:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=mc(e,r);else{t=r;var i=Cu;Cu|=2;var o=pc();for(Nu===e&&Du===t||(Gu=null,zu=$e()+500,hc(e,t));;)try{gc();break}catch(u){dc(e,u)}ba(),Su.current=o,Cu=i,null!==Ru?t=0:(Nu=null,Du=0,t=Pu)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=ac(e,i))),1===t)throw n=Lu,hc(e,0),sc(e,r),rc(e,$e()),n;if(6===t)sc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!sr(a(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=mc(e,r))&&(0!==(o=pt(e))&&(r=o,t=ac(e,o))),1===t))throw n=Lu,hc(e,0),sc(e,r),rc(e,$e()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:bc(e,Bu,Gu);break;case 3:if(sc(e,r),(130023424&r)===r&&10<(t=Vu+500-$e())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(bc.bind(null,e,Bu,Gu),t);break}bc(e,Bu,Gu);break;case 4:if(sc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-ot(r);o=1<<s,(s=t[s])>i&&(i=s),r&=~o}if(r=i,10<(r=(120>(r=$e()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Tu(r/1960))-r)){e.timeoutHandle=ri(bc.bind(null,e,Bu,Gu),r);break}bc(e,Bu,Gu);break;default:throw Error(a(329))}}}return rc(e,$e()),e.callbackNode===n?ic.bind(null,e):null}function ac(e,t){var n=Fu;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=mc(e,t))&&(t=Bu,Bu=n,null!==t&&oc(t)),e}function oc(e){null===Bu?Bu=e:Bu.push.apply(Bu,e)}function sc(e,t){for(t&=~ju,t&=~Uu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function uc(e){if(0!==(6&Cu))throw Error(a(327));wc();var t=ht(e,0);if(0===(1&t))return rc(e,$e()),null;var n=mc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=ac(e,r))}if(1===n)throw n=Lu,hc(e,0),sc(e,t),rc(e,$e()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,bc(e,Bu,Gu),rc(e,$e()),null}function cc(e,t){var n=Cu;Cu|=1;try{return e(t)}finally{0===(Cu=n)&&(zu=$e()+500,Fi&&zi())}}function lc(e){null!==Wu&&0===Wu.tag&&0===(6&Cu)&&wc();var t=Cu;Cu|=1;var n=Iu.transition,r=_t;try{if(Iu.transition=null,_t=1,e)return e()}finally{_t=r,Iu.transition=n,0===(6&(Cu=t))&&zi()}}function fc(){Au=Ou.current,Si(Ou)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Ru)for(n=Ru.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Oi();break;case 3:io(),Si(Ni),Si(Ci),lo();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:Si(so);break;case 10:wa(r.type._context);break;case 22:case 23:fc()}n=n.return}if(Nu=e,Ru=e=Oc(e.current,null),Du=Au=t,Pu=0,Lu=null,ju=Uu=Mu=0,Bu=Fu=null,null!==xa){for(t=0;t<xa.length;t++)if(null!==(r=(n=xa[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}xa=null}return e}function dc(e,t){for(;;){var n=Ru;try{if(ba(),fo.current=os,go){for(var r=vo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}go=!1}if(po=0,yo=mo=vo=null,_o=!1,ko=0,xu.current=null,null===n||null===n.return){Pu=1,Lu=t,Ru=null;break}e:{var o=e,s=n.return,u=n,c=t;if(t=Du,u.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,f=u,h=f.tag;if(0===(1&f.mode)&&(0===h||11===h||15===h)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=ys(s);if(null!==p){p.flags&=-257,gs(p,s,u,0,t),1&p.mode&&ms(o,l,t),c=l;var v=(t=p).updateQueue;if(null===v){var m=new Set;m.add(c),t.updateQueue=m}else v.add(c);break e}if(0===(1&t)){ms(o,l,t),vc();break e}c=Error(a(426))}else if(ia&&1&u.mode){var y=ys(s);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),gs(y,s,u,0,t),pa(ls(c,u));break e}}o=c=ls(c,u),4!==Pu&&(Pu=2),null===Fu?Fu=[o]:Fu.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Ma(o,ps(0,c,t));break e;case 1:u=c;var g=o.type,_=o.stateNode;if(0===(128&o.flags)&&("function"===typeof g.getDerivedStateFromError||null!==_&&"function"===typeof _.componentDidCatch&&(null===Yu||!Yu.has(_)))){o.flags|=65536,t&=-t,o.lanes|=t,Ma(o,vs(o,u,t));break e}}o=o.return}while(null!==o)}kc(n)}catch(k){t=k,Ru===n&&null!==n&&(Ru=n=n.return);continue}break}}function pc(){var e=Su.current;return Su.current=os,null===e?os:e}function vc(){0!==Pu&&3!==Pu&&2!==Pu||(Pu=4),null===Nu||0===(268435455&Mu)&&0===(268435455&Uu)||sc(Nu,Du)}function mc(e,t){var n=Cu;Cu|=2;var r=pc();for(Nu===e&&Du===t||(Gu=null,hc(e,t));;)try{yc();break}catch(i){dc(e,i)}if(ba(),Cu=n,Su.current=r,null!==Ru)throw Error(a(261));return Nu=null,Du=0,Pu}function yc(){for(;null!==Ru;)_c(Ru)}function gc(){for(;null!==Ru&&!Qe();)_c(Ru)}function _c(e){var t=Eu(e.alternate,e,Au);e.memoizedProps=e.pendingProps,null===t?kc(e):Ru=t,xu.current=null}function kc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Ks(n,t,Au)))return void(Ru=n)}else{if(null!==(n=Ws(n,t)))return n.flags&=32767,void(Ru=n);if(null===e)return Pu=6,void(Ru=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Ru=t);Ru=t=e}while(null!==t);0===Pu&&(Pu=5)}function bc(e,t,n){var r=_t,i=Iu.transition;try{Iu.transition=null,_t=1,function(e,t,n,r){do{wc()}while(null!==Wu);if(0!==(6&Cu))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===Nu&&(Ru=Nu=null,Du=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Ku||(Ku=!0,Nc(tt,(function(){return wc(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Iu.transition,Iu.transition=null;var s=_t;_t=1;var u=Cu;Cu|=4,xu.current=null,function(e,t){if(ei=qt,dr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(b){n=null;break e}var s=0,u=-1,c=-1,l=0,f=0,h=e,d=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(u=s+i),h!==o||0!==r&&3!==h.nodeType||(c=s+r),3===h.nodeType&&(s+=h.nodeValue.length),null!==(p=h.firstChild);)d=h,h=p;for(;;){if(h===e)break t;if(d===n&&++l===i&&(u=s),d===o&&++f===r&&(c=s),null!==(p=h.nextSibling))break;d=(h=d).parentNode}h=p}n=-1===u||-1===c?null:{start:u,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},qt=!1,Js=t;null!==Js;)if(e=(t=Js).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Js=e;else for(;null!==Js;){t=Js;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,y=v.memoizedState,g=t.stateNode,_=g.getSnapshotBeforeUpdate(t.elementType===t.type?m:ma(t.type,m),y);g.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var k=t.stateNode.containerInfo;1===k.nodeType?k.textContent="":9===k.nodeType&&k.documentElement&&k.removeChild(k.documentElement);break;default:throw Error(a(163))}}catch(b){Tc(t,t.return,b)}if(null!==(e=t.sibling)){e.return=t.return,Js=e;break}Js=t.return}v=tu,tu=!1}(e,n),mu(n,e),pr(ti),qt=!!ei,ti=ei=null,e.current=n,gu(n,e,i),Xe(),Cu=u,_t=s,Iu.transition=o}else e.current=n;if(Ku&&(Ku=!1,Wu=e,Qu=i),0===(o=e.pendingLanes)&&(Yu=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,$e()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)r((i=t[n]).value,{componentStack:i.stack,digest:i.digest});if(qu)throw qu=!1,e=Hu,Hu=null,e;0!==(1&Qu)&&0!==e.tag&&wc(),0!==(1&(o=e.pendingLanes))?e===$u?Xu++:(Xu=0,$u=e):Xu=0,zi()}(e,t,n,r)}finally{Iu.transition=i,_t=r}return null}function wc(){if(null!==Wu){var e=kt(Qu),t=Iu.transition,n=_t;try{if(Iu.transition=null,_t=16>e?16:e,null===Wu)var r=!1;else{if(e=Wu,Wu=null,Qu=0,0!==(6&Cu))throw Error(a(331));var i=Cu;for(Cu|=4,Js=e.current;null!==Js;){var o=Js,s=o.child;if(0!==(16&Js.flags)){var u=o.deletions;if(null!==u){for(var c=0;c<u.length;c++){var l=u[c];for(Js=l;null!==Js;){var f=Js;switch(f.tag){case 0:case 11:case 15:nu(8,f,o)}var h=f.child;if(null!==h)h.return=f,Js=h;else for(;null!==Js;){var d=(f=Js).sibling,p=f.return;if(au(f),f===l){Js=null;break}if(null!==d){d.return=p,Js=d;break}Js=p}}}var v=o.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(null!==m)}}Js=o}}if(0!==(2064&o.subtreeFlags)&&null!==s)s.return=o,Js=s;else e:for(;null!==Js;){if(0!==(2048&(o=Js).flags))switch(o.tag){case 0:case 11:case 15:nu(9,o,o.return)}var g=o.sibling;if(null!==g){g.return=o.return,Js=g;break e}Js=o.return}}var _=e.current;for(Js=_;null!==Js;){var k=(s=Js).child;if(0!==(2064&s.subtreeFlags)&&null!==k)k.return=s,Js=k;else e:for(s=_;null!==Js;){if(0!==(2048&(u=Js).flags))try{switch(u.tag){case 0:case 11:case 15:ru(9,u)}}catch(w){Tc(u,u.return,w)}if(u===s){Js=null;break e}var b=u.sibling;if(null!==b){b.return=u.return,Js=b;break e}Js=u.return}}if(Cu=i,zi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(w){}r=!0}return r}finally{_t=n,Iu.transition=t}}return!1}function Ec(e,t,n){e=Pa(e,t=ps(0,t=ls(n,t),1),1),t=ec(),null!==e&&(yt(e,1,t),rc(e,t))}function Tc(e,t,n){if(3===e.tag)Ec(e,e,n);else for(;null!==t;){if(3===t.tag){Ec(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Yu||!Yu.has(r))){t=Pa(t,e=vs(t,e=ls(n,e),1),1),e=ec(),null!==t&&(yt(t,1,e),rc(t,e));break}}t=t.return}}function Sc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,Nu===e&&(Du&n)===n&&(4===Pu||3===Pu&&(130023424&Du)===Du&&500>$e()-Vu?hc(e,0):ju|=n),rc(e,t)}function xc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=ec();null!==(e=Na(e,t))&&(yt(e,t,n),rc(e,n))}function Ic(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),xc(e,n)}function Cc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),xc(e,n)}function Nc(e,t){return Ke(e,t)}function Rc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dc(e,t,n,r){return new Rc(e,t,n,r)}function Ac(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Oc(e,t){var n=e.alternate;return null===n?((n=Dc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Pc(e,t,n,r,i,o){var s=2;if(r=e,"function"===typeof e)Ac(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case E:return Lc(n.children,i,o,t);case T:s=8,i|=8;break;case S:return(e=Dc(12,n,t,2|i)).elementType=S,e.lanes=o,e;case N:return(e=Dc(13,n,t,i)).elementType=N,e.lanes=o,e;case R:return(e=Dc(19,n,t,i)).elementType=R,e.lanes=o,e;case O:return Mc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case x:s=10;break e;case I:s=9;break e;case C:s=11;break e;case D:s=14;break e;case A:s=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Dc(s,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Lc(e,t,n,r){return(e=Dc(7,e,r,t)).lanes=n,e}function Mc(e,t,n,r){return(e=Dc(22,e,r,t)).elementType=O,e.lanes=n,e.stateNode={isHidden:!1},e}function Uc(e,t,n){return(e=Dc(6,e,null,t)).lanes=n,e}function jc(e,t,n){return(t=Dc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Fc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Bc(e,t,n,r,i,a,o,s,u){return e=new Fc(e,t,n,s,u),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Dc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Da(a),e}function Vc(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:w,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function zc(e){if(!e)return Ii;e:{if(ze(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ai(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Ai(n))return Li(e,n,t)}return t}function Gc(e,t,n,r,i,a,o,s,u){return(e=Bc(n,r,!0,e,0,a,0,s,u)).context=zc(null),n=e.current,(a=Oa(r=ec(),i=tc(n))).callback=void 0!==t&&null!==t?t:null,Pa(n,a,i),e.current.lanes=i,yt(e,i,r),rc(e,r),e}function qc(e,t,n,r){var i=t.current,a=ec(),o=tc(i);return n=zc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Oa(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Pa(i,t,o))&&(nc(e,i,o,a),La(e,i,o)),o}function Hc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Yc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Kc(e,t){Yc(e,t),(e=e.alternate)&&Yc(e,t)}Eu=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ni.current)ks=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return ks=!1,function(e,t,n){switch(t.tag){case 3:Rs(t),da();break;case 5:ao(t);break;case 1:Ai(t.type)&&Mi(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;xi(ya,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(xi(so,1&so.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Us(e,t,n):(xi(so,1&so.current),null!==(e=qs(e,t,n))?e.sibling:null);xi(so,1&so.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return zs(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),xi(so,so.current),r)break;return null;case 22:case 23:return t.lanes=0,Ss(e,t,n)}return qs(e,t,n)}(e,t,n);ks=0!==(131072&e.flags)}else ks=!1,ia&&0!==(1048576&t.flags)&&Zi(t,Yi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Gs(e,t),e=t.pendingProps;var i=Di(t,Ci.current);Ta(t,n),i=To(null,t,r,e,i,n);var o=So();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ai(r)?(o=!0,Mi(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Da(t),i.updater=Va,t.stateNode=i,i._reactInternals=t,Ha(t,r,e,n),t=Ns(null,t,r,!0,o,n)):(t.tag=0,ia&&o&&ea(t),bs(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Gs(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Ac(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===D)return 14}return 2}(r),e=ma(r,e),i){case 0:t=Is(null,t,r,e,n);break e;case 1:t=Cs(null,t,r,e,n);break e;case 11:t=ws(null,t,r,e,n);break e;case 14:t=Es(null,t,r,ma(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Is(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 1:return r=t.type,i=t.pendingProps,Cs(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 3:e:{if(Rs(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,Aa(e,t),Ua(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Ds(e,t,r,n,i=ls(Error(a(423)),t));break e}if(r!==i){t=Ds(e,t,r,n,i=ls(Error(a(424)),t));break e}for(ra=ci(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=$a(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(da(),r===i){t=qs(e,t,n);break e}bs(e,t,r,n)}t=t.child}return t;case 5:return ao(t),null===e&&ca(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,ni(r,i)?s=null:null!==o&&ni(r,o)&&(t.flags|=32),xs(e,t),bs(e,t,s,n),t.child;case 6:return null===e&&ca(t),null;case 13:return Us(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Xa(t,null,r,n):bs(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,ws(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 7:return bs(e,t,t.pendingProps,n),t.child;case 8:case 12:return bs(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,xi(ya,r._currentValue),r._currentValue=s,null!==o)if(sr(o.value,s)){if(o.children===i.children&&!Ni.current){t=qs(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var u=o.dependencies;if(null!==u){s=o.child;for(var c=u.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=Oa(-1,n&-n)).tag=2;var l=o.updateQueue;if(null!==l){var f=(l=l.shared).pending;null===f?c.next=c:(c.next=f.next,f.next=c),l.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),Ea(o.return,n,t),u.lanes|=n;break}c=c.next}}else if(10===o.tag)s=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(s=o.return))throw Error(a(341));s.lanes|=n,null!==(u=s.alternate)&&(u.lanes|=n),Ea(s,n,t),s=o.sibling}else s=o.child;if(null!==s)s.return=o;else for(s=o;null!==s;){if(s===t){s=null;break}if(null!==(o=s.sibling)){o.return=s.return,s=o;break}s=s.return}o=s}bs(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ta(t,n),r=r(i=Sa(i)),t.flags|=1,bs(e,t,r,n),t.child;case 14:return i=ma(r=t.type,t.pendingProps),Es(e,t,r,i=ma(r.type,i),n);case 15:return Ts(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ma(r,i),Gs(e,t),t.tag=1,Ai(r)?(e=!0,Mi(t)):e=!1,Ta(t,n),Ga(t,r,i),Ha(t,r,i,n),Ns(null,t,r,!0,e,n);case 19:return zs(e,t,n);case 22:return Ss(e,t,n)}throw Error(a(156,t.tag))};var Wc="function"===typeof reportError?reportError:function(e){console.error(e)};function Qc(e){this._internalRoot=e}function Xc(e){this._internalRoot=e}function $c(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zc(){}function el(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var s=i;i=function(){var e=Hc(o);s.call(e)}}qc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Hc(o);a.call(e)}}var o=Gc(t,r,e,0,null,!1,0,"",Zc);return e._reactRootContainer=o,e[pi]=o.current,zr(8===e.nodeType?e.parentNode:e),lc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var s=r;r=function(){var e=Hc(u);s.call(e)}}var u=Bc(e,0,!1,null,0,!1,0,"",Zc);return e._reactRootContainer=u,e[pi]=u.current,zr(8===e.nodeType?e.parentNode:e),lc((function(){qc(t,u,n,r)})),u}(n,t,e,i,r);return Hc(o)}Xc.prototype.render=Qc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));qc(e,t,null,null)},Xc.prototype.unmount=Qc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;lc((function(){qc(null,e,null,null)})),t[pi]=null}},Xc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Tt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ot.length&&0!==t&&t<Ot[n].priority;n++);Ot.splice(n,0,e),0===n&&Ut(e)}},bt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(gt(t,1|n),rc(t,$e()),0===(6&Cu)&&(zu=$e()+500,zi()))}break;case 13:lc((function(){var t=Na(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}})),Kc(e,1)}},wt=function(e){if(13===e.tag){var t=Na(e,134217728);if(null!==t)nc(t,e,134217728,ec());Kc(e,134217728)}},Et=function(e){if(13===e.tag){var t=tc(e),n=Na(e,t);if(null!==n)nc(n,e,t,ec());Kc(e,t)}},Tt=function(){return _t},St=function(e,t){var n=_t;try{return _t=e,t()}finally{_t=n}},we=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=bi(r);if(!i)throw Error(a(90));K(r),J(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ce=cc,Ne=lc;var tl={usingClientEntryPoint:!1,Events:[_i,ki,bi,xe,Ie,cc]},nl={findFiberByHostInstance:gi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rl={bundleType:nl.bundleType,version:nl.version,rendererPackageName:nl.rendererPackageName,rendererConfig:nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:k.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=He(e))?null:e.stateNode},findFiberByHostInstance:nl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!il.isDisabled&&il.supportsFiber)try{it=il.inject(rl),at=il}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!$c(t))throw Error(a(200));return Vc(e,t,null,n)},t.createRoot=function(e,t){if(!$c(e))throw Error(a(299));var n=!1,r="",i=Wc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Bc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,zr(8===e.nodeType?e.parentNode:e),new Qc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=He(t))?null:e.stateNode},t.flushSync=function(e){return lc(e)},t.hydrate=function(e,t,n){if(!Jc(t))throw Error(a(200));return el(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!$c(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",s=Wc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=Gc(t,null,e,1,null!=n?n:null,i,0,o,s),e[pi]=t.current,zr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Xc(t)},t.render=function(e,t,n){if(!Jc(t))throw Error(a(200));return el(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Jc(e))throw Error(a(40));return!!e._reactRootContainer&&(lc((function(){el(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Jc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return el(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},250:function(e,t,n){var r=n(164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},164:function(e,t,n){!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},374:function(e,t,n){var r=n(791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)o.call(t,r)&&!u.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:s.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},117:function(e,t){var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function g(){}function _(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=y.prototype;var k=_.prototype=new g;k.constructor=_,v(k,y.prototype),k.isPureReactComponent=!0;var b=Array.isArray,w=Object.prototype.hasOwnProperty,E={current:null},T={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,r){var i,a={},o=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)w.call(t,i)&&!T.hasOwnProperty(i)&&(a[i]=t[i]);var u=arguments.length-2;if(1===u)a.children=r;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(i in u=e.defaultProps)void 0===a[i]&&(a[i]=u[i]);return{$$typeof:n,type:e,key:o,ref:s,props:a,_owner:E.current}}function x(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var I=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function N(e,t,i,a,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0}}if(u)return o=o(u=e),e=""===a?"."+C(u,0):a,b(o)?(i="",null!=e&&(i=e.replace(I,"$&/")+"/"),N(o,t,i,"",(function(e){return e}))):null!=o&&(x(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||u&&u.key===o.key?"":(""+o.key).replace(I,"$&/")+"/")+e)),t.push(o)),1;if(u=0,a=""===a?".":a+":",b(e))for(var c=0;c<e.length;c++){var l=a+C(s=e[c],c);u+=N(s,t,i,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(s=e.next()).done;)u+=N(s=s.value,t,i,l=a+C(s,c++),o);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return u}function R(e,t,n){if(null==e)return e;var r=[],i=0;return N(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function D(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var A={current:null},O={transition:null},P={ReactCurrentDispatcher:A,ReactCurrentBatchConfig:O,ReactCurrentOwner:E};t.Children={map:R,forEach:function(e,t,n){R(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return R(e,(function(){t++})),t},toArray:function(e){return R(e,(function(e){return e}))||[]},only:function(e){if(!x(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=o,t.PureComponent=_,t.StrictMode=a,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,s=E.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in t)w.call(t,c)&&!T.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==u?u[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){u=Array(c);for(var l=0;l<c;l++)u[l]=arguments[l+2];i.children=u}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:u,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=x,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:D}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=O.transition;O.transition={};try{e()}finally{O.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return A.current.useCallback(e,t)},t.useContext=function(e){return A.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return A.current.useDeferredValue(e)},t.useEffect=function(e,t){return A.current.useEffect(e,t)},t.useId=function(){return A.current.useId()},t.useImperativeHandle=function(e,t,n){return A.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return A.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return A.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return A.current.useMemo(e,t)},t.useReducer=function(e,t,n){return A.current.useReducer(e,t,n)},t.useRef=function(e){return A.current.useRef(e)},t.useState=function(e){return A.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return A.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return A.current.useTransition()},t.version="18.2.0"},791:function(e,t,n){e.exports=n(117)},184:function(e,t,n){e.exports=n(374)},813:function(e,t){function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var s=2*(r+1)-1,u=e[s],c=s+1,l=e[c];if(0>a(u,n))c<i&&0>a(l,u)?(e[r]=l,e[c]=n,r=c):(e[r]=u,e[s]=n,r=s);else{if(!(c<i&&0>a(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var c=[],l=[],f=1,h=null,d=3,p=!1,v=!1,m=!1,y="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,_="undefined"!==typeof setImmediate?setImmediate:null;function k(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function b(e){if(m=!1,k(e),!v)if(null!==r(c))v=!0,O(w);else{var t=r(l);null!==t&&P(b,t.startTime-e)}}function w(e,n){v=!1,m&&(m=!1,g(x),x=-1),p=!0;var a=d;try{for(k(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!N());){var o=h.callback;if("function"===typeof o){h.callback=null,d=h.priorityLevel;var s=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?h.callback=s:h===r(c)&&i(c),k(n)}else i(c);h=r(c)}if(null!==h)var u=!0;else{var f=r(l);null!==f&&P(b,f.startTime-n),u=!1}return u}finally{h=null,d=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var E,T=!1,S=null,x=-1,I=5,C=-1;function N(){return!(t.unstable_now()-C<I)}function R(){if(null!==S){var e=t.unstable_now();C=e;var n=!0;try{n=S(!0,e)}finally{n?E():(T=!1,S=null)}}else T=!1}if("function"===typeof _)E=function(){_(R)};else if("undefined"!==typeof MessageChannel){var D=new MessageChannel,A=D.port2;D.port1.onmessage=R,E=function(){A.postMessage(null)}}else E=function(){y(R,0)};function O(e){S=e,T||(T=!0,E())}function P(e,n){x=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,O(w))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>o?(e.sortIndex=a,n(l,e),null===r(c)&&e===r(l)&&(m?(g(x),x=-1):m=!0,P(b,a-o))):(e.sortIndex=s,n(c,e),v||p||(v=!0,O(w))),e},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},296:function(e,t,n){e.exports=n(813)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={id:r,loaded:!1,exports:{}};return e[r](a,a.exports,n),a.loaded=!0,a.exports}n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.hmd=function(e){return(e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:function(){throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",function(){var e,t=n(791),r=n(250);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e,t){if(e){if("string"===typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(u){s=!0,i=u}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}(e,t)||u(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(e||(e={}));var f=function(e){return e};var h="beforeunload",d="popstate";function p(e){e.preventDefault(),e.returnValue=""}function v(){var e=[];return{get length(){return e.length},push:function(t){return e.push(t),function(){e=e.filter((function(e){return e!==t}))}},call:function(t){e.forEach((function(e){return e&&e(t)}))}}}function m(){return Math.random().toString(36).substr(2,8)}function y(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function g(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}var _=(0,t.createContext)(null);var k=(0,t.createContext)(null);var b=(0,t.createContext)({outlet:null,matches:[]});function w(e,t){if(!e)throw new Error(t)}function E(e,t,n){void 0===n&&(n="/");var r=D(("string"===typeof t?g(t):t).pathname||"/",n);if(null==r)return null;var i=T(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=C(i[o],r);return a}function T(e,t,n,r){return void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r=""),e.forEach((function(e,i){var a={relativePath:e.path||"",caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(a.relativePath.startsWith(r)||w(!1),a.relativePath=a.relativePath.slice(r.length));var o=A([r,a.relativePath]),s=n.concat(a);e.children&&e.children.length>0&&(!0===e.index&&w(!1),T(e.children,t,s,o)),(null!=e.path||e.index)&&t.push({path:o,score:I(o,e.index),routesMeta:s})})),t}var S=/^:\w+$/,x=function(e){return"*"===e};function I(e,t){var n=e.split("/"),r=n.length;return n.some(x)&&(r+=-2),t&&(r+=2),n.filter((function(e){return!x(e)})).reduce((function(e,t){return e+(S.test(t)?3:""===t?1:10)}),r)}function C(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var s=n[o],u=o===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=N({path:s.relativePath,caseSensitive:s.caseSensitive,end:u},c);if(!l)return null;Object.assign(r,l.params);var f=s.route;a.push({params:r,pathname:A([i,l.pathname]),pathnameBase:O(A([i,l.pathnameBase])),route:f}),"/"!==l.pathnameBase&&(i=A([i,l.pathnameBase]))}return a}function N(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(function(e,t){return r.push(t),"([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):i+=n?"\\/*$":"(?:(?=[.~-]|%[0-9A-F]{2})|\\b|\\/|$)";return[new RegExp(i,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),r=c(n,2),i=r[0],a=r[1],o=t.match(i);if(!o)return null;var s=o[0],u=s.replace(/(.)\/+$/,"$1"),l=o.slice(1);return{params:a.reduce((function(e,t,n){if("*"===t){var r=l[n]||"";u=s.slice(0,s.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return e}}(l[n]||""),e}),{}),pathname:s,pathnameBase:u,pattern:e}}function R(e,t,n){var r,i="string"===typeof e?g(e):e,a=""===e||""===i.pathname?"/":i.pathname;if(null==a)r=n;else{var o=t.length-1;if(a.startsWith("..")){for(var s=a.split("/");".."===s[0];)s.shift(),o-=1;i.pathname=s.join("/")}r=o>=0?t[o]:"/"}var u=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?g(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,s=void 0===o?"":o,u=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:u,search:P(a),hash:L(s)}}(i,r);return a&&"/"!==a&&a.endsWith("/")&&!u.pathname.endsWith("/")&&(u.pathname+="/"),u}function D(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=e.charAt(t.length);return n&&"/"!==n?null:e.slice(t.length)||"/"}var A=function(e){return e.join("/").replace(/\/\/+/g,"/")},O=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},P=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},L=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""};function M(e){U()||w(!1);var n=(0,t.useContext)(_),r=n.basename,i=n.navigator,a=V(e),o=a.hash,s=a.pathname,u=a.search,c=s;if("/"!==r){var l=function(e){return""===e||""===e.pathname?"/":"string"===typeof e?g(e).pathname:e.pathname}(e),f=null!=l&&l.endsWith("/");c="/"===s?r+(f?"/":""):A([r,s])}return i.createHref({pathname:c,search:u,hash:o})}function U(){return null!=(0,t.useContext)(k)}function j(){return U()||w(!1),(0,t.useContext)(k).location}function F(){U()||w(!1);var e=(0,t.useContext)(_),n=e.basename,r=e.navigator,i=(0,t.useContext)(b).matches,a=j().pathname,o=JSON.stringify(i.map((function(e){return e.pathnameBase}))),s=(0,t.useRef)(!1);(0,t.useEffect)((function(){s.current=!0}));var u=(0,t.useCallback)((function(e,t){if(void 0===t&&(t={}),s.current)if("number"!==typeof e){var i=R(e,JSON.parse(o),a);"/"!==n&&(i.pathname=A([n,i.pathname])),(t.replace?r.replace:r.push)(i,t.state)}else r.go(e)}),[n,r,o,a]);return u}function B(){var e=(0,t.useContext)(b).matches,n=e[e.length-1];return n?n.params:{}}function V(e){var n=(0,t.useContext)(b).matches,r=j().pathname,i=JSON.stringify(n.map((function(e){return e.pathnameBase})));return(0,t.useMemo)((function(){return R(e,JSON.parse(i),r)}),[e,i,r])}function z(e,n){return void 0===n&&(n=[]),null==e?null:e.reduceRight((function(r,i,a){return(0,t.createElement)(b.Provider,{children:void 0!==i.route.element?i.route.element:r,value:{outlet:r,matches:n.concat(e.slice(0,a+1))}})}),null)}function G(e){w(!1)}function q(n){var r=n.basename,i=void 0===r?"/":r,a=n.children,o=void 0===a?null:a,s=n.location,u=n.navigationType,c=void 0===u?e.Pop:u,l=n.navigator,f=n.static,h=void 0!==f&&f;U()&&w(!1);var d=O(i),p=(0,t.useMemo)((function(){return{basename:d,navigator:l,static:h}}),[d,l,h]);"string"===typeof s&&(s=g(s));var v=s,m=v.pathname,y=void 0===m?"/":m,b=v.search,E=void 0===b?"":b,T=v.hash,S=void 0===T?"":T,x=v.state,I=void 0===x?null:x,C=v.key,N=void 0===C?"default":C,R=(0,t.useMemo)((function(){var e=D(y,d);return null==e?null:{pathname:e,search:E,hash:S,state:I,key:N}}),[d,y,E,S,I,N]);return null==R?null:(0,t.createElement)(_.Provider,{value:p},(0,t.createElement)(k.Provider,{children:o,value:{location:R,navigationType:c}}))}function H(e){var n=e.children,r=e.location;return function(e,n){U()||w(!1);var r,i=(0,t.useContext)(b).matches,a=i[i.length-1],o=a?a.params:{},s=(a&&a.pathname,a?a.pathnameBase:"/"),u=(a&&a.route,j());if(n){var c,l="string"===typeof n?g(n):n;"/"===s||(null==(c=l.pathname)?void 0:c.startsWith(s))||w(!1),r=l}else r=u;var f=r.pathname||"/",h=E(e,{pathname:"/"===s?f:f.slice(s.length)||"/"});return z(h&&h.map((function(e){return Object.assign({},e,{params:Object.assign({},o,e.params),pathname:A([s,e.pathname]),pathnameBase:"/"===e.pathnameBase?s:A([s,e.pathnameBase])})})),i)}(Y(n),r)}function Y(e){var n=[];return t.Children.forEach(e,(function(e){if((0,t.isValidElement)(e))if(e.type!==t.Fragment){e.type!==G&&w(!1);var r={caseSensitive:e.props.caseSensitive,element:e.props.element,index:e.props.index,path:e.props.path};e.props.children&&(r.children=Y(e.props.children)),n.push(r)}else n.push.apply(n,Y(e.props.children))})),n}function K(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function W(e){return function(e){if(Array.isArray(e))return s(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||u(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Q(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=Q(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}var X=function(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=Q(e))&&(r&&(r+=" "),r+=t);return r},$=["theme","type"],J=["delay","staleId"],Z=function(e){return"number"==typeof e&&!isNaN(e)},ee=function(e){return"string"==typeof e},te=function(e){return"function"==typeof e},ne=function(e){return ee(e)||te(e)?e:null},re=function(e){return(0,t.isValidElement)(e)||ee(e)||te(e)||Z(e)};function ie(e){var n=e.enter,r=e.exit,i=e.appendPosition,a=void 0!==i&&i,o=e.collapse,s=void 0===o||o,u=e.collapseDuration,c=void 0===u?300:u;return function(e){var i=e.children,o=e.position,u=e.preventExitTransition,l=e.done,f=e.nodeRef,h=e.isIn,d=a?"".concat(n,"--").concat(o):n,p=a?"".concat(r,"--").concat(o):r,v=(0,t.useRef)(0);return(0,t.useLayoutEffect)((function(){var e,t=f.current,n=d.split(" "),r=function e(r){var i;r.target===f.current&&(t.dispatchEvent(new Event("d")),t.removeEventListener("animationend",e),t.removeEventListener("animationcancel",e),0===v.current&&"animationcancel"!==r.type&&(i=t.classList).remove.apply(i,W(n)))};(e=t.classList).add.apply(e,W(n)),t.addEventListener("animationend",r),t.addEventListener("animationcancel",r)}),[]),(0,t.useEffect)((function(){var e=f.current,t=function t(){e.removeEventListener("animationend",t),s?function(e,t,n){void 0===n&&(n=300);var r=e.scrollHeight,i=e.style;requestAnimationFrame((function(){i.minHeight="initial",i.height=r+"px",i.transition="all ".concat(n,"ms"),requestAnimationFrame((function(){i.height="0",i.padding="0",i.margin="0",setTimeout(t,n)}))}))}(e,l,c):l()};h||(u?t():(v.current=1,e.className+=" ".concat(p),e.addEventListener("animationend",t)))}),[h]),t.createElement(t.Fragment,null,i)}}function ae(e,t){return{content:e.content,containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,status:t}}var oe={list:new Map,emitQueue:new Map,on:function(e,t){return this.list.has(e)||this.list.set(e,[]),this.list.get(e).push(t),this},off:function(e,t){if(t){var n=this.list.get(e).filter((function(e){return e!==t}));return this.list.set(e,n),this}return this.list.delete(e),this},cancelEmit:function(e){var t=this.emitQueue.get(e);return t&&(t.forEach(clearTimeout),this.emitQueue.delete(e)),this},emit:function(e){var t=arguments,n=this;this.list.has(e)&&this.list.get(e).forEach((function(r){var i=setTimeout((function(){r.apply(void 0,W([].slice.call(t,1)))}),0);n.emitQueue.has(e)||n.emitQueue.set(e,[]),n.emitQueue.get(e).push(i)}))}},se=function(e){var n=e.theme,r=e.type,i=K(e,$);return t.createElement("svg",o({viewBox:"0 0 24 24",width:"100%",height:"100%",fill:"colored"===n?"currentColor":"var(--toastify-icon-color-".concat(r,")")},i))},ue={info:function(e){return t.createElement(se,o({},e),t.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(e){return t.createElement(se,o({},e),t.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(e){return t.createElement(se,o({},e),t.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(e){return t.createElement(se,o({},e),t.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return t.createElement("div",{className:"Toastify__spinner"})}};function ce(e){var n=(0,t.useReducer)((function(e){return e+1}),0),r=c(n,2)[1],i=c((0,t.useState)([]),2),a=i[0],s=i[1],u=(0,t.useRef)(null),l=(0,t.useRef)(new Map).current,f=function(e){return-1!==a.indexOf(e)},h=(0,t.useRef)({toastKey:1,displayedToast:0,count:0,queue:[],props:e,containerId:null,isToastActive:f,getToast:function(e){return l.get(e)}}).current;function d(e){var t=e.containerId;!h.props.limit||t&&h.containerId!==t||(h.count-=h.queue.length,h.queue=[])}function p(e){s((function(t){return null==e?[]:t.filter((function(t){return t!==e}))}))}function v(){var e=h.queue.shift();y(e.toastContent,e.toastProps,e.staleId)}function m(e,n){var i=n.delay,a=n.staleId,s=K(n,J);if(re(e)&&!function(e){return!u.current||h.props.enableMultiContainer&&e.containerId!==h.props.containerId||l.has(e.toastId)&&null==e.updateId}(s)){var f=s.toastId,d=s.updateId,m=s.data,g=h.props,_=function(){return p(f)},k=null==d;k&&h.count++;var b,w,E=o(o(o({},g),{},{style:g.toastStyle,key:h.toastKey++},Object.fromEntries(Object.entries(s).filter((function(e){var t=c(e,2);t[0];return null!=t[1]})))),{},{toastId:f,updateId:d,data:m,closeToast:_,isIn:!1,className:ne(s.className||g.toastClassName),bodyClassName:ne(s.bodyClassName||g.bodyClassName),progressClassName:ne(s.progressClassName||g.progressClassName),autoClose:!s.isLoading&&(b=s.autoClose,w=g.autoClose,!1===b||Z(b)&&b>0?b:w),deleteToast:function(){var e=ae(l.get(f),"removed");l.delete(f),oe.emit(4,e);var t=h.queue.length;if(h.count=null==f?h.count-h.displayedToast:h.count-1,h.count<0&&(h.count=0),t>0){var n=null==f?h.props.limit:1;if(1===t||1===n)h.displayedToast++,v();else{var i=n>t?t:n;h.displayedToast=i;for(var a=0;a<i;a++)v()}}else r()}});E.iconOut=function(e){var n=e.theme,r=e.type,i=e.isLoading,a=e.icon,o=null,s={theme:n,type:r};return!1===a||(te(a)?o=a(s):(0,t.isValidElement)(a)?o=(0,t.cloneElement)(a,s):ee(a)||Z(a)?o=a:i?o=ue.spinner():function(e){return e in ue}(r)&&(o=ue[r](s))),o}(E),te(s.onOpen)&&(E.onOpen=s.onOpen),te(s.onClose)&&(E.onClose=s.onClose),E.closeButton=g.closeButton,!1===s.closeButton||re(s.closeButton)?E.closeButton=s.closeButton:!0===s.closeButton&&(E.closeButton=!re(g.closeButton)||g.closeButton);var T=e;(0,t.isValidElement)(e)&&!ee(e.type)?T=(0,t.cloneElement)(e,{closeToast:_,toastProps:E,data:m}):te(e)&&(T=e({closeToast:_,toastProps:E,data:m})),g.limit&&g.limit>0&&h.count>g.limit&&k?h.queue.push({toastContent:T,toastProps:E,staleId:a}):Z(i)?setTimeout((function(){y(T,E,a)}),i):y(T,E,a)}}function y(e,t,n){var r=t.toastId;n&&l.delete(n);var i={content:e,props:t};l.set(r,i),s((function(e){return[].concat(W(e),[r]).filter((function(e){return e!==n}))})),oe.emit(4,ae(i,null==i.props.updateId?"added":"updated"))}return(0,t.useEffect)((function(){return h.containerId=e.containerId,oe.cancelEmit(3).on(0,m).on(1,(function(e){return u.current&&p(e)})).on(5,d).emit(2,h),function(){l.clear(),oe.emit(3,h)}}),[]),(0,t.useEffect)((function(){h.props=e,h.isToastActive=f,h.displayedToast=a.length})),{getToastToRender:function(t){var n=new Map,r=Array.from(l.values());return e.newestOnTop&&r.reverse(),r.forEach((function(e){var t=e.props.position;n.has(t)||n.set(t,[]),n.get(t).push(e)})),Array.from(n,(function(e){return t(e[0],e[1])}))},containerRef:u,isToastActive:f}}function le(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientX:e.clientX}function fe(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientY:e.clientY}function he(e){var n=c((0,t.useState)(!1),2),r=n[0],i=n[1],a=c((0,t.useState)(!1),2),o=a[0],s=a[1],u=(0,t.useRef)(null),l=(0,t.useRef)({start:0,x:0,y:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,boundingRect:null,didMove:!1}).current,f=(0,t.useRef)(e),h=e.autoClose,d=e.pauseOnHover,p=e.closeToast,v=e.onClick,m=e.closeOnClick;function y(t){if(e.draggable){"touchstart"===t.nativeEvent.type&&t.nativeEvent.preventDefault(),l.didMove=!1,document.addEventListener("mousemove",b),document.addEventListener("mouseup",w),document.addEventListener("touchmove",b),document.addEventListener("touchend",w);var n=u.current;l.canCloseOnClick=!0,l.canDrag=!0,l.boundingRect=n.getBoundingClientRect(),n.style.transition="",l.x=le(t.nativeEvent),l.y=fe(t.nativeEvent),"x"===e.draggableDirection?(l.start=l.x,l.removalDistance=n.offsetWidth*(e.draggablePercent/100)):(l.start=l.y,l.removalDistance=n.offsetHeight*(80===e.draggablePercent?1.5*e.draggablePercent:e.draggablePercent/100))}}function g(t){if(l.boundingRect){var n=l.boundingRect,r=n.top,i=n.bottom,a=n.left,o=n.right;"touchend"!==t.nativeEvent.type&&e.pauseOnHover&&l.x>=a&&l.x<=o&&l.y>=r&&l.y<=i?k():_()}}function _(){i(!0)}function k(){i(!1)}function b(t){var n=u.current;l.canDrag&&n&&(l.didMove=!0,r&&k(),l.x=le(t),l.y=fe(t),l.delta="x"===e.draggableDirection?l.x-l.start:l.y-l.start,l.start!==l.x&&(l.canCloseOnClick=!1),n.style.transform="translate".concat(e.draggableDirection,"(").concat(l.delta,"px)"),n.style.opacity=""+(1-Math.abs(l.delta/l.removalDistance)))}function w(){document.removeEventListener("mousemove",b),document.removeEventListener("mouseup",w),document.removeEventListener("touchmove",b),document.removeEventListener("touchend",w);var t=u.current;if(l.canDrag&&l.didMove&&t){if(l.canDrag=!1,Math.abs(l.delta)>l.removalDistance)return s(!0),void e.closeToast();t.style.transition="transform 0.2s, opacity 0.2s",t.style.transform="translate".concat(e.draggableDirection,"(0)"),t.style.opacity="1"}}(0,t.useEffect)((function(){f.current=e})),(0,t.useEffect)((function(){return u.current&&u.current.addEventListener("d",_,{once:!0}),te(e.onOpen)&&e.onOpen((0,t.isValidElement)(e.children)&&e.children.props),function(){var e=f.current;te(e.onClose)&&e.onClose((0,t.isValidElement)(e.children)&&e.children.props)}}),[]),(0,t.useEffect)((function(){return e.pauseOnFocusLoss&&(document.hasFocus()||k(),window.addEventListener("focus",_),window.addEventListener("blur",k)),function(){e.pauseOnFocusLoss&&(window.removeEventListener("focus",_),window.removeEventListener("blur",k))}}),[e.pauseOnFocusLoss]);var E={onMouseDown:y,onTouchStart:y,onMouseUp:g,onTouchEnd:g};return h&&d&&(E.onMouseEnter=k,E.onMouseLeave=_),m&&(E.onClick=function(e){v&&v(e),l.canCloseOnClick&&p()}),{playToast:_,pauseToast:k,isRunning:r,preventExitTransition:o,toastRef:u,eventHandlers:E}}function de(e){var n=e.closeToast,r=e.theme,i=e.ariaLabel,a=void 0===i?"close":i;return t.createElement("button",{className:"Toastify__close-button Toastify__close-button--".concat(r),type:"button",onClick:function(e){e.stopPropagation(),n(e)},"aria-label":a},t.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},t.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function pe(e){var n=e.delay,r=e.isRunning,a=e.closeToast,s=e.type,u=void 0===s?"default":s,c=e.hide,l=e.className,f=e.style,h=e.controlledProgress,d=e.progress,p=e.rtl,v=e.isIn,m=e.theme,y=c||h&&0===d,g=o(o({},f),{},{animationDuration:"".concat(n,"ms"),animationPlayState:r?"running":"paused",opacity:y?0:1});h&&(g.transform="scaleX(".concat(d,")"));var _=X("Toastify__progress-bar",h?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated","Toastify__progress-bar-theme--".concat(m),"Toastify__progress-bar--".concat(u),{"Toastify__progress-bar--rtl":p}),k=te(l)?l({rtl:p,type:u,defaultClassName:_}):X(_,l);return t.createElement("div",i({role:"progressbar","aria-hidden":y?"true":"false","aria-label":"notification timer",className:k,style:g},h&&d>=1?"onTransitionEnd":"onAnimationEnd",h&&d<1?null:function(){v&&a()}))}var ve=function(e){var n=he(e),r=n.isRunning,i=n.preventExitTransition,a=n.toastRef,s=n.eventHandlers,u=e.closeButton,c=e.children,l=e.autoClose,f=e.onClick,h=e.type,d=e.hideProgressBar,p=e.closeToast,v=e.transition,m=e.position,y=e.className,g=e.style,_=e.bodyClassName,k=e.bodyStyle,b=e.progressClassName,w=e.progressStyle,E=e.updateId,T=e.role,S=e.progress,x=e.rtl,I=e.toastId,C=e.deleteToast,N=e.isIn,R=e.isLoading,D=e.iconOut,A=e.closeOnClick,O=e.theme,P=X("Toastify__toast","Toastify__toast-theme--".concat(O),"Toastify__toast--".concat(h),{"Toastify__toast--rtl":x},{"Toastify__toast--close-on-click":A}),L=te(y)?y({rtl:x,position:m,type:h,defaultClassName:P}):X(P,y),M=!!S||!l,U={closeToast:p,type:h,theme:O},j=null;return!1===u||(j=te(u)?u(U):(0,t.isValidElement)(u)?(0,t.cloneElement)(u,U):de(U)),t.createElement(v,{isIn:N,done:C,position:m,preventExitTransition:i,nodeRef:a},t.createElement("div",o(o({id:I,onClick:f,className:L},s),{},{style:g,ref:a}),t.createElement("div",o(o({},N&&{role:T}),{},{className:te(_)?_({type:h}):X("Toastify__toast-body",_),style:k}),null!=D&&t.createElement("div",{className:X("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!R})},D),t.createElement("div",null,c)),j,t.createElement(pe,o(o({},E&&!M?{key:"pb-".concat(E)}:{}),{},{rtl:x,theme:O,delay:l,isRunning:r,isIn:N,closeToast:p,hide:d,type:h,style:w,className:b,controlledProgress:M,progress:S||0}))))},me=function(e,t){return void 0===t&&(t=!1),{enter:"Toastify--animate Toastify__".concat(e,"-enter"),exit:"Toastify--animate Toastify__".concat(e,"-exit"),appendPosition:t}},ye=ie(me("bounce",!0)),ge=(ie(me("slide",!0)),ie(me("zoom")),ie(me("flip")),(0,t.forwardRef)((function(e,n){var r=ce(e),i=r.getToastToRender,a=r.containerRef,s=r.isToastActive,u=e.className,c=e.style,l=e.rtl,f=e.containerId;function h(e){var t=X("Toastify__toast-container","Toastify__toast-container--".concat(e),{"Toastify__toast-container--rtl":l});return te(u)?u({position:e,rtl:l,defaultClassName:t}):X(t,ne(u))}return(0,t.useEffect)((function(){n&&(n.current=a.current)}),[]),t.createElement("div",{ref:a,className:"Toastify",id:f},i((function(e,n){var r=n.length?o({},c):o(o({},c),{},{pointerEvents:"none"});return t.createElement("div",{className:h(e),style:r,key:"container-".concat(e)},n.map((function(e,r){var i=e.content,a=e.props;return t.createElement(ve,o(o({},a),{},{isIn:s(a.toastId),style:o(o({},a.style),{},{"--nth":r+1,"--len":n.length}),key:"toast-".concat(a.key)}),i)})))})))})));ge.displayName="ToastContainer",ge.defaultProps={position:"top-right",transition:ye,autoClose:5e3,closeButton:de,pauseOnHover:!0,pauseOnFocusLoss:!0,closeOnClick:!0,draggable:!0,draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};var _e,ke=new Map,be=[],we=1;function Ee(){return""+we++}function Te(e){return e&&(ee(e.toastId)||Z(e.toastId))?e.toastId:Ee()}function Se(e,t){return ke.size>0?oe.emit(0,e,t):be.push({content:e,options:t}),t.toastId}function xe(e,t){return o(o({},t),{},{type:t&&t.type||e,toastId:Te(t)})}function Ie(e){return function(t,n){return Se(t,xe(e,n))}}function Ce(e,t){return Se(e,xe("default",t))}Ce.loading=function(e,t){return Se(e,xe("default",o({isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1},t)))},Ce.promise=function(e,t,n){var r,i=t.pending,a=t.error,s=t.success;i&&(r=ee(i)?Ce.loading(i,n):Ce.loading(i.render,o(o({},n),i)));var u={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},c=function(e,t,i){if(null!=t){var a=o(o(o({type:e},u),n),{},{data:i}),s=ee(t)?{render:t}:t;return r?Ce.update(r,o(o({},a),s)):Ce(s.render,o(o({},a),s)),i}Ce.dismiss(r)},l=te(e)?e():e;return l.then((function(e){return c("success",s,e)})).catch((function(e){return c("error",a,e)})),l},Ce.success=Ie("success"),Ce.info=Ie("info"),Ce.error=Ie("error"),Ce.warning=Ie("warning"),Ce.warn=Ce.warning,Ce.dark=function(e,t){return Se(e,xe("default",o({theme:"dark"},t)))},Ce.dismiss=function(e){ke.size>0?oe.emit(1,e):be=be.filter((function(t){return null!=e&&t.options.toastId!==e}))},Ce.clearWaitingQueue=function(e){return void 0===e&&(e={}),oe.emit(5,e)},Ce.isActive=function(e){var t=!1;return ke.forEach((function(n){n.isToastActive&&n.isToastActive(e)&&(t=!0)})),t},Ce.update=function(e,t){void 0===t&&(t={}),setTimeout((function(){var n=function(e,t){var n=t.containerId,r=ke.get(n||_e);return r&&r.getToast(e)}(e,t);if(n){var r=n.props,i=n.content,a=o(o(o({delay:100},r),t),{},{toastId:t.toastId||e,updateId:Ee()});a.toastId!==e&&(a.staleId=e);var s=a.render||i;delete a.render,Se(s,a)}}),0)},Ce.done=function(e){Ce.update(e,{progress:1})},Ce.onChange=function(e){return oe.on(4,e),function(){oe.off(4,e)}},Ce.POSITION={TOP_LEFT:"top-left",TOP_RIGHT:"top-right",TOP_CENTER:"top-center",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",BOTTOM_CENTER:"bottom-center"},Ce.TYPE={INFO:"info",SUCCESS:"success",WARNING:"warning",ERROR:"error",DEFAULT:"default"},oe.on(2,(function(e){_e=e.containerId||e,ke.set(_e,e),be.forEach((function(e){oe.emit(0,e.content,e.options)})),be=[]})).on(3,(function(e){ke.delete(e.containerId||e),0===ke.size&&oe.off(0).off(1).off(5)}));var Ne=n(184),Re=function(e){var n=function(e,t){console.error(e,t),Ce.error("\u0412\u044a\u0437\u043d\u0438\u043a\u043d\u0430 \u0433\u0440\u0435\u0448\u043a\u0430. \u041c\u043e\u043b\u044f \u043e\u043f\u0438\u0442\u0430\u0439\u0442\u0435 \u043f\u043e-\u043a\u044a\u0441\u043d\u043e!")};return(0,Ne.jsx)(Ne.Fragment,{children:t.Children.map(e.children,(function(e){return t.cloneElement(e,{onError:n})}))})},De=(0,t.createContext)(),Ae=function(e){var n=e.children,r=function(e,n){var r=c((0,t.useState)((function(){var t=localStorage.getItem(e);return null!==t&&"[object Object]"!==t&&0!==t.length?JSON.parse(t):{defaultValue:n}})),2),i=r[0],a=r[1];return[i,function(t){localStorage.setItem(e,JSON.stringify(t)),a(t)}]}("auth",{}),i=c(r,2),a=i[0],o=i[1];return(0,Ne.jsx)(De.Provider,{value:{user:a,userLogin:function(e){void 0!==e?o(e,{}):o({})},userLogout:function(){o({})},userUpdate:function(e){a.signedPetitions.push(e),o(a)},isAuthenticated:Boolean(null===a||void 0===a?void 0:a._id)},children:n})};function Oe(){return Oe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Oe.apply(this,arguments)}function Pe(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var Le=["onClick","reloadDocument","replace","state","target","to"],Me=["aria-current","caseSensitive","className","end","style","to","children"];function Ue(n){var r=n.basename,i=n.children,a=n.window,o=(0,t.useRef)();null==o.current&&(o.current=function(t){void 0===t&&(t={});var n=t.window,r=void 0===n?document.defaultView:n,i=r.history;function a(){var e=r.location,t=e.pathname,n=e.search,a=e.hash,o=i.state||{};return[o.idx,f({pathname:t,search:n,hash:a,state:o.usr||null,key:o.key||"default"})]}var o=null;r.addEventListener(d,(function(){if(o)b.call(o),o=null;else{var t=e.Pop,n=a(),r=n[0],i=n[1];if(b.length){if(null!=r){var s=c-r;s&&(o={action:t,location:i,retry:function(){I(-1*s)}},I(s))}}else x(t)}}));var s=e.Pop,u=a(),c=u[0],_=u[1],k=v(),b=v();function w(e){return"string"===typeof e?e:y(e)}function E(e,t){return void 0===t&&(t=null),f(l({pathname:_.pathname,hash:"",search:""},"string"===typeof e?g(e):e,{state:t,key:m()}))}function T(e,t){return[{usr:e.state,key:e.key,idx:t},w(e)]}function S(e,t,n){return!b.length||(b.call({action:e,location:t,retry:n}),!1)}function x(e){s=e;var t=a();c=t[0],_=t[1],k.call({action:s,location:_})}function I(e){i.go(e)}null==c&&(c=0,i.replaceState(l({},i.state,{idx:c}),""));var C={get action(){return s},get location(){return _},createHref:w,push:function t(n,a){var o=e.Push,s=E(n,a);if(S(o,s,(function(){t(n,a)}))){var u=T(s,c+1),l=u[0],f=u[1];try{i.pushState(l,"",f)}catch(h){r.location.assign(f)}x(o)}},replace:function t(n,r){var a=e.Replace,o=E(n,r);if(S(a,o,(function(){t(n,r)}))){var s=T(o,c),u=s[0],l=s[1];i.replaceState(u,"",l),x(a)}},go:I,back:function(){I(-1)},forward:function(){I(1)},listen:function(e){return k.push(e)},block:function(e){var t=b.push(e);return 1===b.length&&r.addEventListener(h,p),function(){t(),b.length||r.removeEventListener(h,p)}}};return C}({window:a}));var s=o.current,u=c((0,t.useState)({action:s.action,location:s.location}),2),_=u[0],k=u[1];return(0,t.useLayoutEffect)((function(){return s.listen(k)}),[s]),(0,t.createElement)(q,{basename:r,children:i,location:_.location,navigationType:_.action,navigator:s})}var je=(0,t.forwardRef)((function(e,n){var r=e.onClick,i=e.reloadDocument,a=e.replace,o=void 0!==a&&a,s=e.state,u=e.target,c=e.to,l=Pe(e,Le),f=M(c),h=function(e,n){var r=void 0===n?{}:n,i=r.target,a=r.replace,o=r.state,s=F(),u=j(),c=V(e);return(0,t.useCallback)((function(t){if(0===t.button&&(!i||"_self"===i)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(t)){t.preventDefault();var n=!!a||y(u)===y(c);s(e,{replace:n,state:o})}}),[u,s,c,a,o,i,e])}(c,{replace:o,state:s,target:u});return(0,t.createElement)("a",Oe({},l,{href:f,onClick:function(e){r&&r(e),e.defaultPrevented||i||h(e)},ref:n,target:u}))}));var Fe=(0,t.forwardRef)((function(e,n){var r=e["aria-current"],i=void 0===r?"page":r,a=e.caseSensitive,o=void 0!==a&&a,s=e.className,u=void 0===s?"":s,c=e.end,l=void 0!==c&&c,f=e.style,h=e.to,d=e.children,p=Pe(e,Me),v=j(),m=V(h),y=v.pathname,g=m.pathname;o||(y=y.toLowerCase(),g=g.toLowerCase());var _,k=y===g||!l&&y.startsWith(g)&&"/"===y.charAt(g.length),b=k?i:void 0;_="function"===typeof u?u({isActive:k}):[u,k?"active":null].filter(Boolean).join(" ");var w="function"===typeof f?f({isActive:k}):f;return(0,t.createElement)(je,Oe({},p,{"aria-current":b,className:_,ref:n,style:w,to:h}),"function"===typeof d?d({isActive:k}):d)}));function Be(e){return Be="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Be(e)}function Ve(){Ve=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(x){s=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var i=t&&t.prototype instanceof f?t:f,a=Object.create(i.prototype),o=new E(r||[]);return a._invoke=function(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return S()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=k(o,n);if(s){if(s===l)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=c(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===l)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}(e,n,o),a}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(x){return{type:"throw",arg:x}}}e.wrap=u;var l={};function f(){}function h(){}function d(){}var p={};s(p,i,(function(){return this}));var v=Object.getPrototypeOf,m=v&&v(v(T([])));m&&m!==t&&n.call(m,i)&&(p=m);var y=d.prototype=f.prototype=Object.create(p);function g(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function r(i,a,o,s){var u=c(e[i],e,a);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==Be(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,o,s)}),(function(e){r("throw",e,o,s)})):t.resolve(f).then((function(e){l.value=e,o(l)}),(function(e){return r("throw",e,o,s)}))}s(u.arg)}var i;this._invoke=function(e,n){function a(){return new t((function(t,i){r(e,n,t,i)}))}return i=i?i.then(a,a):a()}}function k(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,k(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=c(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,l;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function b(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function w(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(b,this),this.reset(!0)}function T(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,s(y,"constructor",d),s(d,"constructor",h),h.displayName=s(d,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,s(e,o,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},g(_.prototype),s(_.prototype,a,(function(){return this})),e.AsyncIterator=_,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new _(u(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},g(y),s(y,o,"Generator"),s(y,i,(function(){return this})),s(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=T,E.prototype={constructor:E,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(w),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(s&&u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),w(n),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;w(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:T(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},e}function ze(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}function Ge(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){ze(a,r,i,o,s,"next",e)}function s(e){ze(a,r,i,o,s,"throw",e)}o(void 0)}))}}function qe(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=u(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function He(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ye(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ke(e,t,n){return t&&Ye(e.prototype,t),n&&Ye(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function We(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Qe(e,t){return Qe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Qe(e,t)}function Xe(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Qe(e,t)}function $e(e){return $e=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},$e(e)}function Je(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Ze(e,t){if(t&&("object"===Be(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return We(e)}function et(e){var t=Je();return function(){var n,r=$e(e);if(t){var i=$e(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Ze(this,n)}}function tt(e,t,n){return tt=Je()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&Qe(i,n.prototype),i},tt.apply(null,arguments)}function nt(e){var t="function"===typeof Map?new Map:void 0;return nt=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return tt(e,arguments,$e(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),Qe(n,e)},nt(e)}var rt=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},it={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,s=o?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,l=a>>2,f=(3&a)<<4|s>>4,h=(15&s)<<2|c>>6,d=63&c;u||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(rt(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var s=e[n++],u=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&u)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==s||null==u)throw new at;var c=a<<2|o>>4;if(r.push(c),64!==s){var l=o<<4&240|s>>2;if(r.push(l),64!==u){var f=s<<6&192|u;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},at=function(e){Xe(n,e);var t=et(n);function n(){var e;return He(this,n),(e=t.apply(this,arguments)).name="DecodeBase64StringError",e}return Ke(n)}(nt(Error)),ot=function(e){return function(e){var t=rt(e);return it.encodeByteArray(t,!0)}(e).replace(/\./g,"")},st=function(e){try{return it.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};var ut=function(){return function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__},ct=function(){try{return ut()||function(){if("undefined"!==typeof process){var e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_KEY:"AIzaSyD1t9usMmzBBo7TMeIFbOUgCPy8Ilg_M8w",REACT_APP_APP_ID:"1:460242636813:web:2abc63e98ccc7f52334544",REACT_APP_AUTH_DOMAIN:"petitions-2f2b0.firebaseapp.com",REACT_APP_MEASURMENT_ID:"G-1EC893TLMM",REACT_APP_MESSAGING_SENDER_ID:"460242636813",REACT_APP_PROJECT_ID:"petitions-2f2b0",REACT_APP_STORAGE_BUCKET:"petitions-2f2b0.appspot.com"}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0}}()||function(){if("undefined"!==typeof document){var e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}var t=e&&st(e[1]);return t&&JSON.parse(t)}}()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},lt=function(e){var t,n;return null===(n=null===(t=ct())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},ft=function(e){var t=lt(e);if(t){var n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));var r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]}},ht=function(){var e;return null===(e=ct())||void 0===e?void 0:e.config},dt=function(e){var t;return null===(t=ct())||void 0===t?void 0:t["_".concat(e)]},pt=function(){function e(){var t=this;He(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return Ke(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function vt(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[ot(JSON.stringify({alg:"none",type:"JWT"})),ot(JSON.stringify(a)),""].join(".")}function mt(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function yt(){var e,t=null===(e=ct())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}function gt(){try{return"object"===typeof indexedDB}catch(e){return!1}}var _t=function(e){Xe(n,e);var t=et(n);function n(e,r,i){var a;return He(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(We(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(We(a),kt.prototype.create),a}return Ke(n)}(nt(Error)),kt=function(){function e(t,n,r){He(this,e),this.service=t,this.serviceName=n,this.errors=r}return Ke(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?bt(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new _t(n,a,t);return o}}]),e}();function bt(e,t){return e.replace(wt,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var wt=/\{\$([^}]+)}/g;function Et(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var s=e[o],u=t[o];if(Tt(s)&&Tt(u)){if(!Et(s,u))return!1}else if(s!==u)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function Tt(e){return null!==e&&"object"===typeof e}function St(e){for(var t=[],n=function(){var e=c(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function xt(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=c(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function It(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}var Ct=function(){function e(t,n){var r=this;He(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return Ke(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=qe(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=Nt),void 0===r.error&&(r.error=Nt),void 0===r.complete&&(r.complete=Nt);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function Nt(){}function Rt(e){return e&&e._delegate?e._delegate:e}var Dt=function(){function e(t,n,r){He(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return Ke(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),At="[DEFAULT]",Ot=function(){function e(t,n){He(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return Ke(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new pt;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:At})}catch(u){}var t,n=qe(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=c(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var s=this.getOrInitializeService({instanceIdentifier:o});a.resolve(s)}catch(u){}}}catch(l){n.e(l)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:At;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=Ge(Ve().mark((function e(){var t;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(W(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),W(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:At;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:At;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=qe(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var s=c(i.value,2),u=s[0],l=s[1],f=this.normalizeInstanceIdentifier(u);r===f&&l.resolve(a)}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=qe(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(o){}}}catch(s){i.e(s)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===At?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(o){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:At;return this.component?this.component.multipleInstances?e:At:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var Pt,Lt,Mt=function(){function e(t){He(this,e),this.name=t,this.providers=new Map}return Ke(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new Ot(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),Ut=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Lt||(Lt={}));var jt={debug:Lt.DEBUG,verbose:Lt.VERBOSE,info:Lt.INFO,warn:Lt.WARN,error:Lt.ERROR,silent:Lt.SILENT},Ft=Lt.INFO,Bt=(i(Pt={},Lt.DEBUG,"log"),i(Pt,Lt.VERBOSE,"log"),i(Pt,Lt.INFO,"info"),i(Pt,Lt.WARN,"warn"),i(Pt,Lt.ERROR,"error"),Pt),Vt=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=Bt[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),s=2;s<a;s++)o[s-2]=arguments[s];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},zt=function(){function e(t){He(this,e),this.name=t,this._logLevel=Ft,this._logHandler=Vt,this._userLogHandler=null,Ut.push(this)}return Ke(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in Lt))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?jt[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Lt.DEBUG].concat(t)),this._logHandler.apply(this,[this,Lt.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Lt.VERBOSE].concat(t)),this._logHandler.apply(this,[this,Lt.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Lt.INFO].concat(t)),this._logHandler.apply(this,[this,Lt.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Lt.WARN].concat(t)),this._logHandler.apply(this,[this,Lt.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Lt.ERROR].concat(t)),this._logHandler.apply(this,[this,Lt.ERROR].concat(t))}}]),e}();var Gt,qt;var Ht=new WeakMap,Yt=new WeakMap,Kt=new WeakMap,Wt=new WeakMap,Qt=new WeakMap;var Xt={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Yt.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Kt.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Zt(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function $t(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(qt||(qt=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(en(this),n),Zt(Ht.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Zt(e.apply(en(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[en(this),t].concat(r));return Kt.set(a,t.sort?t.sort():[t]),Zt(a)}}function Jt(e){return"function"===typeof e?$t(e):(e instanceof IDBTransaction&&function(e){if(!Yt.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));Yt.set(e,t)}}(e),t=e,(Gt||(Gt=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((function(e){return t instanceof e}))?new Proxy(e,Xt):e);var t}function Zt(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(Zt(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&Ht.set(t,e)})).catch((function(){})),Qt.set(t,e),t}(e);if(Wt.has(e))return Wt.get(e);var t=Jt(e);return t!==e&&(Wt.set(e,t),Qt.set(t,e)),t}var en=function(e){return Qt.get(e)};var tn,nn,rn=["get","getKey","getAll","getAllKeys","count"],an=["put","add","delete","clear"],on=new Map;function sn(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(on.get(t))return on.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=an.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||rn.includes(n))){var a=function(){var e=Ge(Ve().mark((function e(t){var a,o,s,u,c,l,f=arguments;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),s=o.store,u=f.length,c=new Array(u>1?u-1:0),l=1;l<u;l++)c[l-1]=f[l];return r&&(s=s.index(c.shift())),e.next=6,Promise.all([(a=s)[n].apply(a,c),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return on.set(t,a),a}}}Xt=function(e){return o(o({},e),{},{get:function(t,n,r){return sn(t,n)||e.get(t,n,r)},has:function(t,n){return!!sn(t,n)||e.has(t,n)}})}(Xt);var un=function(){function e(t){He(this,e),this.container=t}return Ke(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var cn="@firebase/app",ln="0.9.5",fn=new zt("@firebase/app"),hn="[DEFAULT]",dn=(i(tn={},cn,"fire-core"),i(tn,"@firebase/app-compat","fire-core-compat"),i(tn,"@firebase/analytics","fire-analytics"),i(tn,"@firebase/analytics-compat","fire-analytics-compat"),i(tn,"@firebase/app-check","fire-app-check"),i(tn,"@firebase/app-check-compat","fire-app-check-compat"),i(tn,"@firebase/auth","fire-auth"),i(tn,"@firebase/auth-compat","fire-auth-compat"),i(tn,"@firebase/database","fire-rtdb"),i(tn,"@firebase/database-compat","fire-rtdb-compat"),i(tn,"@firebase/functions","fire-fn"),i(tn,"@firebase/functions-compat","fire-fn-compat"),i(tn,"@firebase/installations","fire-iid"),i(tn,"@firebase/installations-compat","fire-iid-compat"),i(tn,"@firebase/messaging","fire-fcm"),i(tn,"@firebase/messaging-compat","fire-fcm-compat"),i(tn,"@firebase/performance","fire-perf"),i(tn,"@firebase/performance-compat","fire-perf-compat"),i(tn,"@firebase/remote-config","fire-rc"),i(tn,"@firebase/remote-config-compat","fire-rc-compat"),i(tn,"@firebase/storage","fire-gcs"),i(tn,"@firebase/storage-compat","fire-gcs-compat"),i(tn,"@firebase/firestore","fire-fst"),i(tn,"@firebase/firestore-compat","fire-fst-compat"),i(tn,"fire-js","fire-js"),i(tn,"firebase","fire-js-all"),tn),pn=new Map,vn=new Map;function mn(e,t){try{e.container.addComponent(t)}catch(n){fn.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function yn(e){var t=e.name;if(vn.has(t))return fn.debug("There were multiple attempts to register component ".concat(t,".")),!1;vn.set(t,e);var n,r=qe(pn.values());try{for(r.s();!(n=r.n()).done;){mn(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function gn(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}var _n=(i(nn={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),i(nn,"bad-app-name","Illegal App name: '{$appName}"),i(nn,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),i(nn,"app-deleted","Firebase App named '{$appName}' already deleted"),i(nn,"no-options","Need to provide options, when not being deployed to hosting via source."),i(nn,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),i(nn,"invalid-log-argument","First argument to `onLog` must be null or a function."),i(nn,"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),i(nn,"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),i(nn,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),i(nn,"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),nn),kn=new kt("app","Firebase",_n),bn=function(){function e(t,n,r){var i=this;He(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Dt("app",(function(){return i}),"PUBLIC"))}return Ke(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw kn.create("app-deleted",{appName:this._name})}}]),e}(),wn="9.18.0";function En(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){var r=t;t={name:r}}var i=Object.assign({name:hn,automaticDataCollectionEnabled:!1},t),a=i.name;if("string"!==typeof a||!a)throw kn.create("bad-app-name",{appName:String(a)});if(n||(n=ht()),!n)throw kn.create("no-options");var o=pn.get(a);if(o){if(Et(n,o.options)&&Et(i,o.config))return o;throw kn.create("duplicate-app",{appName:a})}var s,u=new Mt(a),c=qe(vn.values());try{for(c.s();!(s=c.n()).done;){var l=s.value;u.addComponent(l)}}catch(h){c.e(h)}finally{c.f()}var f=new bn(n,i,u);return pn.set(a,f),f}function Tn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hn,t=pn.get(e);if(!t&&e===hn)return En();if(!t)throw kn.create("no-app",{appName:e});return t}function Sn(e,t,n){var r,i=null!==(r=dn[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var s=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&s.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&s.push("and"),o&&s.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void fn.warn(s.join(" "))}yn(new Dt("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}var xn="firebase-heartbeat-store",In=null;function Cn(){return In||(In=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,s=indexedDB.open(e,t),u=Zt(s);return i&&s.addEventListener("upgradeneeded",(function(e){i(Zt(s.result),e.oldVersion,e.newVersion,Zt(s.transaction))})),r&&s.addEventListener("blocked",(function(){return r()})),u.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(){return a()}))})).catch((function(){})),u}("firebase-heartbeat-database",1,{upgrade:function(e,t){if(0===t)e.createObjectStore(xn)}}).catch((function(e){throw kn.create("idb-open",{originalErrorMessage:e.message})}))),In}function Nn(e){return Rn.apply(this,arguments)}function Rn(){return Rn=Ge(Ve().mark((function e(t){var n,r;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Cn();case 3:return n=e.sent,e.abrupt("return",n.transaction(xn).objectStore(xn).get(On(t)));case 7:e.prev=7,e.t0=e.catch(0),e.t0 instanceof _t?fn.warn(e.t0.message):(r=kn.create("idb-get",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),fn.warn(r.message));case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),Rn.apply(this,arguments)}function Dn(e,t){return An.apply(this,arguments)}function An(){return An=Ge(Ve().mark((function e(t,n){var r,i,a,o;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Cn();case 3:return r=e.sent,i=r.transaction(xn,"readwrite"),a=i.objectStore(xn),e.next=8,a.put(n,On(t));case 8:return e.abrupt("return",i.done);case 11:e.prev=11,e.t0=e.catch(0),e.t0 instanceof _t?fn.warn(e.t0.message):(o=kn.create("idb-set",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),fn.warn(o.message));case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),An.apply(this,arguments)}function On(e){return"".concat(e.name,"!").concat(e.options.appId)}var Pn=function(){function e(t){var n=this;He(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new jn(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return Ke(e,[{key:"triggerHeartbeat",value:function(){var e=Ge(Ve().mark((function e(){var t,n,r;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=Ln(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=Ge(Ve().mark((function e(){var t,n,r,i,a;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=Ln(),n=Mn(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=ot(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Ln(){return(new Date).toISOString().substring(0,10)}function Mn(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=qe(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),Fn(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),Fn(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){var s=o();if("break"===s)break}}catch(u){a.e(u)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var Un,jn=function(){function e(t){He(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return Ke(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=Ge(Ve().mark((function e(){return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(gt()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=Ge(Ve().mark((function e(){var t;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,Nn(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=Ge(Ve().mark((function e(t){var n,r;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Dn(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=Ge(Ve().mark((function e(t){var n,r;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Dn(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(W(r.heartbeats),W(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function Fn(e){return ot(JSON.stringify({version:2,heartbeats:e})).length}Un="",yn(new Dt("platform-logger",(function(e){return new un(e)}),"PRIVATE")),yn(new Dt("heartbeat",(function(e){return new Pn(e)}),"PRIVATE")),Sn(cn,ln,Un),Sn(cn,ln,"esm2017"),Sn("fire-js","");function Bn(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=$e(e)););return e}function Vn(){return Vn="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=Bn(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},Vn.apply(this,arguments)}Sn("firebase","9.18.0","app");function zn(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var Gn;Object.create;function qn(){return i({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var Hn=qn,Yn=new kt("auth","Firebase",qn()),Kn=new zt("@firebase/auth");function Wn(e){if(Kn.logLevel<=Lt.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Kn.error.apply(Kn,["Auth (".concat(wn,"): ").concat(e)].concat(n))}}function Qn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Zn.apply(void 0,[e].concat(n))}function Xn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Zn.apply(void 0,[e].concat(n))}function $n(e,t,n){var r=Object.assign(Object.assign({},Hn()),i({},t,n));return new kt("auth","Firebase",r).create(t,{appName:e.name})}function Jn(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&Qn(e,"argument-error"),$n(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function Zn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=W(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(W(o)))}return Yn.create.apply(Yn,[e].concat(n))}function er(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Zn.apply(void 0,[t].concat(r))}}function tr(e){var t="INTERNAL ASSERTION FAILED: "+e;throw Wn(t),new Error(t)}function nr(e,t){e||tr(t)}var rr=new Map;function ir(e){nr(e instanceof Function,"Expected a class definition");var t=rr.get(e);return t?(nr(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,rr.set(e,t),t)}function ar(e,t){var n=gn(e,"auth");if(n.isInitialized()){var r=n.getImmediate();if(Et(n.getOptions(),null!==t&&void 0!==t?t:{}))return r;Qn(r,"already-initialized")}return n.initialize({options:t})}function or(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function sr(){return"http:"===ur()||"https:"===ur()}function ur(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}function cr(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(sr()||function(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine}var lr=function(){function e(t,n){He(this,e),this.shortDelay=t,this.longDelay=n,nr(n>t,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(mt())||"object"===typeof navigator&&"ReactNative"===navigator.product}return Ke(e,[{key:"get",value:function(){return cr()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}]),e}();function fr(e,t){nr(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var hr=function(){function e(){He(this,e)}return Ke(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void tr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void tr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void tr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),dr=(i(Gn={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),i(Gn,"MISSING_CUSTOM_TOKEN","internal-error"),i(Gn,"INVALID_IDENTIFIER","invalid-email"),i(Gn,"MISSING_CONTINUE_URI","internal-error"),i(Gn,"INVALID_PASSWORD","wrong-password"),i(Gn,"MISSING_PASSWORD","internal-error"),i(Gn,"EMAIL_EXISTS","email-already-in-use"),i(Gn,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),i(Gn,"INVALID_IDP_RESPONSE","invalid-credential"),i(Gn,"INVALID_PENDING_TOKEN","invalid-credential"),i(Gn,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),i(Gn,"MISSING_REQ_TYPE","internal-error"),i(Gn,"EMAIL_NOT_FOUND","user-not-found"),i(Gn,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),i(Gn,"EXPIRED_OOB_CODE","expired-action-code"),i(Gn,"INVALID_OOB_CODE","invalid-action-code"),i(Gn,"MISSING_OOB_CODE","internal-error"),i(Gn,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),i(Gn,"INVALID_ID_TOKEN","invalid-user-token"),i(Gn,"TOKEN_EXPIRED","user-token-expired"),i(Gn,"USER_NOT_FOUND","user-token-expired"),i(Gn,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),i(Gn,"INVALID_CODE","invalid-verification-code"),i(Gn,"INVALID_SESSION_INFO","invalid-verification-id"),i(Gn,"INVALID_TEMPORARY_PROOF","invalid-credential"),i(Gn,"MISSING_SESSION_INFO","missing-verification-id"),i(Gn,"SESSION_EXPIRED","code-expired"),i(Gn,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),i(Gn,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),i(Gn,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),i(Gn,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),i(Gn,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),i(Gn,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),i(Gn,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),i(Gn,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),i(Gn,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),i(Gn,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),i(Gn,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),Gn),pr=new lr(3e4,6e4);function vr(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function mr(e,t,n,r){return yr.apply(this,arguments)}function yr(){return yr=Ge(Ve().mark((function e(t,n,r,i){var a,o=arguments;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",gr(t,a,Ge(Ve().mark((function e(){var a,o,s,u;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),s=St(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(u=e.sent)["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",hr.fetch()(wr(t,t.config.apiHost,r,s),Object.assign({method:n,headers:u,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),yr.apply(this,arguments)}function gr(e,t,n){return _r.apply(this,arguments)}function _r(){return _r=Ge(Ve().mark((function e(t,n,r){var i,a,o,s,u,l,f,h,d,p;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},dr),n),e.prev=2,a=new Er(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(s=e.sent))){e.next=13;break}throw Tr(t,"account-exists-with-different-credential",s);case 13:if(!o.ok||"errorMessage"in s){e.next=17;break}return e.abrupt("return",s);case 17:if(u=o.ok?s.errorMessage:s.error.message,l=u.split(" : "),f=c(l,2),h=f[0],d=f[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==h){e.next=23;break}throw Tr(t,"credential-already-in-use",s);case 23:if("EMAIL_EXISTS"!==h){e.next=27;break}throw Tr(t,"email-already-in-use",s);case 27:if("USER_DISABLED"!==h){e.next=29;break}throw Tr(t,"user-disabled",s);case 29:if(p=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-"),!d){e.next=34;break}throw $n(t,p,d);case 34:Qn(t,p);case 35:e.next=42;break;case 37:if(e.prev=37,e.t0=e.catch(2),!(e.t0 instanceof _t)){e.next=41;break}throw e.t0;case 41:Qn(t,"internal-error",{message:String(e.t0)});case 42:case"end":return e.stop()}}),e,null,[[2,37]])}))),_r.apply(this,arguments)}function kr(e,t,n,r){return br.apply(this,arguments)}function br(){return br=Ge(Ve().mark((function e(t,n,r,i){var a,o,s=arguments;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.length>4&&void 0!==s[4]?s[4]:{},e.next=3,mr(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&Qn(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),br.apply(this,arguments)}function wr(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?fr(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var Er=function(){function e(t){var n=this;He(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(Xn(n.auth,"network-request-failed"))}),pr.get())}))}return Ke(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function Tr(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=Xn(e,t,r);return i.customData._tokenResponse=n,i}function Sr(e,t){return xr.apply(this,arguments)}function xr(){return xr=Ge(Ve().mark((function e(t,n){return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",mr(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)}))),xr.apply(this,arguments)}function Ir(e,t){return Cr.apply(this,arguments)}function Cr(){return Cr=Ge(Ve().mark((function e(t,n){return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",mr(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)}))),Cr.apply(this,arguments)}function Nr(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function Rr(){return Rr=Ge(Ve().mark((function e(t){var n,r,i,a,o,s,u=arguments;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>1&&void 0!==u[1]&&u[1],r=Rt(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,er((a=Ar(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,s=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:Nr(Dr(a.auth_time)),issuedAtTime:Nr(Dr(a.iat)),expirationTime:Nr(Dr(a.exp)),signInProvider:s||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),Rr.apply(this,arguments)}function Dr(e){return 1e3*Number(e)}function Ar(e){var t=c(e.split("."),3),n=t[0],r=t[1],i=t[2];if(void 0===n||void 0===r||void 0===i)return Wn("JWT malformed, contained fewer than 3 sections"),null;try{var a=st(r);return a?JSON.parse(a):(Wn("Failed to decode base64 JWT payload"),null)}catch(o){return Wn("Caught error parsing JWT payload as JSON",null===o||void 0===o?void 0:o.toString()),null}}function Or(e,t){return Pr.apply(this,arguments)}function Pr(){return Pr=Ge(Ve().mark((function e(t,n){var r=arguments;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof _t&&Lr(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),Pr.apply(this,arguments)}function Lr(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var Mr=function(){function e(t){He(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return Ke(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(Ge(Ve().mark((function t(){return Ve().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=Ge(Ve().mark((function e(){return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),Ur=function(){function e(t,n){He(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return Ke(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=Nr(this.lastLoginAt),this.creationTime=Nr(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function jr(e){return Fr.apply(this,arguments)}function Fr(){return Fr=Ge(Ve().mark((function e(t){var n,r,i,a,o,s,u,c,l,f,h;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,Or(t,Ir(r,{idToken:i}));case 6:er(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),s=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?zr(o.providerUserInfo):[],u=Vr(t.providerData,s),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===u||void 0===u?void 0:u.length),f=!!c&&l,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Ur(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)}))),Fr.apply(this,arguments)}function Br(){return(Br=Ge(Ve().mark((function e(t){var n;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Rt(t),e.next=3,jr(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Vr(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(W(n),W(t))}function zr(e){return e.map((function(e){var t=e.providerId,n=zn(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}function Gr(e,t){return qr.apply(this,arguments)}function qr(){return qr=Ge(Ve().mark((function e(t,n){var r;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,gr(t,{},Ge(Ve().mark((function e(){var r,i,a,o,s,u;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=St({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,s=wr(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(u=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",hr.fetch()(s,{method:"POST",headers:u,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)}))),qr.apply(this,arguments)}var Hr=function(){function e(){He(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return Ke(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){er(e.idToken,"internal-error"),er("undefined"!==typeof e.idToken,"internal-error"),er("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=Ar(e);return er(t,"internal-error"),er("undefined"!==typeof t.exp,"internal-error"),er("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=Ge(Ve().mark((function e(t){var n,r=arguments;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],er(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=Ge(Ve().mark((function e(t,n){var r,i,a,o;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Gr(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return tr("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(er("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(er("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(er("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function Yr(e,t){er("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var Kr=function(){function e(t){He(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=zn(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Mr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?W(a.providerData):[],this.metadata=new Ur(a.createdAt||void 0,a.lastLoginAt||void 0)}return Ke(e,[{key:"getIdToken",value:function(){var e=Ge(Ve().mark((function e(t){var n;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Or(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(er(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return Rr.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return Br.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(er(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){var n=new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}},{key:"_onReload",value:function(e){er(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=Ge(Ve().mark((function e(t){var n,r,i=arguments;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,jr(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Ge(Ve().mark((function e(){var t;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,Or(this,Sr(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,s,u,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(s=n.tenantId)&&void 0!==s?s:void 0,m=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,y=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,_=n.uid,k=n.emailVerified,b=n.isAnonymous,w=n.providerData,E=n.stsTokenManager;er(_&&E,t,"internal-error");var T=Hr.fromJSON(this.name,E);er("string"===typeof _,t,"internal-error"),Yr(f,t.name),Yr(h,t.name),er("boolean"===typeof k,t,"internal-error"),er("boolean"===typeof b,t,"internal-error"),Yr(d,t.name),Yr(p,t.name),Yr(v,t.name),Yr(m,t.name),Yr(y,t.name),Yr(g,t.name);var S=new e({uid:_,auth:t,email:h,emailVerified:k,displayName:f,isAnonymous:b,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:T,createdAt:y,lastLoginAt:g});return w&&Array.isArray(w)&&(S.providerData=w.map((function(e){return Object.assign({},e)}))),m&&(S._redirectEventId=m),S}},{key:"_fromIdTokenResponse",value:function(){var t=Ge(Ve().mark((function t(n,r){var i,a,o,s=arguments;return Ve().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=s.length>2&&void 0!==s[2]&&s[2],(a=new Hr).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,jr(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),Wr=function(){function e(){He(this,e),this.type="NONE",this.storage={}}return Ke(e,[{key:"_isAvailable",value:function(){var e=Ge(Ve().mark((function e(){return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Ge(Ve().mark((function e(t,n){return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Ge(Ve().mark((function e(t){var n;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Ge(Ve().mark((function e(t){return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();Wr.type="NONE";var Qr=Wr;function Xr(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var $r=function(){function e(t,n,r){He(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=Xr(this.userKey,a.apiKey,o),this.fullPersistenceKey=Xr("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return Ke(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=Ge(Ve().mark((function e(){var t;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?Kr._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=Ge(Ve().mark((function e(t){var n;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=Ge(Ve().mark((function t(n,r){var i,a,o,s,u,c,l,f,h,d,p,v=arguments;return Ve().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(ir(Qr),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=Ge(Ve().mark((function e(t){return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||ir(Qr),s=Xr(i,n.config.apiKey,n.name),u=null,c=qe(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(s);case 17:if(!(h=t.sent)){t.next=23;break}return d=Kr._fromJSON(n,h),f!==o&&(u=d),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!u){t.next=44;break}return t.next=44,o._set(s,u.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=Ge(Ve().mark((function e(t){return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(s);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function Jr(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(ni(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Zr(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(ii(t))return"Blackberry";if(ai(t))return"Webos";if(ei(t))return"Safari";if((t.includes("chrome/")||ti(t))&&!t.includes("edge/"))return"Chrome";if(ri(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function Zr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mt();return/firefox\//i.test(e)}function ei(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mt(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function ti(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mt();return/crios\//i.test(e)}function ni(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mt();return/iemobile/i.test(e)}function ri(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mt();return/android/i.test(e)}function ii(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mt();return/blackberry/i.test(e)}function ai(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mt();return/webos/i.test(e)}function oi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mt();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function si(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mt();return oi(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function ui(){return function(){var e=mt();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function ci(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mt();return oi(e)||ri(e)||ai(e)||ii(e)||/windows phone/i.test(e)||ni(e)}function li(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Jr(mt());break;case"Worker":t="".concat(Jr(mt()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(wn,"/").concat(r)}var fi=function(){function e(t){He(this,e),this.auth=t,this.queue=[]}return Ke(e,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise((function(n,r){try{n(e(t))}catch(i){r(i)}}))};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(){var e=Ge(Ve().mark((function e(t){var n,r,i,a,o,s,u;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:n=[],e.prev=3,r=qe(this.queue),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=14;break}return a=i.value,e.next=11,a(t);case 11:a.onAbort&&n.push(a.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),r.e(e.t0);case 19:return e.prev=19,r.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),n.reverse(),o=qe(n);try{for(o.s();!(s=o.n()).done;){u=s.value;try{u()}catch(he){}}}catch(c){o.e(c)}finally{o.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===e.t1||void 0===e.t1?void 0:e.t1.message});case 30:case"end":return e.stop()}}),e,this,[[3,24],[5,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),hi=function(){function e(t,n,r){He(this,e),this.app=t,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new pi(this),this.idTokenSubscription=new pi(this),this.beforeStateQueue=new fi(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Yn,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}return Ke(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=ir(t)),this._initializationPromise=this.queue(Ge(Ve().mark((function r(){var i,a;return Ve().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,$r.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=Ge(Ve().mark((function e(){var t;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=Ge(Ve().mark((function e(t){var n,r,i,a,o,s,u;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,i=r,a=!1,!t||!this.config.authDomain){e.next=14;break}return e.next=8,this.getOrInitRedirectPersistenceManager();case 8:return o=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,s=null===i||void 0===i?void 0:i._redirectEventId,e.next=12,this.tryRedirectSignIn(t);case 12:u=e.sent,o&&o!==s||!(null===u||void 0===u?void 0:u.user)||(i=u.user,a=!0);case 14:if(i){e.next=16;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 16:if(i._redirectEventId){e.next=32;break}if(!a){e.next=27;break}return e.prev=18,e.next=21,this.beforeStateQueue.runMiddleware(i);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(18),i=r,this._popupRedirectResolver._overrideRedirectResult(this,(function(){return Promise.reject(e.t0)}));case 27:if(!i){e.next=31;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 31:return e.abrupt("return",this.directlySetCurrentUser(null));case 32:return er(this._popupRedirectResolver,this,"argument-error"),e.next=35,this.getOrInitRedirectPersistenceManager();case 35:if(!this.redirectUser||this.redirectUser._redirectEventId!==i._redirectEventId){e.next=37;break}return e.abrupt("return",this.directlySetCurrentUser(i));case 37:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 38:case"end":return e.stop()}}),e,this,[[18,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=Ge(Ve().mark((function e(t){var n;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=Ge(Ve().mark((function e(t){return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,jr(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=Ge(Ve().mark((function e(){return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=Ge(Ve().mark((function e(t){var n;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?Rt(t):null)&&er(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=Ge(Ve().mark((function e(t){var n,r=this,i=arguments;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&er(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue(Ge(Ve().mark((function e(){return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.directlySetCurrentUser(t);case 2:r.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=Ge(Ve().mark((function e(){return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beforeStateQueue.runMiddleware(null);case 2:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=5;break}return e.next=5,this._setRedirectUser(null);case 5:return e.abrupt("return",this._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(Ge(Ve().mark((function n(){return Ve().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(ir(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new kt("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=Ge(Ve().mark((function e(t,n){var r;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=Ge(Ve().mark((function e(t){var n;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return er(n=t&&ir(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,$r.create(this,[ir(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=Ge(Ve().mark((function e(t){var n,r;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(Ge(Ve().mark((function e(){return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=Ge(Ve().mark((function e(t){var n=this;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(Ge(Ve().mark((function e(){return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return er(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=Ge(Ve().mark((function e(t){return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,!t){e.next=8;break}return e.next=6,this.assertedPersistence.setCurrentUser(t);case 6:e.next=10;break;case 8:return e.next=10,this.assertedPersistence.removeCurrentUser();case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return er(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=li(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=Ge(Ve().mark((function e(){var t,n,r;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function di(e){return Rt(e)}var pi=function(){function e(t){var n=this;He(this,e),this.auth=t,this.observer=null,this.addObserver=function(e,t){var n=new Ct(e,t);return n.subscribe.bind(n)}((function(e){return n.observer=e}))}return Ke(e,[{key:"next",get:function(){return er(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function vi(e,t,n){var r=di(e);er(r._canInitEmulator,r,"emulator-config-failed"),er(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=mi(t),o=function(e){var t=mi(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:yi(r.substr(a.length+1))}}var o=c(r.split(":"),2);return{host:o[0],port:yi(o[1])}}(t),s=o.host,u=o.port,l=null===u?"":":".concat(u);r.config.emulator={url:"".concat(a,"//").concat(s).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:u,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function mi(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function yi(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var gi=function(){function e(t,n){He(this,e),this.providerId=t,this.signInMethod=n}return Ke(e,[{key:"toJSON",value:function(){return tr("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return tr("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return tr("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return tr("not implemented")}}]),e}();function _i(e,t){return ki.apply(this,arguments)}function ki(){return ki=Ge(Ve().mark((function e(t,n){return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",mr(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),ki.apply(this,arguments)}function bi(e,t){return wi.apply(this,arguments)}function wi(){return wi=Ge(Ve().mark((function e(t,n){return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",kr(t,"POST","/v1/accounts:signInWithPassword",vr(t,n)));case 1:case"end":return e.stop()}}),e)}))),wi.apply(this,arguments)}function Ei(e,t){return Ti.apply(this,arguments)}function Ti(){return Ti=Ge(Ve().mark((function e(t,n){return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",kr(t,"POST","/v1/accounts:signInWithEmailLink",vr(t,n)));case 1:case"end":return e.stop()}}),e)}))),Ti.apply(this,arguments)}function Si(e,t){return xi.apply(this,arguments)}function xi(){return xi=Ge(Ve().mark((function e(t,n){return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",kr(t,"POST","/v1/accounts:signInWithEmailLink",vr(t,n)));case 1:case"end":return e.stop()}}),e)}))),xi.apply(this,arguments)}var Ii=function(e){Xe(n,e);var t=et(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return He(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return Ke(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=Ge(Ve().mark((function e(t){return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",bi(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",Ei(t,{email:this._email,oobCode:this._password}));case 5:Qn(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=Ge(Ve().mark((function e(t,n){return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",_i(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",Si(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:Qn(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new n(e,t,"emailLink",r)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(gi);function Ci(e,t){return Ni.apply(this,arguments)}function Ni(){return Ni=Ge(Ve().mark((function e(t,n){return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",kr(t,"POST","/v1/accounts:signInWithIdp",vr(t,n)));case 1:case"end":return e.stop()}}),e)}))),Ni.apply(this,arguments)}var Ri=function(e){Xe(n,e);var t=et(n);function n(){var e;return He(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return Ke(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return Ci(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,Ci(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,Ci(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=St(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Qn("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=zn(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(gi);function Di(e,t){return Ai.apply(this,arguments)}function Ai(){return Ai=Ge(Ve().mark((function e(t,n){return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",mr(t,"POST","/v1/accounts:sendVerificationCode",vr(t,n)));case 1:case"end":return e.stop()}}),e)}))),Ai.apply(this,arguments)}function Oi(){return Oi=Ge(Ve().mark((function e(t,n){return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",kr(t,"POST","/v1/accounts:signInWithPhoneNumber",vr(t,n)));case 1:case"end":return e.stop()}}),e)}))),Oi.apply(this,arguments)}function Pi(){return Pi=Ge(Ve().mark((function e(t,n){var r;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,kr(t,"POST","/v1/accounts:signInWithPhoneNumber",vr(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw Tr(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)}))),Pi.apply(this,arguments)}var Li=i({},"USER_NOT_FOUND","user-not-found");function Mi(){return Mi=Ge(Ve().mark((function e(t,n){var r;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",kr(t,"POST","/v1/accounts:signInWithPhoneNumber",vr(t,r),Li));case 2:case"end":return e.stop()}}),e)}))),Mi.apply(this,arguments)}var Ui=function(e){Xe(n,e);var t=et(n);function n(e){var r;return He(this,n),(r=t.call(this,"phone","phone")).params=e,r}return Ke(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return Oi.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return Pi.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return Mi.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(gi);var ji=function(){function e(t){var n,r,i,a,o,s;He(this,e);var u=xt(It(t)),c=null!==(n=u.apiKey)&&void 0!==n?n:null,l=null!==(r=u.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=u.mode)&&void 0!==i?i:null);er(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=u.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=u.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(s=u.tenantId)&&void 0!==s?s:null}return Ke(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=xt(It(e)).link,n=t?xt(It(t)).deep_link_id:null,r=xt(It(e)).deep_link_id;return(r?xt(It(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(r){return null}}}]),e}();var Fi=function(){function e(){He(this,e),this.providerId=e.PROVIDER_ID}return Ke(e,null,[{key:"credential",value:function(e,t){return Ii._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=ji.parseLink(t);return er(n,"argument-error"),Ii._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();Fi.PROVIDER_ID="password",Fi.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Fi.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var Bi=function(){function e(t){He(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return Ke(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),Vi=function(e){Xe(n,e);var t=et(n);function n(){var e;return He(this,n),(e=t.apply(this,arguments)).scopes=[],e}return Ke(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return W(this.scopes)}}]),n}(Bi),zi=function(e){Xe(n,e);var t=et(n);function n(){return He(this,n),t.call(this,"facebook.com")}return Ke(n,null,[{key:"credential",value:function(e){return Ri._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(r){return null}}}]),n}(Vi);zi.FACEBOOK_SIGN_IN_METHOD="facebook.com",zi.PROVIDER_ID="facebook.com";var Gi=function(e){Xe(n,e);var t=et(n);function n(){var e;return He(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return Ke(n,null,[{key:"credential",value:function(e,t){return Ri._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(a){return null}}}]),n}(Vi);Gi.GOOGLE_SIGN_IN_METHOD="google.com",Gi.PROVIDER_ID="google.com";var qi=function(e){Xe(n,e);var t=et(n);function n(){return He(this,n),t.call(this,"github.com")}return Ke(n,null,[{key:"credential",value:function(e){return Ri._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(r){return null}}}]),n}(Vi);qi.GITHUB_SIGN_IN_METHOD="github.com",qi.PROVIDER_ID="github.com";var Hi=function(e){Xe(n,e);var t=et(n);function n(){return He(this,n),t.call(this,"twitter.com")}return Ke(n,null,[{key:"credential",value:function(e,t){return Ri._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(a){return null}}}]),n}(Vi);function Yi(e,t){return Ki.apply(this,arguments)}function Ki(){return Ki=Ge(Ve().mark((function e(t,n){return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",kr(t,"POST","/v1/accounts:signUp",vr(t,n)));case 1:case"end":return e.stop()}}),e)}))),Ki.apply(this,arguments)}Hi.TWITTER_SIGN_IN_METHOD="twitter.com",Hi.PROVIDER_ID="twitter.com";var Wi=function(){function e(t){He(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return Ke(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=Ge(Ve().mark((function t(n,r,i){var a,o,s,u,c=arguments;return Ve().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,Kr._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,s=Qi(i),u=new e({user:o,providerId:s,_tokenResponse:i,operationType:r}),t.abrupt("return",u);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=Ge(Ve().mark((function t(n,r,i){var a;return Ve().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=Qi(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function Qi(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}var Xi=function(e){Xe(n,e);var t=et(n);function n(e,r,i,a){var o,s;return He(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(We(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return Ke(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(_t);function $i(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw Xi._fromErrorAndOperation(e,n,t,r);throw n}))}function Ji(e,t){return Zi.apply(this,arguments)}function Zi(){return Zi=Ge(Ve().mark((function e(t,n){var r,i,a=arguments;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=Or,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",Wi._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),Zi.apply(this,arguments)}function ea(e,t){return ta.apply(this,arguments)}function ta(){return ta=Ge(Ve().mark((function e(t,n){var r,i,a,o,s,u,c=arguments;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,Or(t,$i(i,a,n,t),r);case 6:return er((o=e.sent).idToken,i,"internal-error"),er(s=Ar(o.idToken),i,"internal-error"),u=s.sub,er(t.uid===u,i,"user-mismatch"),e.abrupt("return",Wi._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&Qn(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),ta.apply(this,arguments)}function na(e,t){return ra.apply(this,arguments)}function ra(){return ra=Ge(Ve().mark((function e(t,n){var r,i,a,o,s=arguments;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i="signIn",e.next=4,$i(t,i,n);case 4:return a=e.sent,e.next=7,Wi._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),ra.apply(this,arguments)}function ia(e,t){return aa.apply(this,arguments)}function aa(){return aa=Ge(Ve().mark((function e(t,n){return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",na(di(t),n));case 1:case"end":return e.stop()}}),e)}))),aa.apply(this,arguments)}function oa(e,t,n){return sa.apply(this,arguments)}function sa(){return sa=Ge(Ve().mark((function e(t,n,r){var i,a,o;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=di(t),e.next=3,Yi(i,{returnSecureToken:!0,email:n,password:r});case 3:return a=e.sent,e.next=6,Wi._fromIdTokenResponse(i,"signIn",a);case 6:return o=e.sent,e.next=9,i._updateCurrentUser(o.user);case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)}))),sa.apply(this,arguments)}function ua(e,t,n){return ia(Rt(e),Fi.credential(t,n))}function ca(e,t,n,r){return Rt(e).onIdTokenChanged(t,n,r)}function la(e,t,n){return Rt(e).beforeAuthStateChanged(t,n)}function fa(e){return Rt(e).signOut()}function ha(e,t){return mr(e,"POST","/v2/accounts/mfaEnrollment:start",vr(e,t))}new WeakMap;var da="__sak",pa=function(){function e(t,n){He(this,e),this.storageRetriever=t,this.type=n}return Ke(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(da,"1"),this.storage.removeItem(da),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var va=function(e){Xe(n,e);var t=et(n);function n(){var e;return He(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=mt();return ei(e)||oi(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=ci(),e._shouldAllowMigration=!0,e}return Ke(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);ui()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=Ge(Ve().mark((function e(t,r){return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Vn($e(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Ge(Ve().mark((function e(t){var r;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Vn($e(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Ge(Ve().mark((function e(t){return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Vn($e(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(pa);va.type="LOCAL";var ma=va,ya=function(e){Xe(n,e);var t=et(n);function n(){return He(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return Ke(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(pa);ya.type="SESSION";var ga=ya;function _a(e){return Promise.all(e.map(function(){var e=Ge(Ve().mark((function e(t){var n;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var ka=function(){function e(t){He(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return Ke(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=Ge(Ve().mark((function e(t){var n,r,i,a,o,s,u,c;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(s=this.handlersMap[a])||void 0===s?void 0:s.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),u=Array.from(s).map(function(){var e=Ge(Ve().mark((function e(t){return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,_a(u);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function ba(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}ka.receivers=[];var wa=function(){function e(t){He(this,e),this.target=t,this.handlers=new Set}return Ke(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=Ge(Ve().mark((function e(t,n){var r,i,a,o,s=this,u=arguments;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=u.length>2&&void 0!==u[2]?u[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,u){var c=ba("",20);i.port1.start();var l=setTimeout((function(){u(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){u(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),u(new Error("invalid_response"))}}},s.handlers.add(o),i.port1.addEventListener("message",o.onMessage),s.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&s.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function Ea(){return window}function Ta(){return"undefined"!==typeof Ea().WorkerGlobalScope&&"function"===typeof Ea().importScripts}function Sa(){return xa.apply(this,arguments)}function xa(){return(xa=Ge(Ve().mark((function e(){var t;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function Ia(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var Ca="firebaseLocalStorageDb",Na="firebaseLocalStorage",Ra="fbase_key",Da=function(){function e(t){He(this,e),this.request=t}return Ke(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function Aa(e,t){return e.transaction([Na],t?"readwrite":"readonly").objectStore(Na)}function Oa(){var e=indexedDB.deleteDatabase(Ca);return new Da(e).toPromise()}function Pa(){var e=indexedDB.open(Ca,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(Na,{keyPath:Ra})}catch(r){n(r)}})),e.addEventListener("success",Ge(Ve().mark((function n(){var r;return Ve().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(Na)){n.next=12;break}return r.close(),n.next=5,Oa();case 5:return n.t0=t,n.next=8,Pa();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function La(e,t,n){return Ma.apply(this,arguments)}function Ma(){return Ma=Ge(Ve().mark((function e(t,n,r){var a,o;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=Aa(t,!0).put((i(a={},Ra,n),i(a,"value",r),a)),e.abrupt("return",new Da(o).toPromise());case 2:case"end":return e.stop()}}),e)}))),Ma.apply(this,arguments)}function Ua(e,t){return ja.apply(this,arguments)}function ja(){return ja=Ge(Ve().mark((function e(t,n){var r,i;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Aa(t,!1).get(n),e.next=3,new Da(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),ja.apply(this,arguments)}function Fa(e,t){var n=Aa(e,!0).delete(t);return new Da(n).toPromise()}var Ba=function(){function e(){He(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return Ke(e,[{key:"_openDb",value:function(){var e=Ge(Ve().mark((function e(){return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,Pa();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=Ge(Ve().mark((function e(t){var n,r;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=Ge(Ve().mark((function e(){return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ta()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=Ge(Ve().mark((function e(){var t=this;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=ka._getInstance(Ta()?self:null),this.receiver._subscribe("keyChanged",function(){var e=Ge(Ve().mark((function e(n,r){var i;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=Ge(Ve().mark((function e(t,n){return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=Ge(Ve().mark((function e(){var t,n,r;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Sa();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new wa(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=Ge(Ve().mark((function e(t){return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&Ia()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=Ge(Ve().mark((function e(){var t;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,Pa();case 5:return t=e.sent,e.next=8,La(t,da,"1");case 8:return e.next=10,Fa(t,da);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=Ge(Ve().mark((function e(t){return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Ge(Ve().mark((function e(t,n){var r=this;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Ge(Ve().mark((function e(){return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return La(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Ge(Ve().mark((function e(t){var n;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return Ua(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Ge(Ve().mark((function e(t){var n=this;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Ge(Ve().mark((function e(){return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return Fa(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=Ge(Ve().mark((function e(){var t,n,r,i,a,o,s,u,c,l,f;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=Aa(e,!1).getAll();return new Da(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=qe(t);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.fbase_key,u=o.value,r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(u)&&(this.notifyListeners(s,u),n.push(s))}catch(h){i.e(h)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(Ge(Ve().mark((function t(){return Ve().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();Ba.type="LOCAL";var Va=Ba;function za(e,t){return mr(e,"POST","/v2/accounts/mfaSignIn:start",vr(e,t))}function Ga(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=Xn("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function qa(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}qa("rcb"),new lr(3e4,6e4);var Ha="recaptcha";function Ya(e,t,n){return Ka.apply(this,arguments)}function Ka(){return Ka=Ge(Ve().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,h;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,er("string"===typeof a,t,"argument-error"),er(r.type===Ha,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(s=o.session,!("phoneNumber"in o)){e.next=17;break}return er("enroll"===s.type,t,"internal-error"),e.next=13,ha(t,{idToken:s.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return u=e.sent,e.abrupt("return",u.phoneSessionInfo.sessionInfo);case 17:return er("signin"===s.type,t,"internal-error"),er(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,za(t,{mfaPendingCredential:s.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,Di(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,h=f.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),Ka.apply(this,arguments)}var Wa=function(){function e(t){He(this,e),this.providerId=e.PROVIDER_ID,this.auth=di(t)}return Ke(e,[{key:"verifyPhoneNumber",value:function(e,t){return Ya(this.auth,e,Rt(t))}}],[{key:"credential",value:function(e,t){return Ui._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?Ui._fromTokenResponse(n,r):null}}]),e}();function Qa(e,t){return t?ir(t):(er(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Wa.PROVIDER_ID="phone",Wa.PHONE_SIGN_IN_METHOD="phone";var Xa=function(e){Xe(n,e);var t=et(n);function n(e){var r;return He(this,n),(r=t.call(this,"custom","custom")).params=e,r}return Ke(n,[{key:"_getIdTokenResponse",value:function(e){return Ci(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return Ci(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return Ci(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(gi);function $a(e){return na(e.auth,new Xa(e),e.bypassAuthState)}function Ja(e){var t=e.auth,n=e.user;return er(n,t,"internal-error"),ea(n,new Xa(e),e.bypassAuthState)}function Za(e){return eo.apply(this,arguments)}function eo(){return eo=Ge(Ve().mark((function e(t){var n,r;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,er(r=t.user,n,"internal-error"),e.abrupt("return",Ji(r,new Xa(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)}))),eo.apply(this,arguments)}var to=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];He(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return Ke(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=Ge(Ve().mark((function t(n,r){return Ve().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=Ge(Ve().mark((function e(t){var n,r,i,a,o,s,u;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,s=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return u={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(s)(u);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return $a;case"linkViaPopup":case"linkViaRedirect":return Za;case"reauthViaPopup":case"reauthViaRedirect":return Ja;default:Qn(this.auth,"internal-error")}}},{key:"resolve",value:function(e){nr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){nr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),no=new lr(2e3,1e4);function ro(e,t,n){return io.apply(this,arguments)}function io(){return io=Ge(Ve().mark((function e(t,n,r){var i,a,o;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=di(t),Jn(t,n,Bi),a=Qa(i,r),o=new ao(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),io.apply(this,arguments)}var ao=function(e){Xe(n,e);var t=et(n);function n(e,r,i,a,o){var s;return He(this,n),(s=t.call(this,e,r,a,o)).provider=i,s.authWindow=null,s.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=We(s),s}return Ke(n,[{key:"executeNotNull",value:function(){var e=Ge(Ve().mark((function e(){var t;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return er(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Ge(Ve().mark((function e(){var t,n=this;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return nr(1===this.filter.length,"Popup operations only handle one event"),t=ba(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(Xn(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(Xn(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(Xn(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,no.get())}()}}]),n}(to);ao.currentPopupAction=null;var oo=new Map,so=function(e){Xe(n,e);var t=et(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return He(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return Ke(n,[{key:"execute",value:function(){var e=Ge(Ve().mark((function e(){var t,r;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=oo.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,uo(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,Vn($e(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:oo.set(this.auth._key(),t);case 21:return this.bypassAuthState||oo.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=Ge(Ve().mark((function e(t){var r;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",Vn($e(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",Vn($e(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Ge(Ve().mark((function e(){return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(to);function uo(e,t){return co.apply(this,arguments)}function co(){return co=Ge(Ve().mark((function e(t,n){var r,i,a;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ho(n),i=fo(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),co.apply(this,arguments)}function lo(e,t){oo.set(e._key(),t)}function fo(e){return ir(e._redirectPersistence)}function ho(e){return Xr("pendingRedirect",e.config.apiKey,e.name)}function po(e,t){return vo.apply(this,arguments)}function vo(){return vo=Ge(Ve().mark((function e(t,n){var r,i,a,o,s,u=arguments;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i=di(t),a=Qa(i,n),o=new so(i,a,r),e.next=6,o.execute();case 6:if(!(s=e.sent)||r){e.next=13;break}return delete s.user._redirectEventId,e.next=11,i._persistUserIfCurrent(s.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",s);case 14:case"end":return e.stop()}}),e)}))),vo.apply(this,arguments)}var mo=function(){function e(t){He(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return Ke(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return go(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!go(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Xn(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(yo(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(yo(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function yo(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function go(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function _o(e){return ko.apply(this,arguments)}function ko(){return ko=Ge(Ve().mark((function e(t){var n,r=arguments;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",mr(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),ko.apply(this,arguments)}var bo=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,wo=/^https?/;function Eo(){return Eo=Ge(Ve().mark((function e(t){var n,r,i,a,o;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,_o(t);case 4:n=e.sent,r=n.authorizedDomains,i=qe(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!To(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:Qn(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])}))),Eo.apply(this,arguments)}function To(e){var t=or(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!wo.test(r))return!1;if(bo.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var So=new lr(3e4,6e4);function xo(){var e=Ea().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=W(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var Io=null;function Co(e){return Io=Io||function(e){return new Promise((function(t,n){var r,i,a;function o(){xo(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){xo(),n(Xn(e,"network-request-failed"))},timeout:So.get()})}if(null===(i=null===(r=Ea().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=Ea().gapi)||void 0===a?void 0:a.load)){var s=qa("iframefcb");return Ea()[s]=function(){gapi.load?o():n(Xn(e,"network-request-failed"))},Ga("https://apis.google.com/js/api.js?onload=".concat(s)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw Io=null,e}))}(e),Io}var No=new lr(5e3,15e3),Ro={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Do=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ao(e){var t=e.config;er(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?fr(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:wn},i=Do.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(St(r).slice(1))}function Oo(e){return Po.apply(this,arguments)}function Po(){return Po=Ge(Ve().mark((function e(t){var n,r;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Co(t);case 2:return n=e.sent,er(r=Ea().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:Ao(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ro,dontclear:!0},(function(e){return new Promise(function(){var n=Ge(Ve().mark((function n(r,i){var a,o,s;return Ve().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s=function(){Ea().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=Xn(t,"network-request-failed"),o=Ea().setTimeout((function(){i(a)}),No.get()),e.ping(s).then(s,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),Po.apply(this,arguments)}var Lo={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Mo="_blank",Uo="http://localhost",jo=function(){function e(t){He(this,e),this.window=t,this.associatedEvent=null}return Ke(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function Fo(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),s="",u=Object.assign(Object.assign({},Lo),{width:r.toString(),height:i.toString(),top:a,left:o}),l=mt().toLowerCase();n&&(s=ti(l)?Mo:n),Zr(l)&&(t=t||Uo,u.scrollbars="yes");var f=Object.entries(u).reduce((function(e,t){var n=c(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(si(l)&&"_self"!==s)return Bo(t||"",s),new jo(null);var h=window.open(t||"",s,f);er(h,e,"popup-blocked");try{h.focus()}catch(d){}return new jo(h)}function Bo(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var Vo="__/auth/handler",zo="emulator/auth/handler";function Go(e,t,n,r,i,a){er(e.config.authDomain,e,"auth-domain-config-required"),er(e.config.apiKey,e,"invalid-api-key");var o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:wn,eventId:i};if(t instanceof Bi){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(var s=0,u=Object.entries(a||{});s<u.length;s++){var l=c(u[s],2),f=l[0],h=l[1];o[f]=h}}if(t instanceof Vi){var d=t.getScopes().filter((function(e){return""!==e}));d.length>0&&(o.scopes=d.join(","))}e.tenantId&&(o.tid=e.tenantId);for(var p=o,v=0,m=Object.keys(p);v<m.length;v++){var y=m[v];void 0===p[y]&&delete p[y]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(Vo);return fr(t,zo)}(e),"?").concat(St(p).slice(1))}var qo="webStorageSupport",Ho=function(){function e(){He(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ga,this._completeRedirectFn=po,this._overrideRedirectResult=lo}return Ke(e,[{key:"_openPopup",value:function(){var e=Ge(Ve().mark((function e(t,n,r,i){var a,o;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return nr(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),o=Go(t,n,r,or(),i),e.abrupt("return",Fo(t,o,ba()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Ge(Ve().mark((function e(t,n,r,i){return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return a=Go(t,n,r,or(),i),Ea().location.href=a,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var a}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(nr(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=Ge(Ve().mark((function e(t){var n,r;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Oo(t);case 2:return n=e.sent,r=new mo(t),n.register("authEvent",(function(e){return er(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(qo,{type:qo},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),Qn(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return Eo.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return ci()||ei()||oi()}}]),e}(),Yo=Ho,Ko=function(){function e(t){He(this,e),this.factorId=t}return Ke(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return tr("unexpected MultiFactorSessionType")}}}]),e}(),Wo=function(e){Xe(n,e);var t=et(n);function n(e){var r;return He(this,n),(r=t.call(this,"phone")).credential=e,r}return Ke(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return mr(e,"POST","/v2/accounts/mfaEnrollment:finalize",vr(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return mr(e,"POST","/v2/accounts/mfaSignIn:finalize",vr(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(Ko);(function(){function e(){He(this,e)}return Ke(e,null,[{key:"assertion",value:function(e){return Wo._fromCredential(e)}}]),e}()).FACTOR_ID="phone";var Qo="@firebase/auth",Xo="0.21.5",$o=function(){function e(t){He(this,e),this.auth=t,this.internalListeners=new Map}return Ke(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=Ge(Ve().mark((function e(t){var n;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){er(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();var Jo,Zo=dt("authIdTokenMaxAge")||300,es=null,ts=function(e){return function(){var t=Ge(Ve().mark((function t(n){var r,i,a;return Ve().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=n,!t.t0){t.next=5;break}return t.next=4,n.getIdTokenResult();case 4:t.t0=t.sent;case 5:if(r=t.t0,!((i=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3)&&i>Zo)){t.next=9;break}return t.abrupt("return");case 9:if(a=null===r||void 0===r?void 0:r.token,es!==a){t.next=12;break}return t.abrupt("return");case 12:return es=a,t.next=15,fetch(e,{method:a?"POST":"DELETE",headers:a?{Authorization:"Bearer ".concat(a)}:{}});case 15:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()};Jo="Browser",yn(new Dt("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=r.options,o=a.apiKey,s=a.authDomain;return function(e,t){er(o&&!o.includes(":"),"invalid-api-key",{appName:e.name}),er(!(null===s||void 0===s?void 0:s.includes(":")),"argument-error",{appName:e.name});var r={apiKey:o,authDomain:s,clientPlatform:Jo,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:li(Jo)},i=new hi(e,t,r);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ir);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(i,n),i}(r,i)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),yn(new Dt("auth-internal",(function(e){return function(e){return new $o(e)}(di(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),Sn(Qo,Xo,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(Jo)),Sn(Qo,Xo,"esm2017");var ns,rs="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},is={},as=as||{},os=rs||self;function ss(){}function us(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function cs(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var ls="closure_uid_"+(1e9*Math.random()>>>0),fs=0;function hs(e,t,n){return e.call.apply(e.bind,arguments)}function ds(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function ps(e,t,n){return(ps=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?hs:ds).apply(null,arguments)}function vs(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function ms(e,t){function n(){}n.prototype=t.prototype,e.X=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Wb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function ys(){this.s=this.s,this.o=this.o}ys.prototype.s=!1,ys.prototype.na=function(){var e;!this.s&&(this.s=!0,this.M(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,ls)&&e[ls]||(e[ls]=++fs))},ys.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var gs=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function _s(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function ks(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(us(r)){var i=e.length||0,a=r.length||0;e.length=i+a;for(var o=0;o<a;o++)e[i+o]=r[o]}else e.push(r)}}function bs(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}bs.prototype.h=function(){this.defaultPrevented=!0};var ws=function(){if(!os.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{os.addEventListener("test",ss,t),os.removeEventListener("test",ss,t)}catch(n){}return e}();function Es(e){return/^[\s\xa0]*$/.test(e)}var Ts=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Ss(e,t){return e<t?-1:e>t?1:0}function xs(){var e=os.navigator;return e&&(e=e.userAgent)?e:""}function Is(e){return-1!=xs().indexOf(e)}function Cs(e){return Cs[" "](e),e}Cs[" "]=ss;var Ns,Rs=Is("Opera"),Ds=Is("Trident")||Is("MSIE"),As=Is("Edge"),Os=As||Ds,Ps=Is("Gecko")&&!(-1!=xs().toLowerCase().indexOf("webkit")&&!Is("Edge"))&&!(Is("Trident")||Is("MSIE"))&&!Is("Edge"),Ls=-1!=xs().toLowerCase().indexOf("webkit")&&!Is("Edge");function Ms(){var e=os.document;return e?e.documentMode:void 0}e:{var Us="",js=function(){var e=xs();return Ps?/rv:([^\);]+)(\)|;)/.exec(e):As?/Edge\/([\d\.]+)/.exec(e):Ds?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Ls?/WebKit\/(\S+)/.exec(e):Rs?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(js&&(Us=js?js[1]:""),Ds){var Fs=Ms();if(null!=Fs&&Fs>parseFloat(Us)){Ns=String(Fs);break e}}Ns=Us}var Bs,Vs={};function zs(){return function(e){var t=Vs;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=Ts(String(Ns)).split("."),n=Ts("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=Ss(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||Ss(0==a[2].length,0==o[2].length)||Ss(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(os.document&&Ds){var Gs=Ms();Bs=Gs||(parseInt(Ns,10)||void 0)}else Bs=void 0;var qs=Bs;function Hs(e,t){if(bs.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Ps){e:{try{Cs(t.nodeName);var i=!0;break e}catch(re){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:Ys[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Hs.X.h.call(this)}}ms(Hs,bs);var Ys={2:"touch",3:"pen",4:"mouse"};Hs.prototype.h=function(){Hs.X.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Ks="closure_listenable_"+(1e6*Math.random()|0),Ws=0;function Qs(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++Ws,this.ba=this.ea=!1}function Xs(e){e.ba=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function $s(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function Js(e){var t={};for(var n in e)t[n]=e[n];return t}var Zs="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function eu(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<Zs.length;a++)n=Zs[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function tu(e){this.src=e,this.g={},this.h=0}function nu(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=gs(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(Xs(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function ru(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ba&&a.listener==t&&a.capture==!!n&&a.ha==r)return i}return-1}tu.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=ru(e,t,r,i);return-1<o?(t=e[o],n||(t.ea=!1)):((t=new Qs(t,this.src,a,!!r,i)).ea=n,e.push(t)),t};var iu="closure_lm_"+(1e6*Math.random()|0),au={};function ou(e,t,n,r,i){if(r&&r.once)return uu(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)ou(e,t[a],n,r,i);return null}return n=vu(n),e&&e[Ks]?e.N(t,n,cs(r)?!!r.capture:!!r,i):su(e,t,n,!1,r,i)}function su(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=cs(i)?!!i.capture:!!i,s=du(e);if(s||(e[iu]=s=new tu(e)),(n=s.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=hu;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)ws||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(fu(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function uu(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)uu(e,t[a],n,r,i);return null}return n=vu(n),e&&e[Ks]?e.O(t,n,cs(r)?!!r.capture:!!r,i):su(e,t,n,!0,r,i)}function cu(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)cu(e,t[a],n,r,i);else r=cs(r)?!!r.capture:!!r,n=vu(n),e&&e[Ks]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=ru(a=e.g[t],n,r,i))&&(Xs(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=du(e))&&(t=e.g[t.toString()],e=-1,t&&(e=ru(t,n,r,i)),(n=-1<e?t[e]:null)&&lu(n))}function lu(e){if("number"!==typeof e&&e&&!e.ba){var t=e.src;if(t&&t[Ks])nu(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(fu(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=du(t))?(nu(n,e),0==n.h&&(n.src=null,t[iu]=null)):Xs(e)}}}function fu(e){return e in au?au[e]:au[e]="on"+e}function hu(e,t){if(e.ba)e=!0;else{t=new Hs(t,this);var n=e.listener,r=e.ha||e.src;e.ea&&lu(e),e=n.call(r,t)}return e}function du(e){return(e=e[iu])instanceof tu?e:null}var pu="__closure_events_fn_"+(1e9*Math.random()>>>0);function vu(e){return"function"===typeof e?e:(e[pu]||(e[pu]=function(t){return e.handleEvent(t)}),e[pu])}function mu(){ys.call(this),this.i=new tu(this),this.P=this,this.I=null}function yu(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new bs(t,e);else if(t instanceof bs)t.target=t.target||e;else{var i=t;eu(t=new bs(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=gu(o,r,!0,t)&&i}if(i=gu(o=t.g=e,r,!0,t)&&i,i=gu(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=gu(o=t.g=n[a],r,!1,t)&&i}function gu(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ba&&o.capture==n){var s=o.listener,u=o.ha||o.src;o.ea&&nu(e.i,o),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}ms(mu,ys),mu.prototype[Ks]=!0,mu.prototype.removeEventListener=function(e,t,n,r){cu(this,e,t,n,r)},mu.prototype.M=function(){if(mu.X.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Xs(n[r]);delete t.g[e],t.h--}}this.I=null},mu.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},mu.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var _u=os.JSON.stringify;function ku(){var e=Cu,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var bu,wu=function(){function e(){He(this,e),this.h=this.g=null}return Ke(e,[{key:"add",value:function(e,t){var n=Eu.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),Eu=new(function(){function e(t,n){He(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return Ke(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new Tu}),(function(e){return e.reset()})),Tu=function(){function e(){He(this,e),this.next=this.g=this.h=null}return Ke(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function Su(e){os.setTimeout((function(){throw e}),0)}function xu(e,t){bu||function(){var e=os.Promise.resolve(void 0);bu=function(){e.then(Nu)}}(),Iu||(bu(),Iu=!0),Cu.add(e,t)}var Iu=!1,Cu=new wu;function Nu(){for(var e;e=ku();){try{e.h.call(e.g)}catch(n){Su(n)}var t=Eu;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Iu=!1}function Ru(e,t){mu.call(this),this.h=e||1,this.g=t||os,this.j=ps(this.lb,this),this.l=Date.now()}function Du(e){e.ca=!1,e.R&&(e.g.clearTimeout(e.R),e.R=null)}function Au(e,t,n){if("function"===typeof e)n&&(e=ps(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=ps(e.handleEvent,e)}return 2147483647<Number(t)?-1:os.setTimeout(e,t||0)}function Ou(e){e.g=Au((function(){e.g=null,e.i&&(e.i=!1,Ou(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}ms(Ru,mu),(ns=Ru.prototype).ca=!1,ns.R=null,ns.lb=function(){if(this.ca){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-e):(this.R&&(this.g.clearTimeout(this.R),this.R=null),yu(this,"tick"),this.ca&&(Du(this),this.start()))}},ns.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ns.M=function(){Ru.X.M.call(this),Du(this),delete this.g};var Pu=function(e){Xe(n,e);var t=et(n);function n(e,r){var i;return He(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return Ke(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:Ou(this)}},{key:"M",value:function(){Vn($e(n.prototype),"M",this).call(this),this.g&&(os.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(ys);function Lu(e){ys.call(this),this.h=e,this.g={}}ms(Lu,ys);var Mu=[];function Uu(e,t,n,r){Array.isArray(n)||(n&&(Mu[0]=n.toString()),n=Mu);for(var i=0;i<n.length;i++){var a=ou(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function ju(e){$s(e.g,(function(e,t){this.g.hasOwnProperty(t)&&lu(e)}),e),e.g={}}function Fu(){this.g=!0}function Bu(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return _u(n)}catch(s){return t}}(e,n)+(r?" "+r:"")}))}Lu.prototype.M=function(){Lu.X.M.call(this),ju(this)},Lu.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Fu.prototype.Aa=function(){this.g=!1},Fu.prototype.info=function(){};var Vu={},zu=null;function Gu(){return zu=zu||new mu}function qu(e){bs.call(this,Vu.Pa,e)}function Hu(e){var t=Gu();yu(t,new qu(t))}function Yu(e,t){bs.call(this,Vu.STAT_EVENT,e),this.stat=t}function Ku(e){var t=Gu();yu(t,new Yu(t,e))}function Wu(e,t){bs.call(this,Vu.Qa,e),this.size=t}function Qu(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return os.setTimeout((function(){e()}),t)}Vu.Pa="serverreachability",ms(qu,bs),Vu.STAT_EVENT="statevent",ms(Yu,bs),Vu.Qa="timingevent",ms(Wu,bs);var Xu={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},$u={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function Ju(){}function Zu(e){return e.h||(e.h=e.i())}function ec(){}Ju.prototype.h=null;var tc,nc={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function rc(){bs.call(this,"d")}function ic(){bs.call(this,"c")}function ac(){}function oc(e,t,n,r){this.l=e,this.j=t,this.m=n,this.U=r||1,this.S=new Lu(this),this.O=uc,e=Os?125:void 0,this.T=new Ru(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new sc}function sc(){this.i=null,this.g="",this.h=!1}ms(rc,bs),ms(ic,bs),ms(ac,Ju),ac.prototype.g=function(){return new XMLHttpRequest},ac.prototype.i=function(){return{}},tc=new ac;var uc=45e3,cc={},lc={};function fc(e,t,n){e.K=1,e.v=Rc(Sc(t)),e.s=n,e.P=!0,hc(e,null)}function hc(e,t){e.F=Date.now(),mc(e),e.A=Sc(e.v);var n=e.A,r=e.U;Array.isArray(r)||(r=[String(r)]),Gc(n.i,"t",r),e.C=0,n=e.l.H,e.h=new sc,e.g=ql(e.l,n?t:null,!e.s),0<e.N&&(e.L=new Pu(ps(e.La,e,e.g),e.N)),Uu(e.S,e.g,"readystatechange",e.ib),t=e.H?Js(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.da(e.A,e.u,e.s,t)):(e.u="GET",e.g.da(e.A,e.u,null,t)),Hu(),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",s=a.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.U,e.s)}function dc(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Da)}function pc(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=vc(e,n))==lc){4==t&&(e.o=4,Ku(14),i=!1),Bu(e.j,e.m,null,"[Incomplete Response]");break}if(r==cc){e.o=4,Ku(15),Bu(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Bu(e.j,e.m,r,null),bc(e,r)}dc(e)&&r!=lc&&r!=cc&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Ku(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.$&&(e.$=!0,(t=e.l).g==e&&t.$&&!t.K&&(t.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),Ml(t),t.K=!0,Ku(11))):(Bu(e.j,e.m,n,"[Invalid Chunked Response]"),kc(e),_c(e))}function vc(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?lc:(n=Number(t.substring(n,r)),isNaN(n)?cc:(r+=1)+n>t.length?lc:(t=t.substr(r,n),e.C=r+n,t))}function mc(e){e.V=Date.now()+e.O,yc(e,e.O)}function yc(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Qu(ps(e.gb,e),t)}function gc(e){e.B&&(os.clearTimeout(e.B),e.B=null)}function _c(e){0==e.l.G||e.I||Fl(e.l,e)}function kc(e){gc(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,Du(e.T),ju(e.S),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function bc(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||$c(n.h,e)))if(!e.J&&$c(n.h,e)&&3==n.G){try{var r=n.Fa.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;jl(n),Cl(n)}Ll(n),Ku(18)}}else n.Ba=i[1],0<n.Ba-n.T&&37500>i[2]&&n.L&&0==n.A&&!n.v&&(n.v=Qu(ps(n.cb,n),6e3));if(1>=Xc(n.h)&&n.ja){try{n.ja()}catch(a){}n.ja=void 0}}else Vl(n,11)}else if((e.J||n.g==e)&&jl(n),!Es(t))for(i=n.Fa.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.T=a[0],a=a[1],2==n.G)if("c"==a[0]){n.I=a[1],n.ka=a[2];var o=a[3];null!=o&&(n.ma=o,n.j.info("VER="+n.ma));var s=a[4];null!=s&&(n.Ca=s,n.j.info("SVER="+n.Ca));var u=a[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.J=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.h;f.g||-1==l.indexOf("spdy")&&-1==l.indexOf("quic")&&-1==l.indexOf("h2")||(f.j=f.l,f.g=new Set,f.h&&(Jc(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.za=h,Nc(r.F,r.D,h))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-e.F,n.j.info("Handshake RTT: "+n.P+"ms"));var d=e;if((r=n).sa=Gl(r,r.H?r.ka:null,r.V),d.J){Zc(r.h,d);var p=d,v=r.J;v&&p.setTimeout(v),p.B&&(gc(p),mc(p)),r.g=d}else Pl(r);0<n.i.length&&Rl(n)}else"stop"!=a[0]&&"close"!=a[0]||Vl(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?Vl(n,7):Il(n):"noop"!=a[0]&&n.l&&n.l.wa(a),n.A=0)}Hu()}catch(a){}}function wc(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(us(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.oa&&"function"==typeof e.oa)return e.oa();if(!e.W||"function"!=typeof e.W){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(us(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}}(e),r=function(e){if(e.W&&"function"==typeof e.W)return e.W();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(us(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}(ns=oc.prototype).setTimeout=function(e){this.O=e},ns.ib=function(e){e=e.target;var t=this.L;t&&3==bl(e)?t.l():this.La(e)},ns.La=function(e){try{if(e==this.g)e:{var t=bl(this.g),n=this.g.Ea();this.g.aa();if(!(3>t)&&(3!=t||Os||this.g&&(this.h.h||this.g.fa()||wl(this.g)))){this.I||4!=t||7==n||Hu(),gc(this);var r=this.g.aa();this.Y=r;t:if(dc(this)){var i=wl(this.g);e="";var a=i.length,o=4==bl(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){kc(this),_c(this);var s="";break t}this.h.i=new os.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(i[n],{stream:o&&n==a-1});i.splice(0,a),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.fa();if(this.i=200==r,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.U,t,r),this.i){if(this.Z&&!this.J){t:{if(this.g){var u,c=this.g;if((u=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Es(u)){var l=u;break t}}l=null}if(!(r=l)){this.i=!1,this.o=3,Ku(12),kc(this),_c(this);break e}Bu(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,bc(this,r)}this.P?(pc(this,t,s),Os&&this.i&&3==t&&(Uu(this.S,this.T,"tick",this.hb),this.T.start())):(Bu(this.j,this.m,s,null),bc(this,s)),4==t&&kc(this),this.i&&!this.I&&(4==t?Fl(this.l,this):(this.i=!1,mc(this)))}else 400==r&&0<s.indexOf("Unknown SID")?(this.o=3,Ku(12)):(this.o=0,Ku(13)),kc(this),_c(this)}}}catch(t){}},ns.hb=function(){if(this.g){var e=bl(this.g),t=this.g.fa();this.C<t.length&&(gc(this),pc(this,e,t),this.i&&4!=e&&mc(this))}},ns.cancel=function(){this.I=!0,kc(this)},ns.gb=function(){this.B=null;var e=Date.now();0<=e-this.V?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(Hu(),Ku(17)),kc(this),this.o=2,_c(this)):yc(this,this.V-e)};var Ec=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Tc(e,t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof Tc){this.h=void 0!==t?t:e.h,xc(this,e.j),this.s=e.s,this.g=e.g,Ic(this,e.m),this.l=e.l,t=e.i;var n=new Fc;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),Cc(this,n),this.o=e.o}else e&&(n=String(e).match(Ec))?(this.h=!!t,xc(this,n[1]||"",!0),this.s=Dc(n[2]||""),this.g=Dc(n[3]||"",!0),Ic(this,n[4]),this.l=Dc(n[5]||"",!0),Cc(this,n[6]||"",!0),this.o=Dc(n[7]||"")):(this.h=!!t,this.i=new Fc(null,this.h))}function Sc(e){return new Tc(e)}function xc(e,t,n){e.j=n?Dc(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Ic(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Cc(e,t,n){t instanceof Fc?(e.i=t,function(e,t){t&&!e.j&&(Bc(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Vc(this,t),Gc(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=Ac(t,Uc)),e.i=new Fc(t,e.h))}function Nc(e,t,n){e.i.set(t,n)}function Rc(e){return Nc(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Dc(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Ac(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Oc),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Oc(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Tc.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Ac(t,Pc,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Ac(t,Pc,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(Ac(n,"/"==n.charAt(0)?Mc:Lc,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Ac(n,jc)),e.join("")};var Pc=/[#\/\?@]/g,Lc=/[#\?:]/g,Mc=/[#\?]/g,Uc=/[#\?@]/g,jc=/#/g;function Fc(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Bc(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Vc(e,t){Bc(e),t=qc(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function zc(e,t){return Bc(e),t=qc(e,t),e.g.has(t)}function Gc(e,t,n){Vc(e,t),0<n.length&&(e.i=null,e.g.set(qc(e,t),_s(n)),e.h+=n.length)}function qc(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(ns=Fc.prototype).add=function(e,t){Bc(this),this.i=null,e=qc(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},ns.forEach=function(e,t){Bc(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},ns.oa=function(){Bc(this);for(var e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},ns.W=function(e){Bc(this);var t=[];if("string"===typeof e)zc(this,e)&&(t=t.concat(this.g.get(qc(this,e))));else{e=Array.from(this.g.values());for(var n=0;n<e.length;n++)t=t.concat(e[n])}return t},ns.set=function(e,t){return Bc(this),this.i=null,zc(this,e=qc(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},ns.get=function(e,t){return e&&0<(e=this.W(e)).length?String(e[0]):t},ns.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=Array.from(this.g.keys()),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r)),a=this.W(r);for(r=0;r<a.length;r++){var o=i;""!==a[r]&&(o+="="+encodeURIComponent(String(a[r]))),e.push(o)}}return this.i=e.join("&")};var Hc=Ke((function e(t,n){He(this,e),this.h=t,this.g=n}));function Yc(e){this.l=e||Wc,os.PerformanceNavigationTiming?e=0<(e=os.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(os.g&&os.g.Ga&&os.g.Ga()&&os.g.Ga().$b),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Kc,Wc=10;function Qc(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Xc(e){return e.h?1:e.g?e.g.size:0}function $c(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Jc(e,t){e.g?e.g.add(t):e.h=t}function Zc(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function el(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=qe(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return _s(e.i)}function tl(){}function nl(){this.g=new tl}function rl(e,t,n){var r=n||"";try{wc(e,(function(e,n){var i=e;cs(e)&&(i=_u(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function il(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(re){}}function al(e){this.l=e.ac||null,this.j=e.jb||!1}function ol(e,t){mu.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=sl,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Yc.prototype.cancel=function(){if(this.i=el(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=qe(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},tl.prototype.stringify=function(e){return os.JSON.stringify(e,void 0)},tl.prototype.parse=function(e){return os.JSON.parse(e,void 0)},ms(al,Ju),al.prototype.g=function(){return new ol(this.l,this.j)},al.prototype.i=(Kc={},function(){return Kc}),ms(ol,mu);var sl=0;function ul(e){e.j.read().then(e.Ta.bind(e)).catch(e.ga.bind(e))}function cl(e){e.readyState=4,e.l=null,e.j=null,e.A=null,ll(e)}function ll(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(ns=ol.prototype).open=function(e,t){if(this.readyState!=sl)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,ll(this)},ns.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||os).fetch(new Request(this.B,t)).then(this.Wa.bind(this),this.ga.bind(this))},ns.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((function(){})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,cl(this)),this.readyState=sl},ns.Wa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,ll(this)),this.g&&(this.readyState=3,ll(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if("undefined"!==typeof os.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;ul(this)}else e.text().then(this.Va.bind(this),this.ga.bind(this))},ns.Ta=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?cl(this):ll(this),3==this.readyState&&ul(this)}},ns.Va=function(e){this.g&&(this.response=this.responseText=e,cl(this))},ns.Ua=function(e){this.g&&(this.response=e,cl(this))},ns.ga=function(){this.g&&cl(this)},ns.setRequestHeader=function(e,t){this.v.append(e,t)},ns.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},ns.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(ol.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var fl=os.JSON.parse;function hl(e){mu.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=dl,this.K=this.L=!1}ms(hl,mu);var dl="",pl=/^https?$/i,vl=["POST","PUT"];function ml(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,yl(e),_l(e)}function yl(e){e.D||(e.D=!0,yu(e,"complete"),yu(e,"error"))}function gl(e){if(e.h&&"undefined"!=typeof as&&(!e.C[1]||4!=bl(e)||2!=e.aa()))if(e.v&&4==bl(e))Au(e.Ha,0,e);else if(yu(e,"readystatechange"),4==bl(e)){e.h=!1;try{var t,n=e.aa();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(Ec)[1]||null;if(!a&&os.self&&os.self.location){var o=os.self.location.protocol;a=o.substr(0,o.length-1)}i=!pl.test(a?a.toLowerCase():"")}t=i}if(t)yu(e,"complete"),yu(e,"success");else{e.m=6;try{var s=2<bl(e)?e.g.statusText:""}catch(Z){s=""}e.j=s+" ["+e.aa()+"]",yl(e)}}finally{_l(e)}}}function _l(e,t){if(e.g){kl(e);var n=e.g,r=e.C[0]?ss:null;e.g=null,e.C=null,t||yu(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function kl(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(os.clearTimeout(e.A),e.A=null)}function bl(e){return e.g?e.g.readyState:0}function wl(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case dl:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(le){return null}}function El(e){var t="";return $s(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Tl(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=El(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Nc(e,t,n))}function Sl(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function xl(e){this.Ca=0,this.i=[],this.j=new Fu,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=Sl("failFast",!1,e),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=Sl("baseRetryDelayMs",5e3,e),this.bb=Sl("retryDelaySeedMs",1e4,e),this.$a=Sl("forwardChannelMaxRetries",2,e),this.ta=Sl("forwardChannelRequestTimeoutMs",2e4,e),this.ra=e&&e.xmlHttpFactory||void 0,this.Da=e&&e.Zb||!1,this.J=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.I="",this.h=new Yc(e&&e.concurrentRequestLimit),this.Fa=new nl,this.O=e&&e.fastHandshake||!1,this.N=e&&e.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=e&&e.Xb||!1,e&&e.Aa&&this.j.Aa(),e&&e.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&e&&e.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function Il(e){if(Nl(e),3==e.G){var t=e.U++,n=Sc(e.F);Nc(n,"SID",e.I),Nc(n,"RID",t),Nc(n,"TYPE","terminate"),Al(e,n),(t=new oc(e,e.j,t,void 0)).K=2,t.v=Rc(Sc(n)),n=!1,os.navigator&&os.navigator.sendBeacon&&(n=os.navigator.sendBeacon(t.v.toString(),"")),!n&&os.Image&&((new Image).src=t.v,n=!0),n||(t.g=ql(t.l,null),t.g.da(t.v)),t.F=Date.now(),mc(t)}zl(e)}function Cl(e){e.g&&(Ml(e),e.g.cancel(),e.g=null)}function Nl(e){Cl(e),e.u&&(os.clearTimeout(e.u),e.u=null),jl(e),e.h.cancel(),e.m&&("number"===typeof e.m&&os.clearTimeout(e.m),e.m=null)}function Rl(e){Qc(e.h)||e.m||(e.m=!0,xu(e.Ja,e),e.C=0)}function Dl(e,t){var n;n=t?t.m:e.U++;var r=Sc(e.F);Nc(r,"SID",e.I),Nc(r,"RID",n),Nc(r,"AID",e.T),Al(e,r),e.o&&e.s&&Tl(r,e.o,e.s),n=new oc(e,e.j,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.i=t.D.concat(e.i)),t=Ol(e,n,1e3),n.setTimeout(Math.round(.5*e.ta)+Math.round(.5*e.ta*Math.random())),Jc(e.h,n),fc(n,r,t)}function Al(e,t){e.ia&&$s(e.ia,(function(e,n){Nc(t,n,e)})),e.l&&wc({},(function(e,n){Nc(t,n,e)}))}function Ol(e,t,n){n=Math.min(e.i.length,n);var r=e.l?ps(e.l.Ra,e.l,e):null;e:for(var i=e.i,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var s=!0,u=0;u<n;u++){var c=i[u].h,l=i[u].g;if(0>(c-=a))a=Math.max(0,i[u].h-100),s=!1;else try{rl(l,o,"req"+c+"_")}catch(Te){r&&r(l)}}if(s){r=o.join("&");break e}}return e=e.i.splice(0,n),t.D=e,r}function Pl(e){e.g||e.u||(e.Z=1,xu(e.Ia,e),e.A=0)}function Ll(e){return!(e.g||e.u||3<=e.A)&&(e.Z++,e.u=Qu(ps(e.Ia,e),Bl(e,e.A)),e.A++,!0)}function Ml(e){null!=e.B&&(os.clearTimeout(e.B),e.B=null)}function Ul(e){e.g=new oc(e,e.j,"rpc",e.Z),null===e.o&&(e.g.H=e.s),e.g.N=0;var t=Sc(e.sa);Nc(t,"RID","rpc"),Nc(t,"SID",e.I),Nc(t,"CI",e.L?"0":"1"),Nc(t,"AID",e.T),Nc(t,"TYPE","xmlhttp"),Al(e,t),e.o&&e.s&&Tl(t,e.o,e.s),e.J&&e.g.setTimeout(e.J);var n=e.g;e=e.ka,n.K=1,n.v=Rc(Sc(t)),n.s=null,n.P=!0,hc(n,e)}function jl(e){null!=e.v&&(os.clearTimeout(e.v),e.v=null)}function Fl(e,t){var n=null;if(e.g==t){jl(e),Ml(e),e.g=null;var r=2}else{if(!$c(e.h,t))return;n=t.D,Zc(e.h,t),r=1}if(0!=e.G)if(e.pa=t.Y,t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;yu(r=Gu(),new Wu(r,n)),Rl(e)}else Pl(e);else if(3==(i=t.o)||0==i&&0<e.pa||!(1==r&&function(e,t){return!(Xc(e.h)>=e.h.j-(e.m?1:0))&&(e.m?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.C>=(e.Za?0:e.$a))&&(e.m=Qu(ps(e.Ja,e,t),Bl(e,e.C)),e.C++,!0))}(e,t)||2==r&&Ll(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:Vl(e,5);break;case 4:Vl(e,10);break;case 3:Vl(e,6);break;default:Vl(e,2)}}function Bl(e,t){var n=e.Xa+Math.floor(Math.random()*e.bb);return e.l||(n*=2),n*t}function Vl(e,t){if(e.j.info("Error code "+t),2==t){var n=null;e.l&&(n=null);var r=ps(e.kb,e);n||(n=new Tc("//www.google.com/images/cleardot.gif"),os.location&&"http"==os.location.protocol||xc(n,"https"),Rc(n)),function(e,t){var n=new Fu;if(os.Image){var r=new Image;r.onload=vs(il,n,r,"TestLoadImage: loaded",!0,t),r.onerror=vs(il,n,r,"TestLoadImage: error",!1,t),r.onabort=vs(il,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=vs(il,n,r,"TestLoadImage: timeout",!1,t),os.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Ku(2);e.G=0,e.l&&e.l.va(t),zl(e),Nl(e)}function zl(e){if(e.G=0,e.la=[],e.l){var t=el(e.h);0==t.length&&0==e.i.length||(ks(e.la,t),ks(e.la,e.i),e.h.i.length=0,_s(e.i),e.i.length=0),e.l.ua()}}function Gl(e,t,n){var r=n instanceof Tc?Sc(n):new Tc(n,void 0);if(""!=r.g)t&&(r.g=t+"."+r.g),Ic(r,r.m);else{var i=os.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var a=new Tc(null,void 0);r&&xc(a,r),t&&(a.g=t),i&&Ic(a,i),n&&(a.l=n),r=a}return n=e.D,t=e.za,n&&t&&Nc(r,n,t),Nc(r,"VER",e.ma),Al(e,r),r}function ql(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Da&&!e.ra?new hl(new al({jb:!0})):new hl(e.ra)).Ka(e.H),t}function Hl(){}function Yl(){if(Ds&&!(10<=Number(qs)))throw Error("Environmental error: no available transport.")}function Kl(e,t){mu.call(this),this.g=new xl(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.S=e,(e=t&&t.Yb)&&!Es(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Es(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Xl(this)}function Wl(e){rc.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Ql(){ic.call(this),this.status=1}function Xl(e){this.g=e}(ns=hl.prototype).Ka=function(e){this.L=e},ns.da=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():tc.g(),this.C=this.u?Zu(this.u):Zu(tc),this.g.onreadystatechange=ps(this.Ha,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(s){return void ml(this,s)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));var a,o=qe(r.keys());try{for(o.s();!(a=o.n()).done;){var s=a.value;n.set(s,r.get(s))}}catch(p){o.e(p)}finally{o.f()}}r=Array.from(n.keys()).find((function(e){return"content-type"==e.toLowerCase()})),i=os.FormData&&e instanceof os.FormData,!(0<=gs(vl,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");var u,l=qe(n);try{for(l.s();!(u=l.n()).done;){var f=c(u.value,2),h=f[0],d=f[1];this.g.setRequestHeader(h,d)}}catch(p){l.e(p)}finally{l.f()}this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{kl(this),0<this.B&&((this.K=function(e){return Ds&&zs()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ps(this.qa,this)):this.A=Au(this.qa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){ml(this,s)}},ns.qa=function(){"undefined"!=typeof as&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,yu(this,"timeout"),this.abort(8))},ns.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,yu(this,"complete"),yu(this,"abort"),_l(this))},ns.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),_l(this,!0)),hl.X.M.call(this)},ns.Ha=function(){this.s||(this.F||this.v||this.l?gl(this):this.fb())},ns.fb=function(){gl(this)},ns.aa=function(){try{return 2<bl(this)?this.g.status:-1}catch(Kc){return-1}},ns.fa=function(){try{return this.g?this.g.responseText:""}catch(Kc){return""}},ns.Sa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),fl(t)}},ns.Ea=function(){return this.m},ns.Oa=function(){return"string"===typeof this.j?this.j:String(this.j)},(ns=xl.prototype).ma=8,ns.G=1,ns.Ja=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;var t=new oc(this,this.j,e,void 0),n=this.s;if(this.S&&(n?eu(n=Js(n),this.S):n=this.S),null!==this.o||this.N||(t.H=n,n=null),this.O)e:{for(var r=0,i=0;i<this.i.length;i++){var a=this.i[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.i.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=Ol(this,t,r),Nc(i=Sc(this.F),"RID",e),Nc(i,"CVER",22),this.D&&Nc(i,"X-HTTP-Session-Id",this.D),Al(this,i),n&&(this.N?r="headers="+encodeURIComponent(String(El(n)))+"&"+r:this.o&&Tl(i,this.o,n)),Jc(this.h,t),this.Ya&&Nc(i,"TYPE","init"),this.O?(Nc(i,"$req",r),Nc(i,"SID","null"),t.Z=!0,fc(t,i,null)):fc(t,i,r),this.G=2}}else 3==this.G&&(e?Dl(this,e):0==this.i.length||Qc(this.h)||Dl(this))},ns.Ia=function(){if(this.u=null,Ul(this),this.$&&!(this.K||null==this.g||0>=this.P)){var e=2*this.P;this.j.info("BP detection timer enabled: "+e),this.B=Qu(ps(this.eb,this),e)}},ns.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,Ku(10),Cl(this),Ul(this))},ns.cb=function(){null!=this.v&&(this.v=null,Cl(this),Ll(this),Ku(19))},ns.kb=function(e){e?(this.j.info("Successfully pinged google.com"),Ku(2)):(this.j.info("Failed to ping google.com"),Ku(1))},(ns=Hl.prototype).xa=function(){},ns.wa=function(){},ns.va=function(){},ns.ua=function(){},ns.Ra=function(){},Yl.prototype.g=function(e,t){return new Kl(e,t)},ms(Kl,mu),Kl.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;Ku(0),e.V=t,e.ia=n||{},e.L=e.Y,e.F=Gl(e,null,e.V),Rl(e)},Kl.prototype.close=function(){Il(this.g)},Kl.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=_u(e),e=n);t.i.push(new Hc(t.ab++,e)),3==t.G&&Rl(t)},Kl.prototype.M=function(){this.g.l=null,delete this.j,Il(this.g),delete this.g,Kl.X.M.call(this)},ms(Wl,rc),ms(Ql,ic),ms(Xl,Hl),Xl.prototype.xa=function(){yu(this.g,"a")},Xl.prototype.wa=function(e){yu(this.g,new Wl(e))},Xl.prototype.va=function(e){yu(this.g,new Ql)},Xl.prototype.ua=function(){yu(this.g,"b")},Yl.prototype.createWebChannel=Yl.prototype.g,Kl.prototype.send=Kl.prototype.u,Kl.prototype.open=Kl.prototype.m,Kl.prototype.close=Kl.prototype.close,Xu.NO_ERROR=0,Xu.TIMEOUT=8,Xu.HTTP_ERROR=6,$u.COMPLETE="complete",ec.EventType=nc,nc.OPEN="a",nc.CLOSE="b",nc.ERROR="c",nc.MESSAGE="d",mu.prototype.listen=mu.prototype.N,hl.prototype.listenOnce=hl.prototype.O,hl.prototype.getLastError=hl.prototype.Oa,hl.prototype.getLastErrorCode=hl.prototype.Ea,hl.prototype.getStatus=hl.prototype.aa,hl.prototype.getResponseJson=hl.prototype.Sa,hl.prototype.getResponseText=hl.prototype.fa,hl.prototype.send=hl.prototype.da,hl.prototype.setWithCredentials=hl.prototype.Ka;var $l=is.createWebChannelTransport=function(){return new Yl},Jl=is.getStatEventTarget=function(){return Gu()},Zl=is.ErrorCode=Xu,ef=is.EventType=$u,tf=is.Event=Vu,nf=is.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},rf=is.FetchXmlHttpFactory=al,af=is.WebChannel=ec,of=is.XhrIo=hl,sf="@firebase/firestore",uf=function(){function e(t){He(this,e),this.uid=t}return Ke(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();uf.UNAUTHENTICATED=new uf(null),uf.GOOGLE_CREDENTIALS=new uf("google-credentials-uid"),uf.FIRST_PARTY=new uf("first-party-uid"),uf.MOCK_USER=new uf("mock-user");var cf="9.18.0",lf=new zt("@firebase/firestore");function ff(){return lf.logLevel}function hf(e){if(lf.logLevel<=Lt.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(vf);lf.debug.apply(lf,["Firestore (".concat(cf,"): ").concat(e)].concat(W(i)))}}function df(e){if(lf.logLevel<=Lt.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(vf);lf.error.apply(lf,["Firestore (".concat(cf,"): ").concat(e)].concat(W(i)))}}function pf(e){if(lf.logLevel<=Lt.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(vf);lf.warn.apply(lf,["Firestore (".concat(cf,"): ").concat(e)].concat(W(i)))}}function vf(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function mf(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(cf,") INTERNAL ASSERTION FAILED: ")+e;throw df(t),new Error(t)}function yf(e,t){e||mf()}function gf(e,t){return e}var _f={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},kf=function(e){Xe(n,e);var t=et(n);function n(e,r){var i;return He(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return Ke(n)}(_t),bf=Ke((function e(){var t=this;He(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),wf=Ke((function e(t,n){He(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),Ef=function(){function e(){He(this,e)}return Ke(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(uf.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),Tf=function(){function e(t){He(this,e),this.token=t,this.changeListener=null}return Ke(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),Sf=function(){function e(t){He(this,e),this.t=t,this.currentUser=uf.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return Ke(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new bf;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new bf,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(Ge(Ve().mark((function e(){return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},s=function(e){hf("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return s(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?s(e):(hf("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new bf)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(hf("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(yf("string"==typeof n.accessToken),new wf(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return yf(null===e||"string"==typeof e),new uf(e)}}]),e}(),xf=function(){function e(t,n,r,i){He(this,e),this.h=t,this.l=n,this.m=r,this.g=i,this.type="FirstParty",this.user=uf.FIRST_PARTY,this.p=new Map}return Ke(e,[{key:"I",value:function(){return this.g?this.g():(yf(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}},{key:"headers",get:function(){this.p.set("X-Goog-AuthUser",this.l);var e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}]),e}(),If=function(){function e(t,n,r,i){He(this,e),this.h=t,this.l=n,this.m=r,this.g=i}return Ke(e,[{key:"getToken",value:function(){return Promise.resolve(new xf(this.h,this.l,this.m,this.g))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(uf.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),Cf=Ke((function e(t){He(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),Nf=function(){function e(t){He(this,e),this.T=t,this.forceRefresh=!1,this.appCheck=null,this.A=null}return Ke(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&hf("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.A;return n.A=e.token,hf("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){hf("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.T.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.T.getImmediate({optional:!0});e?i(e):hf("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(yf("string"==typeof t.token),e.A=t.token,new Cf(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}();function Rf(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var Df=function(){function e(){He(this,e)}return Ke(e,null,[{key:"R",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=Rf(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function Af(e,t){return e<t?-1:e>t?1:0}function Of(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}var Pf=function(){function e(t,n){if(He(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new kf(_f.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new kf(_f.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new kf(_f.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new kf(_f.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return Ke(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?Af(this.nanoseconds,e.nanoseconds):Af(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),Lf=function(){function e(t){He(this,e),this.timestamp=t}return Ke(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new Pf(0,0))}},{key:"max",value:function(){return new e(new Pf(253402300799,999999999))}}]),e}(),Mf=function(){function e(t,n,r){He(this,e),void 0===n?n=0:n>t.length&&mf(),void 0===r?r=t.length-n:r>t.length-n&&mf(),this.segments=t,this.offset=n,this.len=r}return Ke(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),Uf=function(e){Xe(n,e);var t=et(n);function n(){return He(this,n),t.apply(this,arguments)}return Ke(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var s=o[a];if(s.indexOf("//")>=0)throw new kf(_f.INVALID_ARGUMENT,"Invalid segment (".concat(s,"). Paths must not contain // in them."));e.push.apply(e,W(s.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Mf),jf=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Ff=function(e){Xe(n,e);var t=et(n);function n(){return He(this,n),t.apply(this,arguments)}return Ke(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return jf.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new kf(_f.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var s=e[i];if("\\"===s){if(i+1===e.length)throw new kf(_f.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new kf(_f.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===s?(o=!o,i++):"."!==s||o?(r+=s,i++):(a(),i++)}if(a(),o)throw new kf(_f.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Mf),Bf=function(){function e(t){He(this,e),this.path=t}return Ke(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===Uf.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(Uf.fromString(t))}},{key:"fromName",value:function(t){return new e(Uf.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(Uf.emptyPath())}},{key:"comparator",value:function(e,t){return Uf.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new Uf(t.slice()))}}]),e}(),Vf=Ke((function e(t,n,r,i){He(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));Vf.UNKNOWN_ID=-1;function zf(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Lf.fromTimestamp(1e9===r?new Pf(n+1,0):new Pf(n,r));return new qf(i,Bf.empty(),t)}function Gf(e){return new qf(e.readTime,e.key,-1)}var qf=function(){function e(t,n,r){He(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return Ke(e,null,[{key:"min",value:function(){return new e(Lf.min(),Bf.empty(),-1)}},{key:"max",value:function(){return new e(Lf.max(),Bf.empty(),-1)}}]),e}();function Hf(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=Bf.comparator(e.documentKey,t.documentKey))?n:Af(e.largestBatchId,t.largestBatchId)}var Yf="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Kf=function(){function e(){He(this,e),this.onCommittedListeners=[]}return Ke(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}();function Wf(e){return Qf.apply(this,arguments)}function Qf(){return Qf=Ge(Ve().mark((function e(t){return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===_f.FAILED_PRECONDITION&&t.message===Yf){e.next=2;break}throw t;case 2:hf("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),Qf.apply(this,arguments)}var Xf=function(){function e(t){var n=this;He(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return Ke(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&mf(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=qe(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e((function(e,r){for(var i=t.length,a=new Array(i),o=0,s=function(s){var u=s;n(t[u]).next((function(t){a[u]=t,++o===i&&e(a)}),(function(e){return r(e)}))},u=0;u<i;u++)s(u)}))}},{key:"doWhile",value:function(t,n){return new e((function(e,r){!function i(){!0===t()?n().next((function(){i()}),r):e()}()}))}}]),e}();function $f(e){return"IndexedDbTransactionError"===e.name}var Jf=function(){function e(t,n){var r=this;He(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.ut(e)},this.ct=function(e){return n.writeSequenceNumber(e)})}return Ke(e,[{key:"ut",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.ct&&this.ct(e),e}}]),e}();Jf.at=-1;var Zf=Ke((function e(t,n,r,i,a,o,s,u){He(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.useFetchStreams=u})),eh=function(){function e(t,n){He(this,e),this.projectId=t,this.database=n||"(default)"}return Ke(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}();function th(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function nh(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function rh(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function ih(e){return null==e}function ah(e){return 0===e&&1/e==-1/0}function oh(e){return"number"==typeof e&&Number.isInteger(e)&&!ah(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var sh=function(e){Xe(n,e);var t=et(n);function n(){var e;return He(this,n),(e=t.apply(this,arguments)).name="Base64DecodeError",e}return Ke(n)}(nt(Error));var uh=function(e){function t(e){He(this,t),this.binaryString=e}return Ke(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return Af(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){var n=function(e){try{return atob(e)}catch(e){throw e instanceof DOMException?new sh("Invalid base64 string: "+e):e}}(e);return new t(n)}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();uh.EMPTY_BYTE_STRING=new uh("");var ch=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function lh(e){if(yf(!!e),"string"==typeof e){var t=0,n=ch.exec(e);if(yf(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:fh(e.seconds),nanos:fh(e.nanos)}}function fh(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function hh(e){return"string"==typeof e?uh.fromBase64String(e):uh.fromUint8Array(e)}function dh(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function ph(e){var t=e.mapValue.fields.__previous_value__;return dh(t)?ph(t):t}function vh(e){var t=lh(e.mapValue.fields.__local_write_time__.timestampValue);return new Pf(t.seconds,t.nanos)}var mh={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function yh(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?dh(e)?4:Dh(e)?9007199254740991:10:mf()}function gh(e,t){if(e===t)return!0;var n=yh(e);if(n!==yh(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return vh(e).isEqual(vh(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=lh(e.timestampValue),r=lh(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return hh(e.bytesValue).isEqual(hh(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return fh(e.geoPointValue.latitude)===fh(t.geoPointValue.latitude)&&fh(e.geoPointValue.longitude)===fh(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return fh(e.integerValue)===fh(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=fh(e.doubleValue),r=fh(t.doubleValue);return n===r?ah(n)===ah(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Of(e.arrayValue.values||[],t.arrayValue.values||[],gh);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(th(n)!==th(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!gh(n[i],r[i])))return!1;return!0}(e,t);default:return mf()}}function _h(e,t){return void 0!==(e.values||[]).find((function(e){return gh(e,t)}))}function kh(e,t){if(e===t)return 0;var n=yh(e),r=yh(t);if(n!==r)return Af(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Af(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=fh(e.integerValue||e.doubleValue),r=fh(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return bh(e.timestampValue,t.timestampValue);case 4:return bh(vh(e),vh(t));case 5:return Af(e.stringValue,t.stringValue);case 6:return function(e,t){var n=hh(e),r=hh(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=Af(n[i],r[i]);if(0!==a)return a}return Af(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=Af(fh(e.latitude),fh(t.latitude));return 0!==n?n:Af(fh(e.longitude),fh(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=kh(n[i],r[i]);if(a)return a}return Af(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===mh.mapValue&&t===mh.mapValue)return 0;if(e===mh.mapValue)return 1;if(t===mh.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var s=Af(r[o],a[o]);if(0!==s)return s;var u=kh(n[r[o]],i[a[o]]);if(0!==u)return u}return Af(r.length,a.length)}(e.mapValue,t.mapValue);default:throw mf()}}function bh(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Af(e,t);var n=lh(e),r=lh(t),i=Af(n.seconds,r.seconds);return 0!==i?i:Af(n.nanos,r.nanos)}function wh(e){return Eh(e)}function Eh(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=lh(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?hh(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,Bf.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=qe(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=Eh(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=qe(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(Eh(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):mf();var t,n}function Th(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Sh(e){return!!e&&"integerValue"in e}function xh(e){return!!e&&"arrayValue"in e}function Ih(e){return!!e&&"nullValue"in e}function Ch(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Nh(e){return!!e&&"mapValue"in e}function Rh(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return nh(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=Rh(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Rh(e.arrayValue.values[r]);return n}return Object.assign({},e)}function Dh(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}var Ah=Ke((function e(t,n){He(this,e),this.position=t,this.inclusive=n}));function Oh(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?Bf.comparator(Bf.fromName(o.referenceValue),n.key):kh(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function Ph(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!gh(e.position[n],t.position[n]))return!1;return!0}var Lh=Ke((function e(){He(this,e)})),Mh=function(e){Xe(n,e);var t=et(n);function n(e,r,i){var a;return He(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return Ke(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(kh(t,this.value)):null!==t&&yh(this.value)===yh(t)&&this.matchesComparison(kh(t,this.value))}},{key:"matchesComparison",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return mf()}}},{key:"isInequality",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}},{key:"getFlattenedFilters",value:function(){return[this]}},{key:"getFilters",value:function(){return[this]}},{key:"getFirstInequalityField",value:function(){return this.isInequality()?this.field:null}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new qh(e,t,r):"array-contains"===t?new Wh(e,r):"in"===t?new Qh(e,r):"not-in"===t?new Xh(e,r):"array-contains-any"===t?new $h(e,r):new n(e,t,r)}},{key:"createKeyFieldInFilter",value:function(e,t,n){return"in"===t?new Hh(e,n):new Yh(e,n)}}]),n}(Lh),Uh=function(e){Xe(n,e);var t=et(n);function n(e,r){var i;return He(this,n),(i=t.call(this)).filters=e,i.op=r,i.ft=null,i}return Ke(n,[{key:"matches",value:function(e){return jh(this)?void 0===this.filters.find((function(t){return!t.matches(e)})):void 0!==this.filters.find((function(t){return t.matches(e)}))}},{key:"getFlattenedFilters",value:function(){return null!==this.ft||(this.ft=this.filters.reduce((function(e,t){return e.concat(t.getFlattenedFilters())}),[])),this.ft}},{key:"getFilters",value:function(){return Object.assign([],this.filters)}},{key:"getFirstInequalityField",value:function(){var e=this.dt((function(e){return e.isInequality()}));return null!==e?e.field:null}},{key:"dt",value:function(e){var t,n=qe(this.getFlattenedFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(e(r))return r}}catch(i){n.e(i)}finally{n.f()}return null}}],[{key:"create",value:function(e,t){return new n(e,t)}}]),n}(Lh);function jh(e){return"and"===e.op}function Fh(e){return Bh(e)&&jh(e)}function Bh(e){var t,n=qe(e.filters);try{for(n.s();!(t=n.n()).done;){if(t.value instanceof Uh)return!1}}catch(r){n.e(r)}finally{n.f()}return!0}function Vh(e){if(e instanceof Mh)return e.field.canonicalString()+e.op.toString()+wh(e.value);if(Fh(e))return e.filters.map((function(e){return Vh(e)})).join(",");var t=e.filters.map((function(e){return Vh(e)})).join(",");return"".concat(e.op,"(").concat(t,")")}function zh(e,t){return e instanceof Mh?function(e,t){return t instanceof Mh&&e.op===t.op&&e.field.isEqual(t.field)&&gh(e.value,t.value)}(e,t):e instanceof Uh?function(e,t){return t instanceof Uh&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((function(e,n,r){return e&&zh(n,t.filters[r])}),!0)}(e,t):void mf()}function Gh(e){return e instanceof Mh?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(wh(e.value))}(e):e instanceof Uh?function(e){return e.op.toString()+" {"+e.getFilters().map(Gh).join(" ,")+"}"}(e):"Filter"}var qh=function(e){Xe(n,e);var t=et(n);function n(e,r,i){var a;return He(this,n),(a=t.call(this,e,r,i)).key=Bf.fromName(i.referenceValue),a}return Ke(n,[{key:"matches",value:function(e){var t=Bf.comparator(e.key,this.key);return this.matchesComparison(t)}}]),n}(Mh),Hh=function(e){Xe(n,e);var t=et(n);function n(e,r){var i;return He(this,n),(i=t.call(this,e,"in",r)).keys=Kh("in",r),i}return Ke(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Mh),Yh=function(e){Xe(n,e);var t=et(n);function n(e,r){var i;return He(this,n),(i=t.call(this,e,"not-in",r)).keys=Kh("not-in",r),i}return Ke(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Mh);function Kh(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return Bf.fromName(e.referenceValue)}))}var Wh=function(e){Xe(n,e);var t=et(n);function n(e,r){return He(this,n),t.call(this,e,"array-contains",r)}return Ke(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return xh(t)&&_h(t.arrayValue,this.value)}}]),n}(Mh),Qh=function(e){Xe(n,e);var t=et(n);function n(e,r){return He(this,n),t.call(this,e,"in",r)}return Ke(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&_h(this.value.arrayValue,t)}}]),n}(Mh),Xh=function(e){Xe(n,e);var t=et(n);function n(e,r){return He(this,n),t.call(this,e,"not-in",r)}return Ke(n,[{key:"matches",value:function(e){if(_h(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!_h(this.value.arrayValue,t)}}]),n}(Mh),$h=function(e){Xe(n,e);var t=et(n);function n(e,r){return He(this,n),t.call(this,e,"array-contains-any",r)}return Ke(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!xh(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return _h(t.value.arrayValue,e)}))}}]),n}(Mh),Jh=Ke((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";He(this,e),this.field=t,this.dir=n}));function Zh(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}var ed=function(){function e(t,n){He(this,e),this.comparator=t,this.root=n||nd.EMPTY}return Ke(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,nd.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,nd.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new td(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new td(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new td(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new td(this.root,e,this.comparator,!0)}}]),e}(),td=function(){function e(t,n,r,i){He(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return Ke(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),nd=function(){function e(t,n,r,i,a){He(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return Ke(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw mf();if(this.right.isRed())throw mf();var e=this.left.check();if(e!==this.right.check())throw mf();return e+(this.isRed()?0:1)}}]),e}();nd.EMPTY=null,nd.RED=!0,nd.BLACK=!1,nd.EMPTY=new(function(){function e(){He(this,e),this.size=0}return Ke(e,[{key:"key",get:function(){throw mf()}},{key:"value",get:function(){throw mf()}},{key:"color",get:function(){throw mf()}},{key:"left",get:function(){throw mf()}},{key:"right",get:function(){throw mf()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new nd(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var rd=function(){function e(t){He(this,e),this.comparator=t,this.data=new ed(this.comparator)}return Ke(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new id(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new id(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),id=function(){function e(t){He(this,e),this.iter=t}return Ke(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();var ad=function(){function e(t){He(this,e),this.fields=t,t.sort(Ff.comparator)}return Ke(e,[{key:"unionWith",value:function(t){var n,r=new rd(Ff.comparator),i=qe(this.fields);try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r.add(a)}}catch(c){i.e(c)}finally{i.f()}var o,s=qe(t);try{for(s.s();!(o=s.n()).done;){var u=o.value;r=r.add(u)}}catch(c){s.e(c)}finally{s.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=qe(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return Of(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}],[{key:"empty",value:function(){return new e([])}}]),e}(),od=function(){function e(t){He(this,e),this.value=t}return Ke(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!Nh(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Rh(t)}},{key:"setAll",value:function(e){var t=this,n=Ff.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=Rh(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());Nh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return gh(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];Nh(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){nh(t,(function(t,n){return e[t]=n}));var r,i=qe(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(Rh(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function sd(e){var t=[];return nh(e.fields,(function(e,n){var r=new Ff([e]);if(Nh(n)){var i=sd(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=qe(i);try{for(o.s();!(a=o.n()).done;){var s=a.value;t.push(r.child(s))}}catch(u){o.e(u)}finally{o.f()}}}else t.push(r)})),new ad(t)}var ud=function(){function e(t,n,r,i,a,o,s){He(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=o,this.documentState=s}return Ke(e,[{key:"convertToFoundDocument",value:function(e,t){return!this.createTime.isEqual(Lf.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=od.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=od.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=Lf.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,Lf.min(),Lf.min(),Lf.min(),od.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r,i){return new e(t,1,n,Lf.min(),r,i,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,Lf.min(),Lf.min(),od.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,Lf.min(),Lf.min(),od.empty(),2)}}]),e}(),cd=Ke((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;He(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=s,this._t=null}));function ld(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new cd(e,t,n,r,i,a,o)}function fd(e){var t=gf(e);if(null===t._t){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return Vh(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),ih(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return wh(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return wh(e)})).join(",")),t._t=n}return t._t}function hd(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!Zh(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(!zh(e.filters[r],t.filters[r]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Ph(e.startAt,t.startAt)&&Ph(e.endAt,t.endAt)}function dd(e){return Bf.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}var pd=Ke((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;He(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=s,this.endAt=u,this.wt=null,this.gt=null,this.startAt,this.endAt}));function vd(e,t,n,r,i,a,o,s){return new pd(e,t,n,r,i,a,o,s)}function md(e){return new pd(e)}function yd(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function gd(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function _d(e){var t,n=qe(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value.getFirstInequalityField();if(null!==r)return r}}catch(i){n.e(i)}finally{n.f()}return null}function kd(e){return null!==e.collectionGroup}function bd(e){var t=gf(e);if(null===t.wt){t.wt=[];var n=_d(t),r=gd(t);if(null!==n&&null===r)n.isKeyField()||t.wt.push(new Jh(n)),t.wt.push(new Jh(Ff.keyField(),"asc"));else{var i,a=!1,o=qe(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var s=i.value;t.wt.push(s),s.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var u=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.wt.push(new Jh(Ff.keyField(),u))}}}return t.wt}function wd(e){var t=gf(e);if(!t.gt)if("F"===t.limitType)t.gt=ld(t.path,t.collectionGroup,bd(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=qe(bd(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new Jh(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var s=t.endAt?new Ah(t.endAt.position,t.endAt.inclusive):null,u=t.startAt?new Ah(t.startAt.position,t.startAt.inclusive):null;t.gt=ld(t.path,t.collectionGroup,r,t.filters,t.limit,s,u)}return t.gt}function Ed(e,t){t.getFirstInequalityField(),_d(e);var n=e.filters.concat([t]);return new pd(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Td(e,t,n){return new pd(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Sd(e,t){return hd(wd(e),wd(t))&&e.limitType===t.limitType}function xd(e){return"".concat(fd(wd(e)),"|lt:").concat(e.limitType)}function Id(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return Gh(e)})).join(", "),"]")),ih(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return wh(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return wh(e)})).join(",")),"Target(".concat(t,")")}(wd(e)),"; limitType=").concat(e.limitType,")")}function Cd(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Bf.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=qe(bd(e));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=qe(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=Oh(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,bd(e),t))&&!(e.endAt&&!function(e,t,n){var r=Oh(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,bd(e),t))}(e,t)}function Nd(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Rd(e){return function(t,n){var r,i=!1,a=qe(bd(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,s=Dd(o,t,n);if(0!==s)return s;i=i||o.field.isKeyField()}}catch(u){a.e(u)}finally{a.f()}return 0}}function Dd(e,t,n){var r=e.field.isKeyField()?Bf.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?kh(r,i):mf()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return mf()}}function Ad(e,t){if(e.yt){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ah(t)?"-0":t}}function Od(e){return{integerValue:""+e}}function Pd(e,t){return oh(t)?Od(t):Ad(e,t)}var Ld=Ke((function e(){He(this,e),this._=void 0}));function Md(e,t,n){return e instanceof Fd?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Bd?Vd(e,t):e instanceof zd?Gd(e,t):function(e,t){var n=jd(e,t),r=Hd(n)+Hd(e.It);return Sh(n)&&Sh(e.It)?Od(r):Ad(e.Tt,r)}(e,t)}function Ud(e,t,n){return e instanceof Bd?Vd(e,t):e instanceof zd?Gd(e,t):n}function jd(e,t){return e instanceof qd?Sh(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var Fd=function(e){Xe(n,e);var t=et(n);function n(){return He(this,n),t.apply(this,arguments)}return Ke(n)}(Ld),Bd=function(e){Xe(n,e);var t=et(n);function n(e){var r;return He(this,n),(r=t.call(this)).elements=e,r}return Ke(n)}(Ld);function Vd(e,t){var n,r=Yd(t),i=qe(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return gh(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var zd=function(e){Xe(n,e);var t=et(n);function n(e){var r;return He(this,n),(r=t.call(this)).elements=e,r}return Ke(n)}(Ld);function Gd(e,t){var n,r=Yd(t),i=qe(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!gh(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var qd=function(e){Xe(n,e);var t=et(n);function n(e,r){var i;return He(this,n),(i=t.call(this)).Tt=e,i.It=r,i}return Ke(n)}(Ld);function Hd(e){return fh(e.integerValue||e.doubleValue)}function Yd(e){return xh(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var Kd=Ke((function e(t,n){He(this,e),this.version=t,this.transformResults=n})),Wd=function(){function e(t,n){He(this,e),this.updateTime=t,this.exists=n}return Ke(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function Qd(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var Xd=Ke((function e(){He(this,e)}));function $d(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new cp(e.key,Wd.none()):new np(e.key,e.data,Wd.none());var n,r=e.data,i=od.empty(),a=new rd(Ff.comparator),o=qe(t.fields);try{for(o.s();!(n=o.n()).done;){var s=n.value;if(!a.has(s)){var u=r.field(s);null===u&&s.length>1&&(s=s.popLast(),u=r.field(s)),null===u?i.delete(s):i.set(s,u),a=a.add(s)}}}catch(c){o.e(c)}finally{o.f()}return new rp(e.key,i,new ad(a.toArray()),Wd.none())}function Jd(e,t,n){e instanceof np?function(e,t,n){var r=e.value.clone(),i=ap(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof rp?function(e,t,n){if(Qd(e.precondition,t)){var r=ap(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(ip(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Zd(e,t,n,r){return e instanceof np?function(e,t,n,r){if(!Qd(e.precondition,t))return n;var i=e.value.clone(),a=op(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof rp?function(e,t,n,r){if(!Qd(e.precondition,t))return n;var i=op(e.fieldTransforms,r,t),a=t.data;return a.setAll(ip(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((function(e){return e.field})))}(e,t,n,r):function(e,t,n){return Qd(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function ep(e,t){var n,r=null,i=qe(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),s=jd(a.transform,o||null);null!=s&&(null===r&&(r=od.empty()),r.set(a.field,s))}}catch(u){i.e(u)}finally{i.f()}return r||null}function tp(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Of(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Bd&&t instanceof Bd||e instanceof zd&&t instanceof zd?Of(e.elements,t.elements,gh):e instanceof qd&&t instanceof qd?gh(e.It,t.It):e instanceof Fd&&t instanceof Fd}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var np=function(e){Xe(n,e);var t=et(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return He(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return Ke(n,[{key:"getFieldMask",value:function(){return null}}]),n}(Xd),rp=function(e){Xe(n,e);var t=et(n);function n(e,r,i,a){var o,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return He(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=s,o.type=1,o}return Ke(n,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),n}(Xd);function ip(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function ap(e,t,n){var r=new Map;yf(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,s=t.data.field(a.field);r.set(a.field,Ud(o,s,n[i]))}return r}function op(e,t,n){var r,i=new Map,a=qe(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,s=o.transform,u=n.data.field(o.field);i.set(o.field,Md(s,u,t))}}catch(c){a.e(c)}finally{a.f()}return i}var sp,up,cp=function(e){Xe(n,e);var t=et(n);function n(e,r){var i;return He(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return Ke(n,[{key:"getFieldMask",value:function(){return null}}]),n}(Xd),lp=function(e){Xe(n,e);var t=et(n);function n(e,r){var i;return He(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return Ke(n,[{key:"getFieldMask",value:function(){return null}}]),n}(Xd),fp=Ke((function e(t){He(this,e),this.count=t}));function hp(e){switch(e){default:return mf();case _f.CANCELLED:case _f.UNKNOWN:case _f.DEADLINE_EXCEEDED:case _f.RESOURCE_EXHAUSTED:case _f.INTERNAL:case _f.UNAVAILABLE:case _f.UNAUTHENTICATED:return!1;case _f.INVALID_ARGUMENT:case _f.NOT_FOUND:case _f.ALREADY_EXISTS:case _f.PERMISSION_DENIED:case _f.FAILED_PRECONDITION:case _f.ABORTED:case _f.OUT_OF_RANGE:case _f.UNIMPLEMENTED:case _f.DATA_LOSS:return!0}}function dp(e){if(void 0===e)return df("GRPC error has no .code"),_f.UNKNOWN;switch(e){case sp.OK:return _f.OK;case sp.CANCELLED:return _f.CANCELLED;case sp.UNKNOWN:return _f.UNKNOWN;case sp.DEADLINE_EXCEEDED:return _f.DEADLINE_EXCEEDED;case sp.RESOURCE_EXHAUSTED:return _f.RESOURCE_EXHAUSTED;case sp.INTERNAL:return _f.INTERNAL;case sp.UNAVAILABLE:return _f.UNAVAILABLE;case sp.UNAUTHENTICATED:return _f.UNAUTHENTICATED;case sp.INVALID_ARGUMENT:return _f.INVALID_ARGUMENT;case sp.NOT_FOUND:return _f.NOT_FOUND;case sp.ALREADY_EXISTS:return _f.ALREADY_EXISTS;case sp.PERMISSION_DENIED:return _f.PERMISSION_DENIED;case sp.FAILED_PRECONDITION:return _f.FAILED_PRECONDITION;case sp.ABORTED:return _f.ABORTED;case sp.OUT_OF_RANGE:return _f.OUT_OF_RANGE;case sp.UNIMPLEMENTED:return _f.UNIMPLEMENTED;case sp.DATA_LOSS:return _f.DATA_LOSS;default:return mf()}}(up=sp||(sp={}))[up.OK=0]="OK",up[up.CANCELLED=1]="CANCELLED",up[up.UNKNOWN=2]="UNKNOWN",up[up.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",up[up.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",up[up.NOT_FOUND=5]="NOT_FOUND",up[up.ALREADY_EXISTS=6]="ALREADY_EXISTS",up[up.PERMISSION_DENIED=7]="PERMISSION_DENIED",up[up.UNAUTHENTICATED=16]="UNAUTHENTICATED",up[up.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",up[up.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",up[up.ABORTED=10]="ABORTED",up[up.OUT_OF_RANGE=11]="OUT_OF_RANGE",up[up.UNIMPLEMENTED=12]="UNIMPLEMENTED",up[up.INTERNAL=13]="INTERNAL",up[up.UNAVAILABLE=14]="UNAVAILABLE",up[up.DATA_LOSS=15]="DATA_LOSS";var pp=function(){function e(t,n){He(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return Ke(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=qe(n);try{for(i.s();!(r=i.n()).done;){var a=c(r.value,2),o=a[0],s=a[1];if(this.equalsFn(o,e))return s}}catch(u){i.e(u)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){nh(this.inner,(function(t,n){var r,i=qe(n);try{for(i.s();!(r=i.n()).done;){var a=c(r.value,2),o=a[0],s=a[1];e(o,s)}}catch(u){i.e(u)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return rh(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),vp=new ed(Bf.comparator);function mp(){return vp}var yp=new ed(Bf.comparator);function gp(){for(var e=yp,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function _p(e){var t=yp;return e.forEach((function(e,n){return t=t.insert(e,n.overlayedDocument)})),t}function kp(){return wp()}function bp(){return wp()}function wp(){return new pp((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var Ep=new ed(Bf.comparator),Tp=new rd(Bf.comparator);function Sp(){for(var e=Tp,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var xp=new rd(Af);function Ip(){return xp}var Cp=function(){function e(t,n,r,i,a){He(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return Ke(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n,r){var i=new Map;return i.set(t,Np.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new e(Lf.min(),i,Ip(),mp(),Sp())}}]),e}(),Np=function(){function e(t,n,r,i,a){He(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return Ke(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n,r){return new e(r,n,Sp(),Sp(),Sp())}}]),e}(),Rp=Ke((function e(t,n,r,i){He(this,e),this.Et=t,this.removedTargetIds=n,this.key=r,this.At=i})),Dp=Ke((function e(t,n){He(this,e),this.targetId=t,this.Rt=n})),Ap=Ke((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:uh.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;He(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),Op=function(){function e(){He(this,e),this.Pt=0,this.vt=Mp(),this.bt=uh.EMPTY_BYTE_STRING,this.Vt=!1,this.St=!0}return Ke(e,[{key:"current",get:function(){return this.Vt}},{key:"resumeToken",get:function(){return this.bt}},{key:"Dt",get:function(){return 0!==this.Pt}},{key:"Ct",get:function(){return this.St}},{key:"xt",value:function(e){e.approximateByteSize()>0&&(this.St=!0,this.bt=e)}},{key:"Nt",value:function(){var e=Sp(),t=Sp(),n=Sp();return this.vt.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:mf()}})),new Np(this.bt,this.Vt,e,t,n)}},{key:"kt",value:function(){this.St=!1,this.vt=Mp()}},{key:"$t",value:function(e,t){this.St=!0,this.vt=this.vt.insert(e,t)}},{key:"Mt",value:function(e){this.St=!0,this.vt=this.vt.remove(e)}},{key:"Ot",value:function(){this.Pt+=1}},{key:"Ft",value:function(){this.Pt-=1}},{key:"Bt",value:function(){this.St=!0,this.Vt=!0}}]),e}(),Pp=function(){function e(t){He(this,e),this.Lt=t,this.qt=new Map,this.Ut=mp(),this.Kt=Lp(),this.Gt=new rd(Af)}return Ke(e,[{key:"Qt",value:function(e){var t,n=qe(e.Et);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.At&&e.At.isFoundDocument()?this.jt(r,e.At):this.zt(r,e.key,e.At)}}catch(s){n.e(s)}finally{n.f()}var i,a=qe(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.zt(o,e.key,e.At)}}catch(s){a.e(s)}finally{a.f()}}},{key:"Wt",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.Ht(n);switch(e.state){case 0:t.Jt(n)&&r.xt(e.resumeToken);break;case 1:r.Ft(),r.Dt||r.kt(),r.xt(e.resumeToken);break;case 2:r.Ft(),r.Dt||t.removeTarget(n);break;case 3:t.Jt(n)&&(r.Bt(),r.xt(e.resumeToken));break;case 4:t.Jt(n)&&(t.Yt(n),r.xt(e.resumeToken));break;default:mf()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.qt.forEach((function(e,r){n.Jt(r)&&t(r)}))}},{key:"Zt",value:function(e){var t=e.targetId,n=e.Rt.count,r=this.Xt(t);if(r){var i=r.target;if(dd(i))if(0===n){var a=new Bf(i.path);this.zt(t,a,ud.newNoDocument(a,Lf.min()))}else yf(1===n);else this.te(t)!==n&&(this.Yt(t),this.Gt=this.Gt.add(t))}}},{key:"ee",value:function(e){var t=this,n=new Map;this.qt.forEach((function(r,i){var a=t.Xt(i);if(a){if(r.current&&dd(a.target)){var o=new Bf(a.target.path);null!==t.Ut.get(o)||t.ne(i,o)||t.zt(i,o,ud.newNoDocument(o,e))}r.Ct&&(n.set(i,r.Nt()),r.kt())}}));var r=Sp();this.Kt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.Xt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.Ut.forEach((function(t,n){return n.setReadTime(e)}));var i=new Cp(e,n,this.Gt,this.Ut,r);return this.Ut=mp(),this.Kt=Lp(),this.Gt=new rd(Af),i}},{key:"jt",value:function(e,t){if(this.Jt(e)){var n=this.ne(e,t.key)?2:0;this.Ht(e).$t(t.key,n),this.Ut=this.Ut.insert(t.key,t),this.Kt=this.Kt.insert(t.key,this.se(t.key).add(e))}}},{key:"zt",value:function(e,t,n){if(this.Jt(e)){var r=this.Ht(e);this.ne(e,t)?r.$t(t,1):r.Mt(t),this.Kt=this.Kt.insert(t,this.se(t).delete(e)),n&&(this.Ut=this.Ut.insert(t,n))}}},{key:"removeTarget",value:function(e){this.qt.delete(e)}},{key:"te",value:function(e){var t=this.Ht(e).Nt();return this.Lt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Ot",value:function(e){this.Ht(e).Ot()}},{key:"Ht",value:function(e){var t=this.qt.get(e);return t||(t=new Op,this.qt.set(e,t)),t}},{key:"se",value:function(e){var t=this.Kt.get(e);return t||(t=new rd(Af),this.Kt=this.Kt.insert(e,t)),t}},{key:"Jt",value:function(e){var t=null!==this.Xt(e);return t||hf("WatchChangeAggregator","Detected inactive target",e),t}},{key:"Xt",value:function(e){var t=this.qt.get(e);return t&&t.Dt?null:this.Lt.ie(e)}},{key:"Yt",value:function(e){var t=this;this.qt.set(e,new Op),this.Lt.getRemoteKeysForTarget(e).forEach((function(n){t.zt(e,n,null)}))}},{key:"ne",value:function(e,t){return this.Lt.getRemoteKeysForTarget(e).has(t)}}]),e}();function Lp(){return new ed(Bf.comparator)}function Mp(){return new ed(Bf.comparator)}var Up={asc:"ASCENDING",desc:"DESCENDING"},jp={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Fp={and:"AND",or:"OR"},Bp=Ke((function e(t,n){He(this,e),this.databaseId=t,this.yt=n}));function Vp(e,t){return e.yt?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function zp(e,t){return e.yt?t.toBase64():t.toUint8Array()}function Gp(e,t){return Vp(e,t.toTimestamp())}function qp(e){return yf(!!e),Lf.fromTimestamp(function(e){var t=lh(e);return new Pf(t.seconds,t.nanos)}(e))}function Hp(e,t){return function(e){return new Uf(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function Yp(e){var t=Uf.fromString(e);return yf(hv(t)),t}function Kp(e,t){return Hp(e.databaseId,t.path)}function Wp(e,t){var n=Yp(t);if(n.get(1)!==e.databaseId.projectId)throw new kf(_f.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new kf(_f.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Bf(Jp(n))}function Qp(e,t){return Hp(e.databaseId,t)}function Xp(e){var t=Yp(e);return 4===t.length?Uf.emptyPath():Jp(t)}function $p(e){return new Uf(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Jp(e){return yf(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Zp(e,t,n){return{name:Kp(e,t),fields:n.value.mapValue.fields}}function ev(e,t){var n;if(t instanceof np)n={update:Zp(e,t.key,t.value)};else if(t instanceof cp)n={delete:Kp(e,t.key)};else if(t instanceof rp)n={update:Zp(e,t.key,t.data),updateMask:fv(t.fieldMask)};else{if(!(t instanceof lp))return mf();n={verify:Kp(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof Fd)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Bd)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof zd)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof qd)return{fieldPath:t.field.canonicalString(),increment:n.It};throw mf()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Gp(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:mf()}(e,t.precondition)),n}function tv(e,t){return{documents:[Qp(e,t.path)]}}function nv(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=Qp(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Qp(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length)return lv(Uh.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:uv(e.field),direction:av(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,s=function(e,t){return e.yt||ih(t)?t:{value:t}}(e,t.limit);return null!==s&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function rv(e){var t=Xp(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){yf(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=function(e){var t=iv(e);return t instanceof Uh&&Fh(t)?t.getFilters():[t]}(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(e){return function(e){return new Jh(cv(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var u=null;n.limit&&(u=function(e){var t;return ih(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new Ah(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new Ah(n,t)}(n.endAt)),vd(t,i,s,o,u,"F",c,l)}function iv(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":var t=cv(e.unaryFilter.field);return Mh.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=cv(e.unaryFilter.field);return Mh.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=cv(e.unaryFilter.field);return Mh.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=cv(e.unaryFilter.field);return Mh.create(i,"!=",{nullValue:"NULL_VALUE"});default:return mf()}}(e):void 0!==e.fieldFilter?function(e){return Mh.create(cv(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return mf()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return Uh.create(e.compositeFilter.filters.map((function(e){return iv(e)})),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return mf()}}(e.compositeFilter.op))}(e):mf()}function av(e){return Up[e]}function ov(e){return jp[e]}function sv(e){return Fp[e]}function uv(e){return{fieldPath:e.canonicalString()}}function cv(e){return Ff.fromServerFormat(e.fieldPath)}function lv(e){return e instanceof Mh?function(e){if("=="===e.op){if(Ch(e.value))return{unaryFilter:{field:uv(e.field),op:"IS_NAN"}};if(Ih(e.value))return{unaryFilter:{field:uv(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Ch(e.value))return{unaryFilter:{field:uv(e.field),op:"IS_NOT_NAN"}};if(Ih(e.value))return{unaryFilter:{field:uv(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:uv(e.field),op:ov(e.op),value:e.value}}}(e):e instanceof Uh?function(e){var t=e.getFilters().map((function(e){return lv(e)}));return 1===t.length?t[0]:{compositeFilter:{op:sv(e.op),filters:t}}}(e):mf()}function fv(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function hv(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}var dv=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),pv=([].concat(W(dv),["documentOverlays"]),["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"]),vv=pv;[].concat(vv,["indexConfiguration","indexState","indexEntries"]);var mv=function(){function e(t,n,r,i){He(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return Ke(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&Jd(i,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=qe(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.key.isEqual(e.key)&&(t=Zd(i,e,t,this.localWriteTime))}}catch(u){r.e(u)}finally{r.f()}var a,o=qe(this.mutations);try{for(o.s();!(a=o.n()).done;){var s=a.value;s.key.isEqual(e.key)&&(t=Zd(s,e,t,this.localWriteTime))}}catch(u){o.e(u)}finally{o.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=bp();return this.mutations.forEach((function(i){var a=e.get(i.key),o=a.overlayedDocument,s=n.applyToLocalView(o,a.mutatedFields),u=$d(o,s=t.has(i.key)?null:s);null!==u&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(Lf.min())})),r}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),Sp())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&Of(this.mutations,e.mutations,(function(e,t){return tp(e,t)}))&&Of(this.baseMutations,e.baseMutations,(function(e,t){return tp(e,t)}))}}]),e}(),yv=function(){function e(t,n,r,i){He(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return Ke(e,null,[{key:"from",value:function(t,n,r){yf(t.mutations.length===r.length);for(var i=Ep,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),gv=function(){function e(t,n){He(this,e),this.largestBatchId=t,this.mutation=n}return Ke(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),_v=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Lf.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Lf.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:uh.EMPTY_BYTE_STRING;He(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return Ke(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),kv=Ke((function e(t){He(this,e),this.oe=t}));function bv(e){var t=rv({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Td(t,t.limit,"L"):t}var wv=function(){function e(){He(this,e)}return Ke(e,[{key:"ae",value:function(e,t){this.he(e,t),t.le()}},{key:"he",value:function(e,t){if("nullValue"in e)this.fe(t,5);else if("booleanValue"in e)this.fe(t,10),t.de(e.booleanValue?1:0);else if("integerValue"in e)this.fe(t,15),t.de(fh(e.integerValue));else if("doubleValue"in e){var n=fh(e.doubleValue);isNaN(n)?this.fe(t,13):(this.fe(t,15),ah(n)?t.de(0):t.de(n))}else if("timestampValue"in e){var r=e.timestampValue;this.fe(t,20),"string"==typeof r?t._e(r):(t._e("".concat(r.seconds||"")),t.de(r.nanos||0))}else if("stringValue"in e)this.we(e.stringValue,t),this.me(t);else if("bytesValue"in e)this.fe(t,30),t.ge(hh(e.bytesValue)),this.me(t);else if("referenceValue"in e)this.ye(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.fe(t,45),t.de(i.latitude||0),t.de(i.longitude||0)}else"mapValue"in e?Dh(e)?this.fe(t,Number.MAX_SAFE_INTEGER):(this.pe(e.mapValue,t),this.me(t)):"arrayValue"in e?(this.Ie(e.arrayValue,t),this.me(t)):mf()}},{key:"we",value:function(e,t){this.fe(t,25),this.Te(e,t)}},{key:"Te",value:function(e,t){t._e(e)}},{key:"pe",value:function(e,t){var n=e.fields||{};this.fe(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.we(a,t),this.he(n[a],t)}}},{key:"Ie",value:function(e,t){var n=e.values||[];this.fe(t,50);var r,i=qe(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.he(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"ye",value:function(e,t){var n=this;this.fe(t,37),Bf.fromName(e).path.forEach((function(e){n.fe(t,60),n.Te(e,t)}))}},{key:"fe",value:function(e,t){e.de(t)}},{key:"me",value:function(e){e.de(2)}}]),e}();wv.Ee=new wv;var Ev=function(){function e(){He(this,e),this.Ze=new Tv}return Ke(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.Ze.add(t),Xf.resolve()}},{key:"getCollectionParents",value:function(e,t){return Xf.resolve(this.Ze.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return Xf.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return Xf.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return Xf.resolve(null)}},{key:"getIndexType",value:function(e,t){return Xf.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return Xf.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return Xf.resolve(null)}},{key:"getMinOffset",value:function(e,t){return Xf.resolve(qf.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return Xf.resolve(qf.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return Xf.resolve()}},{key:"updateIndexEntries",value:function(e,t){return Xf.resolve()}}]),e}(),Tv=function(){function e(){He(this,e),this.index={}}return Ke(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new rd(Uf.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new rd(Uf.comparator)).toArray()}}]),e}();new Uint8Array(0);var Sv=function(){function e(t,n,r){He(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return Ke(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();Sv.DEFAULT_COLLECTION_PERCENTILE=10,Sv.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Sv.DEFAULT=new Sv(41943040,Sv.DEFAULT_COLLECTION_PERCENTILE,Sv.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Sv.DISABLED=new Sv(-1,0,0);var xv=function(){function e(t){He(this,e),this.bn=t}return Ke(e,[{key:"next",value:function(){return this.bn+=2,this.bn}}],[{key:"Vn",value:function(){return new e(0)}},{key:"Sn",value:function(){return new e(-1)}}]),e}();var Iv=function(){function e(){He(this,e),this.changes=new pp((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return Ke(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,ud.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?Xf.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}();var Cv=Ke((function e(t,n){He(this,e),this.overlayedDocument=t,this.mutatedFields=n})),Nv=function(){function e(t,n,r,i){He(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}return Ke(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next((function(i){return r=i,n.remoteDocumentCache.getEntry(e,t)})).next((function(e){return null!==r&&Zd(r.mutation,e,ad.empty(),Pf.now()),e}))}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t,Sp()).next((function(){return t}))}))}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Sp(),i=kp();return this.populateOverlays(e,i,t).next((function(){return n.computeViews(e,t,i,r).next((function(e){var t=gp();return e.forEach((function(e,n){t=t.insert(e,n.overlayedDocument)})),t}))}))}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=kp();return this.populateOverlays(e,r,t).next((function(){return n.computeViews(e,t,r,Sp())}))}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach((function(e){t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((function(e){e.forEach((function(e,n){t.set(e,n)}))}))}},{key:"computeViews",value:function(e,t,n,r){var i=mp(),a=wp(),o=wp();return t.forEach((function(e,t){var o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof rp)?i=i.insert(t.key,t):void 0!==o?(a.set(t.key,o.mutation.getFieldMask()),Zd(o.mutation,t,o.mutation.getFieldMask(),Pf.now())):a.set(t.key,ad.empty())})),this.recalculateAndSaveOverlays(e,i).next((function(e){return e.forEach((function(e,t){return a.set(e,t)})),t.forEach((function(e,t){var n;return o.set(e,new Cv(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),o}))}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=wp(),i=new ed((function(e,t){return e-t})),a=Sp();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){var n,a=qe(e);try{var o=function(){var e=n.value;e.keys().forEach((function(n){var a=t.get(n);if(null!==a){var o=r.get(n)||ad.empty();o=e.applyToLocalView(a,o),r.set(n,o);var s=(i.get(e.batchId)||Sp()).add(n);i=i.insert(e.batchId,s)}}))};for(a.s();!(n=a.n()).done;)o()}catch(s){a.e(s)}finally{a.f()}})).next((function(){for(var o=[],s=i.getReverseIterator(),u=function(){var i=s.getNext(),u=i.key,c=i.value,l=bp();c.forEach((function(e){if(!a.has(e)){var n=$d(t.get(e),r.get(e));null!==n&&l.set(e,n),a=a.add(e)}})),o.push(n.documentOverlayCache.saveOverlays(e,u,l))};s.hasNext();)u();return Xf.waitFor(o)})).next((function(){return r}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.recalculateAndSaveOverlays(e,t)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return Bf.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):kd(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}},{key:"getNextDocuments",value:function(e,t,n,r){var i=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((function(a){var o=r-a.size>0?i.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):Xf.resolve(kp()),s=-1,u=a;return o.next((function(t){return Xf.forEach(t,(function(t,n){return s<n.largestBatchId&&(s=n.largestBatchId),a.get(t)?Xf.resolve():i.remoteDocumentCache.getEntry(e,t).next((function(e){u=u.insert(t,e)}))})).next((function(){return i.populateOverlays(e,t,a)})).next((function(){return i.computeViews(e,u,t,Sp())})).next((function(e){return{batchId:s,changes:_p(e)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new Bf(t)).next((function(e){var t=gp();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n){var r=this,i=t.collectionGroup,a=gp();return this.indexManager.getCollectionParents(e,i).next((function(o){return Xf.forEach(o,(function(o){var s=function(e,t){return new pd(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.getDocumentsMatchingCollectionQuery(e,s,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n){var r,i=this;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((function(a){return r=a,i.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,r)})).next((function(e){r.forEach((function(t,n){var r=n.getKey();null===e.get(r)&&(e=e.insert(r,ud.newInvalidDocument(r)))}));var n=gp();return e.forEach((function(e,i){var a=r.get(e);void 0!==a&&Zd(a.mutation,i,ad.empty(),Pf.now()),Cd(t,i)&&(n=n.insert(e,i))})),n}))}}]),e}(),Rv=function(){function e(t){He(this,e),this.Tt=t,this.es=new Map,this.ns=new Map}return Ke(e,[{key:"getBundleMetadata",value:function(e,t){return Xf.resolve(this.es.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.es.set(t.id,{id:(n=t).id,version:n.version,createTime:qp(n.createTime)}),Xf.resolve()}},{key:"getNamedQuery",value:function(e,t){return Xf.resolve(this.ns.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.ns.set(t.name,function(e){return{name:e.name,query:bv(e.bundledQuery),readTime:qp(e.readTime)}}(t)),Xf.resolve()}}]),e}(),Dv=function(){function e(){He(this,e),this.overlays=new ed(Bf.comparator),this.ss=new Map}return Ke(e,[{key:"getOverlay",value:function(e,t){return Xf.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=kp();return Xf.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.ce(e,t,i)})),Xf.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.ss.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.ss.delete(n)),Xf.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=kp(),i=t.length+1,a=new Bf(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var s=o.getNext().value,u=s.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===i&&s.largestBatchId>n&&r.set(s.getKey(),s)}return Xf.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new ed((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var s=i.get(o.largestBatchId);null===s&&(s=kp(),i=i.insert(o.largestBatchId,s)),s.set(o.getKey(),o)}}for(var u=kp(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return u.set(e,t)})),!(u.size()>=r)););return Xf.resolve(u)}},{key:"ce",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var i=this.ss.get(r.largestBatchId).delete(n.key);this.ss.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new gv(t,n));var a=this.ss.get(t);void 0===a&&(a=Sp(),this.ss.set(t,a)),this.ss.set(t,a.add(n.key))}}]),e}(),Av=function(){function e(){He(this,e),this.rs=new rd(Ov.os),this.us=new rd(Ov.cs)}return Ke(e,[{key:"isEmpty",value:function(){return this.rs.isEmpty()}},{key:"addReference",value:function(e,t){var n=new Ov(e,t);this.rs=this.rs.add(n),this.us=this.us.add(n)}},{key:"hs",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.ls(new Ov(e,t))}},{key:"fs",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"ds",value:function(e){var t=this,n=new Bf(new Uf([])),r=new Ov(n,e),i=new Ov(n,e+1),a=[];return this.us.forEachInRange([r,i],(function(e){t.ls(e),a.push(e.key)})),a}},{key:"_s",value:function(){var e=this;this.rs.forEach((function(t){return e.ls(t)}))}},{key:"ls",value:function(e){this.rs=this.rs.delete(e),this.us=this.us.delete(e)}},{key:"ws",value:function(e){var t=new Bf(new Uf([])),n=new Ov(t,e),r=new Ov(t,e+1),i=Sp();return this.us.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new Ov(e,0),n=this.rs.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),Ov=function(){function e(t,n){He(this,e),this.key=t,this.gs=n}return Ke(e,null,[{key:"os",value:function(e,t){return Bf.comparator(e.key,t.key)||Af(e.gs,t.gs)}},{key:"cs",value:function(e,t){return Af(e.gs,t.gs)||Bf.comparator(e.key,t.key)}}]),e}(),Pv=function(){function e(t,n){He(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.ys=1,this.ps=new rd(Ov.os)}return Ke(e,[{key:"checkEmpty",value:function(e){return Xf.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.ys;this.ys++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var a=new mv(i,t,n,r);this.mutationQueue.push(a);var o,s=qe(r);try{for(s.s();!(o=s.n()).done;){var u=o.value;this.ps=this.ps.add(new Ov(u.key,i)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast())}}catch(c){s.e(c)}finally{s.f()}return Xf.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return Xf.resolve(this.Is(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.Ts(n),i=r<0?0:r;return Xf.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return Xf.resolve(0===this.mutationQueue.length?-1:this.ys-1)}},{key:"getAllMutationBatches",value:function(e){return Xf.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new Ov(t,0),i=new Ov(t,Number.POSITIVE_INFINITY),a=[];return this.ps.forEachInRange([r,i],(function(e){var t=n.Is(e.gs);a.push(t)})),Xf.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new rd(Af);return t.forEach((function(e){var t=new Ov(e,0),i=new Ov(e,Number.POSITIVE_INFINITY);n.ps.forEachInRange([t,i],(function(e){r=r.add(e.gs)}))})),Xf.resolve(this.Es(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;Bf.isDocumentKey(i)||(i=i.child(""));var a=new Ov(new Bf(i),0),o=new rd(Af);return this.ps.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.gs)),!0)}),a),Xf.resolve(this.Es(o))}},{key:"Es",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.Is(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;yf(0===this.As(t.batchId,"removed")),this.mutationQueue.shift();var r=this.ps;return Xf.forEach(t.mutations,(function(i){var a=new Ov(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.ps=r}))}},{key:"Pn",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new Ov(t,0),r=this.ps.firstAfterOrEqual(n);return Xf.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,Xf.resolve()}},{key:"As",value:function(e,t){return this.Ts(e)}},{key:"Ts",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"Is",value:function(e){var t=this.Ts(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),Lv=function(){function e(t){He(this,e),this.Rs=t,this.docs=new ed(Bf.comparator),this.size=0}return Ke(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.Rs(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return Xf.resolve(n?n.document.mutableCopy():ud.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=mp();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():ud.newInvalidDocument(e))})),Xf.resolve(r)}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){for(var i=mp(),a=t.path,o=new Bf(a.child("")),s=this.docs.getIteratorFrom(o);s.hasNext();){var u=s.getNext(),c=u.key,l=u.value.document;if(!a.isPrefixOf(c.path))break;c.path.length>a.length+1||Hf(Gf(l),n)<=0||(r.has(l.key)||Cd(t,l))&&(i=i.insert(l.key,l.mutableCopy()))}return Xf.resolve(i)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){mf()}},{key:"Ps",value:function(e,t){return Xf.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new Mv(this)}},{key:"getSize",value:function(e){return Xf.resolve(this.size)}}]),e}(),Mv=function(e){Xe(n,e);var t=et(n);function n(e){var r;return He(this,n),(r=t.call(this)).Xn=e,r}return Ke(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.Xn.addEntry(e,i)):t.Xn.removeEntry(r)})),Xf.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.Xn.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.Xn.getEntries(e,t)}}]),n}(Iv),Uv=function(){function e(t){He(this,e),this.persistence=t,this.vs=new pp((function(e){return fd(e)}),hd),this.lastRemoteSnapshotVersion=Lf.min(),this.highestTargetId=0,this.bs=0,this.Vs=new Av,this.targetCount=0,this.Ss=xv.Vn()}return Ke(e,[{key:"forEachTarget",value:function(e,t){return this.vs.forEach((function(e,n){return t(n)})),Xf.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return Xf.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return Xf.resolve(this.bs)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.Ss.next(),Xf.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.bs&&(this.bs=t),Xf.resolve()}},{key:"xn",value:function(e){this.vs.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.Ss=new xv(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.xn(t),this.targetCount+=1,Xf.resolve()}},{key:"updateTargetData",value:function(e,t){return this.xn(t),Xf.resolve()}},{key:"removeTargetData",value:function(e,t){return this.vs.delete(t.target),this.Vs.ds(t.targetId),this.targetCount-=1,Xf.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.vs.forEach((function(o,s){s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r.vs.delete(o),a.push(r.removeMatchingKeysForTargetId(e,s.targetId)),i++)})),Xf.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return Xf.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.vs.get(t)||null;return Xf.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.Vs.hs(t,n),Xf.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.Vs.fs(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),Xf.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.Vs.ds(t),Xf.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.Vs.ws(t);return Xf.resolve(n)}},{key:"containsKey",value:function(e,t){return Xf.resolve(this.Vs.containsKey(t))}}]),e}(),jv=function(){function e(t,n){var r=this;He(this,e),this.Ds={},this.overlays={},this.Cs=new Jf(0),this.xs=!1,this.xs=!0,this.referenceDelegate=t(this),this.Ns=new Uv(this),this.indexManager=new Ev,this.remoteDocumentCache=new Lv((function(e){return r.referenceDelegate.ks(e)})),this.Tt=new kv(n),this.$s=new Rv(this.Tt)}return Ke(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.xs=!1,Promise.resolve()}},{key:"started",get:function(){return this.xs}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new Dv,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.Ds[e.toKey()];return n||(n=new Pv(t,this.referenceDelegate),this.Ds[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.Ns}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.$s}},{key:"runTransaction",value:function(e,t,n){var r=this;hf("MemoryPersistence","Starting transaction:",e);var i=new Fv(this.Cs.next());return this.referenceDelegate.Ms(),n(i).next((function(e){return r.referenceDelegate.Os(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Fs",value:function(e,t){return Xf.or(Object.values(this.Ds).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),Fv=function(e){Xe(n,e);var t=et(n);function n(e){var r;return He(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return Ke(n)}(Kf),Bv=function(){function e(t){He(this,e),this.persistence=t,this.Bs=new Av,this.Ls=null}return Ke(e,[{key:"Us",get:function(){if(this.Ls)return this.Ls;throw mf()}},{key:"addReference",value:function(e,t,n){return this.Bs.addReference(n,t),this.Us.delete(n.toString()),Xf.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Bs.removeReference(n,t),this.Us.add(n.toString()),Xf.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Us.add(t.toString()),Xf.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Bs.ds(t.targetId).forEach((function(e){return n.Us.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Us.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"Ms",value:function(){this.Ls=new Set}},{key:"Os",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Xf.forEach(this.Us,(function(r){var i=Bf.fromPath(r);return t.Ks(e,i).next((function(e){e||n.removeEntry(i,Lf.min())}))})).next((function(){return t.Ls=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Ks(e,t).next((function(e){e?n.Us.delete(t.toString()):n.Us.add(t.toString())}))}},{key:"ks",value:function(e){return 0}},{key:"Ks",value:function(e,t){var n=this;return Xf.or([function(){return Xf.resolve(n.Bs.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Fs(e,t)}])}}],[{key:"qs",value:function(t){return new e(t)}}]),e}();var Vv=function(){function e(t,n,r,i){He(this,e),this.targetId=t,this.fromCache=n,this.Ci=r,this.xi=i}return Ke(e,null,[{key:"Ni",value:function(t,n){var r,i=Sp(),a=Sp(),o=qe(n.docChanges);try{for(o.s();!(r=o.n()).done;){var s=r.value;switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:a=a.add(s.doc.key)}}}catch(u){o.e(u)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),zv=function(){function e(){He(this,e),this.ki=!1}return Ke(e,[{key:"initialize",value:function(e,t){this.$i=e,this.indexManager=t,this.ki=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return this.Mi(e,t).next((function(a){return a||i.Oi(e,t,r,n)})).next((function(n){return n||i.Fi(e,t)}))}},{key:"Mi",value:function(e,t){var n=this;if(yd(t))return Xf.resolve(null);var r=wd(t);return this.indexManager.getIndexType(e,r).next((function(i){return 0===i?null:(null!==t.limit&&1===i&&(t=Td(t,null,"F"),r=wd(t)),n.indexManager.getDocumentsMatchingTarget(e,r).next((function(i){var a=Sp.apply(void 0,W(i));return n.$i.getDocuments(e,a).next((function(i){return n.indexManager.getMinOffset(e,r).next((function(r){var o=n.Bi(t,i);return n.Li(t,o,a,r.readTime)?n.Mi(e,Td(t,null,"F")):n.qi(e,o,t,r)}))}))})))}))}},{key:"Oi",value:function(e,t,n,r){var i=this;return yd(t)||r.isEqual(Lf.min())?this.Fi(e,t):this.$i.getDocuments(e,n).next((function(a){var o=i.Bi(t,a);return i.Li(t,o,n,r)?i.Fi(e,t):(ff()<=Lt.DEBUG&&hf("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Id(t)),i.qi(e,o,t,zf(r,-1)))}))}},{key:"Bi",value:function(e,t){var n=new rd(Rd(e));return t.forEach((function(t,r){Cd(e,r)&&(n=n.add(r))})),n}},{key:"Li",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Fi",value:function(e,t){return ff()<=Lt.DEBUG&&hf("QueryEngine","Using full collection scan to execute query:",Id(t)),this.$i.getDocumentsMatchingQuery(e,t,qf.min())}},{key:"qi",value:function(e,t,n,r){return this.$i.getDocumentsMatchingQuery(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),Gv=function(){function e(t,n,r,i){He(this,e),this.persistence=t,this.Ui=n,this.Tt=i,this.Ki=new ed(Af),this.Gi=new pp((function(e){return fd(e)}),hd),this.Qi=new Map,this.ji=t.getRemoteDocumentCache(),this.Ns=t.getTargetCache(),this.$s=t.getBundleCache(),this.zi(r)}return Ke(e,[{key:"zi",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Nv(this.ji,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ji.setIndexManager(this.indexManager),this.Ui.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.Ki)}))}}]),e}();function qv(e,t,n,r){return new Gv(e,t,n,r)}function Hv(e,t){return Yv.apply(this,arguments)}function Yv(){return Yv=Ge(Ve().mark((function e(t,n){var r;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=gf(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.mutationQueue.getAllMutationBatches(e).next((function(i){return t=i,r.zi(n),r.mutationQueue.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],s=Sp(),u=qe(t);try{for(u.s();!(i=u.n()).done;){var c=i.value;a.push(c.batchId);var l,f=qe(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;s=s.add(h.key)}}catch(_){f.e(_)}finally{f.f()}}}catch(_){u.e(_)}finally{u.f()}var d,p=qe(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var m,y=qe(v.mutations);try{for(y.s();!(m=y.n()).done;){var g=m.value;s=s.add(g.key)}}catch(_){y.e(_)}finally{y.f()}}}catch(_){p.e(_)}finally{p.f()}return r.localDocuments.getDocuments(e,s).next((function(e){return{Wi:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),Yv.apply(this,arguments)}function Kv(e,t){var n=gf(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.ji.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=Xf.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);yf(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.mutationQueue.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=Sp(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}function Wv(e){var t=gf(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Ns.getLastRemoteSnapshotVersion(e)}))}function Qv(e,t){var n=gf(e),r=t.snapshotVersion,i=n.Ki;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.ji.newChangeBuffer({trackRemovals:!0});i=n.Ki;var o=[];t.targetChanges.forEach((function(a,s){var u=i.get(s);if(u){o.push(n.Ns.removeMatchingKeys(e,a.removedDocuments,s).next((function(){return n.Ns.addMatchingKeys(e,a.addedDocuments,s)})));var c=u.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(s)?c=c.withResumeToken(uh.EMPTY_BYTE_STRING,Lf.min()).withLastLimboFreeSnapshotVersion(Lf.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(s,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(u,c,a)&&o.push(n.Ns.updateTargetData(e,c))}}));var s=mp(),u=Sp();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(Xv(e,a,t.documentUpdates).next((function(e){s=e.Hi,u=e.Ji}))),!r.isEqual(Lf.min())){var c=n.Ns.getLastRemoteSnapshotVersion(e).next((function(t){return n.Ns.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(c)}return Xf.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(e,s,u)})).next((function(){return s}))})).then((function(e){return n.Ki=i,e}))}function Xv(e,t,n){var r=Sp(),i=Sp();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=mp();return n.forEach((function(n,a){var o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(Lf.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):hf("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)})),{Hi:r,Ji:i}}))}function $v(e,t){var n=gf(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)}))}function Jv(e,t){var n=gf(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Ns.getTargetData(e,t).next((function(i){return i?(r=i,Xf.resolve(r)):n.Ns.allocateTargetId(e).next((function(i){return r=new _v(t,i,0,e.currentSequenceNumber),n.Ns.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.Ki.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ki=n.Ki.insert(e.targetId,e),n.Gi.set(t,e.targetId)),e}))}function Zv(e,t,n){return em.apply(this,arguments)}function em(){return em=Ge(Ve().mark((function e(t,n,r){var i,a,o;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=gf(t),a=i.Ki.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),$f(e.t1)){e.next=12;break}throw e.t1;case 12:hf("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.Ki=i.Ki.remove(n),i.Gi.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),em.apply(this,arguments)}function tm(e,t,n){var r=gf(e),i=Lf.min(),a=Sp();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=gf(e),i=r.Gi.get(n);return void 0!==i?Xf.resolve(r.Ki.get(i)):r.Ns.getTargetData(t,n)}(r,e,wd(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Ns.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Ui.getDocumentsMatchingQuery(e,t,n?i:Lf.min(),n?a:Sp())})).next((function(e){return nm(r,Nd(t),e),{documents:e,Yi:a}}))}))}function nm(e,t,n){var r=e.Qi.get(t)||Lf.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Qi.set(t,r)}var rm=function(){function e(){He(this,e),this.activeTargetIds=Ip()}return Ke(e,[{key:"sr",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"ir",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"nr",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),im=function(){function e(){He(this,e),this.Ur=new rm,this.Kr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return Ke(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Ur.sr(e),this.Kr[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.Kr[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Ur.ir(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Ur.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.Kr[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Ur.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Ur.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Ur=new rm,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),am=function(){function e(){He(this,e)}return Ke(e,[{key:"Gr",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),om=function(){function e(){var t=this;He(this,e),this.Qr=function(){return t.jr()},this.zr=function(){return t.Wr()},this.Hr=[],this.Jr()}return Ke(e,[{key:"Gr",value:function(e){this.Hr.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Qr),window.removeEventListener("offline",this.zr)}},{key:"Jr",value:function(){window.addEventListener("online",this.Qr),window.addEventListener("offline",this.zr)}},{key:"jr",value:function(){hf("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=qe(this.Hr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"Wr",value:function(){hf("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=qe(this.Hr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"C",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),sm=null;function um(){return null===sm?sm=268435456+Math.round(2147483648*Math.random()):sm++,"0x"+sm.toString(16)}var cm={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},lm=function(){function e(t){He(this,e),this.Yr=t.Yr,this.Zr=t.Zr}return Ke(e,[{key:"Xr",value:function(e){this.eo=e}},{key:"no",value:function(e){this.so=e}},{key:"onMessage",value:function(e){this.io=e}},{key:"close",value:function(){this.Zr()}},{key:"send",value:function(e){this.Yr(e)}},{key:"ro",value:function(){this.eo()}},{key:"oo",value:function(e){this.so(e)}},{key:"uo",value:function(e){this.io(e)}}]),e}(),fm="WebChannelConnection",hm=function(e){Xe(n,e);var t=et(n);function n(e){var r;return He(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return Ke(n,[{key:"wo",value:function(e,t,n,r){var i=um();return new Promise((function(a,o){var s=new of;s.setWithCredentials(!0),s.listenOnce(ef.COMPLETE,(function(){try{switch(s.getLastErrorCode()){case Zl.NO_ERROR:var t=s.getResponseJson();hf(fm,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),a(t);break;case Zl.TIMEOUT:hf(fm,"RPC '".concat(e,"' ").concat(i," timed out")),o(new kf(_f.DEADLINE_EXCEEDED,"Request time out"));break;case Zl.HTTP_ERROR:var n=s.getStatus();if(hf(fm,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson();Array.isArray(r)&&(r=r[0]);var u=null==r?void 0:r.error;if(u&&u.status&&u.message){var c=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(_f).indexOf(t)>=0?t:_f.UNKNOWN}(u.status);o(new kf(c,u.message))}else o(new kf(_f.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new kf(_f.UNAVAILABLE,"Connection failed."));break;default:mf()}}finally{hf(fm,"RPC '".concat(e,"' ").concat(i," completed."))}}));var u=JSON.stringify(r);hf(fm,"RPC '".concat(e,"' ").concat(i," sending request:"),r),s.send(t,"POST",u,n,15)}))}},{key:"yo",value:function(e,t,n){var r=um(),i=[this.co,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=$l(),o=Jl(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(s.xmlHttpFactory=new rf({})),this._o(s.initMessageHeaders,t,n),s.encodeInitMessageHeaders=!0;var u=i.join("");hf(fm,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(u),s);var c=a.createWebChannel(u,s),l=!1,f=!1,h=new lm({Yr:function(t){f?hf(fm,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(l||(hf(fm,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),c.open(),l=!0),hf(fm,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),c.send(t))},Zr:function(){return c.close()}}),d=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return d(c,af.EventType.OPEN,(function(){f||hf(fm,"RPC '".concat(e,"' stream ").concat(r," transport opened."))})),d(c,af.EventType.CLOSE,(function(){f||(f=!0,hf(fm,"RPC '".concat(e,"' stream ").concat(r," transport closed")),h.oo())})),d(c,af.EventType.ERROR,(function(t){f||(f=!0,pf(fm,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),h.oo(new kf(_f.UNAVAILABLE,"The operation could not be completed")))})),d(c,af.EventType.MESSAGE,(function(t){var n;if(!f){var i=t.data[0];yf(!!i);var a=i,o=a.error||(null===(n=a[0])||void 0===n?void 0:n.error);if(o){hf(fm,"RPC '".concat(e,"' stream ").concat(r," received error:"),o);var s=o.status,u=function(e){var t=sp[e];if(void 0!==t)return dp(t)}(s),l=o.message;void 0===u&&(u=_f.INTERNAL,l="Unknown error status: "+s+" with message "+o.message),f=!0,h.oo(new kf(u,l)),c.close()}else hf(fm,"RPC '".concat(e,"' stream ").concat(r," received:"),i),h.uo(i)}})),d(o,tf.STAT_EVENT,(function(t){t.stat===nf.PROXY?hf(fm,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===nf.NOPROXY&&hf(fm,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((function(){h.ro()}),0),h}}]),n}(function(){function e(t){He(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.co=n+"://"+t.host,this.ao="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return Ke(e,[{key:"ho",get:function(){return!1}},{key:"lo",value:function(e,t,n,r,i){var a=um(),o=this.fo(e,t);hf("RestConnection","Sending RPC '".concat(e,"' ").concat(a,":"),o,n);var s={};return this._o(s,r,i),this.wo(e,o,s,n).then((function(t){return hf("RestConnection","Received RPC '".concat(e,"' ").concat(a,": "),t),t}),(function(t){throw pf("RestConnection","RPC '".concat(e,"' ").concat(a," failed with error: "),t,"url: ",o,"request:",n),t}))}},{key:"mo",value:function(e,t,n,r,i,a){return this.lo(e,t,n,r,i)}},{key:"_o",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+cf,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"fo",value:function(e,t){var n=cm[e];return"".concat(this.co,"/v1/").concat(t,":").concat(n)}}]),e}());function dm(){return"undefined"!=typeof document?document:null}function pm(e){return new Bp(e,!0)}var vm=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;He(this,e),this.Ys=t,this.timerId=n,this.po=r,this.Io=i,this.To=a,this.Eo=0,this.Ao=null,this.Ro=Date.now(),this.reset()}return Ke(e,[{key:"reset",value:function(){this.Eo=0}},{key:"Po",value:function(){this.Eo=this.To}},{key:"vo",value:function(e){var t=this;this.cancel();var n=Math.floor(this.Eo+this.bo()),r=Math.max(0,Date.now()-this.Ro),i=Math.max(0,n-r);i>0&&hf("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.Eo," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.Ao=this.Ys.enqueueAfterDelay(this.timerId,i,(function(){return t.Ro=Date.now(),e()})),this.Eo*=this.Io,this.Eo<this.po&&(this.Eo=this.po),this.Eo>this.To&&(this.Eo=this.To)}},{key:"Vo",value:function(){null!==this.Ao&&(this.Ao.skipDelay(),this.Ao=null)}},{key:"cancel",value:function(){null!==this.Ao&&(this.Ao.cancel(),this.Ao=null)}},{key:"bo",value:function(){return(Math.random()-.5)*this.Eo}}]),e}(),mm=function(){function e(t,n,r,i,a,o,s,u){He(this,e),this.Ys=t,this.So=r,this.Do=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=u,this.state=0,this.Co=0,this.xo=null,this.No=null,this.stream=null,this.ko=new vm(t,n)}return Ke(e,[{key:"$o",value:function(){return 1===this.state||5===this.state||this.Mo()}},{key:"Mo",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.Oo()}},{key:"stop",value:function(){var e=Ge(Ve().mark((function e(){return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.$o(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Fo",value:function(){this.state=0,this.ko.reset()}},{key:"Bo",value:function(){var e=this;this.Mo()&&null===this.xo&&(this.xo=this.Ys.enqueueAfterDelay(this.So,6e4,(function(){return e.Lo()})))}},{key:"qo",value:function(e){this.Uo(),this.stream.send(e)}},{key:"Lo",value:function(){var e=Ge(Ve().mark((function e(){return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.Mo()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Uo",value:function(){this.xo&&(this.xo.cancel(),this.xo=null)}},{key:"Ko",value:function(){this.No&&(this.No.cancel(),this.No=null)}},{key:"close",value:function(){var e=Ge(Ve().mark((function e(t,n){return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Uo(),this.Ko(),this.ko.cancel(),this.Co++,4!==t?this.ko.reset():n&&n.code===_f.RESOURCE_EXHAUSTED?(df(n.toString()),df("Using maximum backoff delay to prevent overloading the backend."),this.ko.Po()):n&&n.code===_f.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Go(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.no(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Go",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Qo(this.Co),n=this.Co;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=c(t,2),i=r[0],a=r[1];e.Co===n&&e.jo(i,a)}),(function(n){t((function(){var t=new kf(_f.UNKNOWN,"Fetching auth token failed: "+n.message);return e.zo(t)}))}))}},{key:"jo",value:function(e,t){var n=this,r=this.Qo(this.Co);this.stream=this.Wo(e,t),this.stream.Xr((function(){r((function(){return n.state=2,n.No=n.Ys.enqueueAfterDelay(n.Do,1e4,(function(){return n.Mo()&&(n.state=3),Promise.resolve()})),n.listener.Xr()}))})),this.stream.no((function(e){r((function(){return n.zo(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"Oo",value:function(){var e=this;this.state=5,this.ko.vo(Ge(Ve().mark((function t(){return Ve().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"zo",value:function(e){return hf("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Qo",value:function(e){var t=this;return function(n){t.Ys.enqueueAndForget((function(){return t.Co===e?n():(hf("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),ym=function(e){Xe(n,e);var t=et(n);function n(e,r,i,a,o,s){var u;return He(this,n),(u=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,s)).Tt=o,u}return Ke(n,[{key:"Wo",value:function(e,t){return this.connection.yo("Listen",e,t)}},{key:"onMessage",value:function(e){this.ko.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:mf()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.yt?(yf(void 0===t||"string"==typeof t),uh.fromBase64String(t||"")):(yf(void 0===t||t instanceof Uint8Array),uh.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,s=o&&function(e){var t=void 0===e.code?_f.UNKNOWN:dp(e.code);return new kf(t,e.message||"")}(o);n=new Ap(r,i,a,s||null)}else if("documentChange"in t){t.documentChange;var u=t.documentChange;u.document,u.document.name,u.document.updateTime;var c=Wp(e,u.document.name),l=qp(u.document.updateTime),f=u.document.createTime?qp(u.document.createTime):Lf.min(),h=new od({mapValue:{fields:u.document.fields}}),d=ud.newFoundDocument(c,l,f,h),p=u.targetIds||[],v=u.removedTargetIds||[];n=new Rp(p,v,d.key,d)}else if("documentDelete"in t){t.documentDelete;var m=t.documentDelete;m.document;var y=Wp(e,m.document),g=m.readTime?qp(m.readTime):Lf.min(),_=ud.newNoDocument(y,g),k=m.removedTargetIds||[];n=new Rp([],k,_.key,_)}else if("documentRemove"in t){t.documentRemove;var b=t.documentRemove;b.document;var w=Wp(e,b.document),E=b.removedTargetIds||[];n=new Rp([],E,w,null)}else{if(!("filter"in t))return mf();t.filter;var T=t.filter;T.targetId;var S=T.count||0,x=new fp(S),I=T.targetId;n=new Dp(I,x)}return n}(this.Tt,e),n=function(e){if(!("targetChange"in e))return Lf.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?Lf.min():t.readTime?qp(t.readTime):Lf.min()}(e);return this.listener.Ho(t,n)}},{key:"Jo",value:function(e){var t={};t.database=$p(this.Tt),t.addTarget=function(e,t){var n,r=t.target;return(n=dd(r)?{documents:tv(e,r)}:{query:nv(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=zp(e,t.resumeToken):t.snapshotVersion.compareTo(Lf.min())>0&&(n.readTime=Vp(e,t.snapshotVersion.toTimestamp())),n}(this.Tt,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return mf()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.Tt,e);n&&(t.labels=n),this.qo(t)}},{key:"Yo",value:function(e){var t={};t.database=$p(this.Tt),t.removeTarget=e,this.qo(t)}}]),n}(mm),gm=function(e){Xe(n,e);var t=et(n);function n(e,r,i,a,o,s){var u;return He(this,n),(u=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,s)).Tt=o,u.Zo=!1,u}return Ke(n,[{key:"Xo",get:function(){return this.Zo}},{key:"start",value:function(){this.Zo=!1,this.lastStreamToken=void 0,Vn($e(n.prototype),"start",this).call(this)}},{key:"Go",value:function(){this.Zo&&this.tu([])}},{key:"Wo",value:function(e,t){return this.connection.yo("Write",e,t)}},{key:"onMessage",value:function(e){if(yf(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Zo){this.ko.reset();var t=function(e,t){return e&&e.length>0?(yf(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?qp(e.updateTime):qp(t);return n.isEqual(Lf.min())&&(n=qp(t)),new Kd(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=qp(e.commitTime);return this.listener.eu(n,t)}return yf(!e.writeResults||0===e.writeResults.length),this.Zo=!0,this.listener.nu()}},{key:"su",value:function(){var e={};e.database=$p(this.Tt),this.qo(e)}},{key:"tu",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return ev(t.Tt,e)}))};this.qo(n)}}]),n}(mm),_m=function(e){Xe(n,e);var t=et(n);function n(e,r,i,a){var o;return He(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.connection=i,o.Tt=a,o.iu=!1,o}return Ke(n,[{key:"ru",value:function(){if(this.iu)throw new kf(_f.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"lo",value:function(e,t,n){var r=this;return this.ru(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=c(i,2),o=a[0],s=a[1];return r.connection.lo(e,t,n,o,s)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===_f.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new kf(_f.UNKNOWN,e.toString())}))}},{key:"mo",value:function(e,t,n,r){var i=this;return this.ru(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(a){var o=c(a,2),s=o[0],u=o[1];return i.connection.mo(e,t,n,s,u,r)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===_f.UNAUTHENTICATED&&(i.authCredentials.invalidateToken(),i.appCheckCredentials.invalidateToken()),e):new kf(_f.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.iu=!0}}]),n}(function(){return Ke((function e(){He(this,e)}))}());var km=function(){function e(t,n){He(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.ou=0,this.uu=null,this.cu=!0}return Ke(e,[{key:"au",value:function(){var e=this;0===this.ou&&(this.hu("Unknown"),this.uu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.uu=null,e.lu("Backend didn't respond within 10 seconds."),e.hu("Offline"),Promise.resolve()})))}},{key:"fu",value:function(e){"Online"===this.state?this.hu("Unknown"):(this.ou++,this.ou>=1&&(this.du(),this.lu("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.hu("Offline")))}},{key:"set",value:function(e){this.du(),this.ou=0,"Online"===e&&(this.cu=!1),this.hu(e)}},{key:"hu",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"lu",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.cu?(df(t),this.cu=!1):hf("OnlineStateTracker",t)}},{key:"du",value:function(){null!==this.uu&&(this.uu.cancel(),this.uu=null)}}]),e}(),bm=Ke((function e(t,n,r,i,a){var o=this;He(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this._u=[],this.wu=new Map,this.mu=new Set,this.gu=[],this.yu=a,this.yu.Gr((function(e){r.enqueueAndForget(Ge(Ve().mark((function e(){return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=Am(o),!e.t0){e.next=5;break}return hf("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=Ge(Ve().mark((function e(t){var n;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=gf(t)).mu.add(4),e.next=4,Tm(n);case 4:return n.pu.set("Unknown"),n.mu.delete(4),e.next=8,wm(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.pu=new km(r,i)}));function wm(e){return Em.apply(this,arguments)}function Em(){return Em=Ge(Ve().mark((function e(t){var n,r,i;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Am(t)){e.next=18;break}n=qe(t.gu),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),Em.apply(this,arguments)}function Tm(e){return Sm.apply(this,arguments)}function Sm(){return Sm=Ge(Ve().mark((function e(t){var n,r,i;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=qe(t.gu),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),Sm.apply(this,arguments)}function xm(e,t){var n=gf(e);n.wu.has(t.targetId)||(n.wu.set(t.targetId,t),Dm(n)?Rm(n):sy(n).Mo()&&Cm(n,t))}function Im(e,t){var n=gf(e),r=sy(n);n.wu.delete(t),r.Mo()&&Nm(n,t),0===n.wu.size&&(r.Mo()?r.Bo():Am(n)&&n.pu.set("Unknown"))}function Cm(e,t){e.Iu.Ot(t.targetId),sy(e).Jo(t)}function Nm(e,t){e.Iu.Ot(t),sy(e).Yo(t)}function Rm(e){e.Iu=new Pp({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},ie:function(t){return e.wu.get(t)||null}}),sy(e).start(),e.pu.au()}function Dm(e){return Am(e)&&!sy(e).$o()&&e.wu.size>0}function Am(e){return 0===gf(e).mu.size}function Om(e){e.Iu=void 0}function Pm(e){return Lm.apply(this,arguments)}function Lm(){return Lm=Ge(Ve().mark((function e(t){return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.wu.forEach((function(e,n){Cm(t,e)}));case 1:case"end":return e.stop()}}),e)}))),Lm.apply(this,arguments)}function Mm(e,t){return Um.apply(this,arguments)}function Um(){return Um=Ge(Ve().mark((function e(t,n){return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Om(t),Dm(t)?(t.pu.fu(n),Rm(t)):t.pu.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),Um.apply(this,arguments)}function jm(e,t,n){return Fm.apply(this,arguments)}function Fm(){return Fm=Ge(Ve().mark((function e(t,n,r){var i;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.pu.set("Online"),!(n instanceof Ap&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=Ge(Ve().mark((function e(t,n){var r,i,a,o;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=qe(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.wu.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.wu.delete(o),t.Iu.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),hf("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,Bm(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof Rp?t.Iu.Qt(n):n instanceof Dp?t.Iu.Zt(n):t.Iu.Wt(n),r.isEqual(Lf.min())){e.next=29;break}return e.prev=14,e.next=17,Wv(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.Iu.ee(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.wu.get(r);i&&e.wu.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.wu.get(t);if(n){e.wu.set(t,n.withResumeToken(uh.EMPTY_BYTE_STRING,n.snapshotVersion)),Nm(e,t);var r=new _v(n.target,t,1,n.sequenceNumber);Cm(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),hf("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,Bm(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),Fm.apply(this,arguments)}function Bm(e,t,n){return Vm.apply(this,arguments)}function Vm(){return Vm=Ge(Ve().mark((function e(t,n,r){return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if($f(n)){e.next=2;break}throw n;case 2:return t.mu.add(1),e.next=5,Tm(t);case 5:t.pu.set("Offline"),r||(r=function(){return Wv(t.localStore)}),t.asyncQueue.enqueueRetryable(Ge(Ve().mark((function e(){return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return hf("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.mu.delete(1),e.next=6,wm(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),Vm.apply(this,arguments)}function zm(e,t){return t().catch((function(n){return Bm(e,n,t)}))}function Gm(e){return qm.apply(this,arguments)}function qm(){return qm=Ge(Ve().mark((function e(t){var n,r,i,a;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=gf(t),r=uy(n),i=n._u.length>0?n._u[n._u.length-1].batchId:-1;case 2:if(!Hm(n)){e.next=19;break}return e.prev=3,e.next=6,$v(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n._u.length&&r.Bo(),e.abrupt("break",19);case 10:i=a.batchId,Ym(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,Bm(n,e.t0);case 17:e.next=2;break;case 19:Km(n)&&Wm(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),qm.apply(this,arguments)}function Hm(e){return Am(e)&&e._u.length<10}function Ym(e,t){e._u.push(t);var n=uy(e);n.Mo()&&n.Xo&&n.tu(t.mutations)}function Km(e){return Am(e)&&!uy(e).$o()&&e._u.length>0}function Wm(e){uy(e).start()}function Qm(e){return Xm.apply(this,arguments)}function Xm(){return Xm=Ge(Ve().mark((function e(t){return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:uy(t).su();case 1:case"end":return e.stop()}}),e)}))),Xm.apply(this,arguments)}function $m(e){return Jm.apply(this,arguments)}function Jm(){return Jm=Ge(Ve().mark((function e(t){var n,r,i,a;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=uy(t),r=qe(t._u);try{for(r.s();!(i=r.n()).done;)a=i.value,n.tu(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),Jm.apply(this,arguments)}function Zm(e,t,n){return ey.apply(this,arguments)}function ey(){return ey=Ge(Ve().mark((function e(t,n,r){var i,a;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t._u.shift(),a=yv.from(i,n,r),e.next=3,zm(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,Gm(t);case 5:case"end":return e.stop()}}),e)}))),ey.apply(this,arguments)}function ty(e,t){return ny.apply(this,arguments)}function ny(){return ny=Ge(Ve().mark((function e(t,n){return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&uy(t).Xo,!e.t0){e.next=4;break}return e.next=4,function(){var e=Ge(Ve().mark((function e(t,n){var r,i;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!hp(i=n.code)||i===_f.ABORTED){e.next=7;break}return r=t._u.shift(),uy(t).Fo(),e.next=5,zm(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,Gm(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:Km(t)&&Wm(t);case 5:case"end":return e.stop()}}),e)}))),ny.apply(this,arguments)}function ry(e,t){return iy.apply(this,arguments)}function iy(){return iy=Ge(Ve().mark((function e(t,n){var r,i;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=gf(t)).asyncQueue.verifyOperationInProgress(),hf("RemoteStore","RemoteStore received new credentials"),i=Am(r),r.mu.add(3),e.next=6,Tm(r);case 6:return i&&r.pu.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.mu.delete(3),e.next=12,wm(r);case 12:case"end":return e.stop()}}),e)}))),iy.apply(this,arguments)}function ay(e,t){return oy.apply(this,arguments)}function oy(){return oy=Ge(Ve().mark((function e(t,n){var r;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=gf(t),!n){e.next=7;break}return r.mu.delete(2),e.next=5,wm(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.mu.add(2),e.next=12,Tm(r);case 12:r.pu.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),oy.apply(this,arguments)}function sy(e){return e.Tu||(e.Tu=function(e,t,n){var r=gf(e);return r.ru(),new ym(t,r.connection,r.authCredentials,r.appCheckCredentials,r.Tt,n)}(e.datastore,e.asyncQueue,{Xr:Pm.bind(null,e),no:Mm.bind(null,e),Ho:jm.bind(null,e)}),e.gu.push(function(){var t=Ge(Ve().mark((function t(n){return Ve().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.Tu.Fo(),Dm(e)?Rm(e):e.pu.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.Tu.stop();case 6:Om(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Tu}function uy(e){return e.Eu||(e.Eu=function(e,t,n){var r=gf(e);return r.ru(),new gm(t,r.connection,r.authCredentials,r.appCheckCredentials,r.Tt,n)}(e.datastore,e.asyncQueue,{Xr:Qm.bind(null,e),no:ty.bind(null,e),nu:$m.bind(null,e),eu:Zm.bind(null,e)}),e.gu.push(function(){var t=Ge(Ve().mark((function t(n){return Ve().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.Eu.Fo(),t.next=4,Gm(e);case 4:t.next=9;break;case 6:return t.next=8,e.Eu.stop();case 8:e._u.length>0&&(hf("RemoteStore","Stopping write stream with ".concat(e._u.length," pending writes")),e._u=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Eu}var cy=function(){function e(t,n,r,i,a){He(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new bf,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return Ke(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new kf(_f.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function ly(e,t){if(df("AsyncQueue","".concat(t,": ").concat(e)),$f(e))return new kf(_f.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var fy=function(){function e(t){He(this,e),this.comparator=t?function(e,n){return t(e,n)||Bf.comparator(e.key,n.key)}:function(e,t){return Bf.comparator(e.key,t.key)},this.keyedMap=gp(),this.sortedSet=new ed(this.comparator)}return Ke(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),hy=function(){function e(){He(this,e),this.Au=new ed(Bf.comparator)}return Ke(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.Au.get(t);n?0!==e.type&&3===n.type?this.Au=this.Au.insert(t,e):3===e.type&&1!==n.type?this.Au=this.Au.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Au=this.Au.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Au=this.Au.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Au=this.Au.remove(t):1===e.type&&2===n.type?this.Au=this.Au.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Au=this.Au.insert(t,{type:2,doc:e.doc}):mf():this.Au=this.Au.insert(t,e)}},{key:"Ru",value:function(){var e=[];return this.Au.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),dy=function(){function e(t,n,r,i,a,o,s,u,c){He(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=u,this.hasCachedResults=c}return Ke(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Sd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i,a){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,fy.emptySet(n),o,r,i,!0,!1,a)}}]),e}(),py=Ke((function e(){He(this,e),this.Pu=void 0,this.listeners=[]})),vy=Ke((function e(){He(this,e),this.queries=new pp((function(e){return xd(e)}),Sd),this.onlineState="Unknown",this.vu=new Set}));function my(e,t){return yy.apply(this,arguments)}function yy(){return yy=Ge(Ve().mark((function e(t,n){var r,i,a,o,s;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=gf(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new py),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.Pu=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),s=ly(e.t0,"Initialization of query '".concat(Id(n.query),"' failed")),e.abrupt("return",void n.onError(s));case 13:r.queries.set(i,o),o.listeners.push(n),n.bu(r.onlineState),o.Pu&&n.Vu(o.Pu)&&wy(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),yy.apply(this,arguments)}function gy(e,t){return _y.apply(this,arguments)}function _y(){return _y=Ge(Ve().mark((function e(t,n){var r,i,a,o,s;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=gf(t),i=n.query,a=!1,(o=r.queries.get(i))&&(s=o.listeners.indexOf(n))>=0&&(o.listeners.splice(s,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),_y.apply(this,arguments)}function ky(e,t){var n,r=gf(e),i=!1,a=qe(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,s=o.query,u=r.queries.get(s);if(u){var c,l=qe(u.listeners);try{for(l.s();!(c=l.n()).done;){c.value.Vu(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}u.Pu=o}}}catch(f){a.e(f)}finally{a.f()}i&&wy(r)}function by(e,t,n){var r=gf(e),i=r.queries.get(t);if(i){var a,o=qe(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(s){o.e(s)}finally{o.f()}}r.queries.delete(t)}function wy(e){e.vu.forEach((function(e){e.next()}))}var Ey=function(){function e(t,n,r){He(this,e),this.query=t,this.Su=n,this.Du=!1,this.Cu=null,this.onlineState="Unknown",this.options=r||{}}return Ke(e,[{key:"Vu",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=qe(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new dy(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}var a=!1;return this.Du?this.xu(e)&&(this.Su.next(e),a=!0):this.Nu(e,this.onlineState)&&(this.ku(e),a=!0),this.Cu=e,a}},{key:"onError",value:function(e){this.Su.error(e)}},{key:"bu",value:function(e){this.onlineState=e;var t=!1;return this.Cu&&!this.Du&&this.Nu(this.Cu,e)&&(this.ku(this.Cu),t=!0),t}},{key:"Nu",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.$u||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}},{key:"xu",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Cu&&this.Cu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"ku",value:function(e){e=dy.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Du=!0,this.Su.next(e)}}]),e}();var Ty=Ke((function e(t){He(this,e),this.key=t})),Sy=Ke((function e(t){He(this,e),this.key=t})),xy=function(){function e(t,n){He(this,e),this.query=t,this.Ku=n,this.Gu=null,this.hasCachedResults=!1,this.current=!1,this.Qu=Sp(),this.mutatedKeys=Sp(),this.ju=Rd(t),this.zu=new fy(this.ju)}return Ke(e,[{key:"Wu",get:function(){return this.Ku}},{key:"Hu",value:function(e,t){var n=this,r=t?t.Ju:new hy,i=t?t.zu:this.zu,a=t?t.mutatedKeys:this.mutatedKeys,o=i,s=!1,u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=Cd(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.Yu(l,f)||(r.track({type:2,doc:f}),p=!0,(u&&n.ju(f,u)>0||c&&n.ju(f,c)<0)&&(s=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(s=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{zu:o,Ju:r,Li:s,mutatedKeys:a}}},{key:"Yu",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.zu;this.zu=e.zu,this.mutatedKeys=e.mutatedKeys;var a=e.Ju.Ru();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return mf()}};return n(e)-n(t)}(e.type,t.type)||r.ju(e.doc,t.doc)})),this.Zu(n);var o=t?this.Xu():[],s=0===this.Qu.size&&this.current?1:0,u=s!==this.Gu;return this.Gu=s,0!==a.length||u?{snapshot:new dy(this.query,e.zu,i,a,e.mutatedKeys,0===s,u,!1,!!n&&n.resumeToken.approximateByteSize()>0),tc:o}:{tc:o}}},{key:"bu",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({zu:this.zu,Ju:new hy,mutatedKeys:this.mutatedKeys,Li:!1},!1)):{tc:[]}}},{key:"ec",value:function(e){return!this.Ku.has(e)&&!!this.zu.has(e)&&!this.zu.get(e).hasLocalMutations}},{key:"Zu",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.Ku=t.Ku.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.Ku=t.Ku.delete(e)})),this.current=e.current)}},{key:"Xu",value:function(){var e=this;if(!this.current)return[];var t=this.Qu;this.Qu=Sp(),this.zu.forEach((function(t){e.ec(t.key)&&(e.Qu=e.Qu.add(t.key))}));var n=[];return t.forEach((function(t){e.Qu.has(t)||n.push(new Sy(t))})),this.Qu.forEach((function(e){t.has(e)||n.push(new Ty(e))})),n}},{key:"nc",value:function(e){this.Ku=e.Yi,this.Qu=Sp();var t=this.Hu(e.documents);return this.applyChanges(t,!0)}},{key:"sc",value:function(){return dy.fromInitialDocuments(this.query,this.zu,this.mutatedKeys,0===this.Gu,this.hasCachedResults)}}]),e}(),Iy=Ke((function e(t,n,r){He(this,e),this.query=t,this.targetId=n,this.view=r})),Cy=Ke((function e(t){He(this,e),this.key=t,this.ic=!1})),Ny=function(){function e(t,n,r,i,a,o){He(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.rc={},this.oc=new pp((function(e){return xd(e)}),Sd),this.uc=new Map,this.cc=new Set,this.ac=new ed(Bf.comparator),this.hc=new Map,this.lc=new Av,this.fc={},this.dc=new Map,this._c=xv.Sn(),this.onlineState="Unknown",this.wc=void 0}return Ke(e,[{key:"isPrimaryClient",get:function(){return!0===this.wc}}]),e}();function Ry(e,t){return Dy.apply(this,arguments)}function Dy(){return Dy=Ge(Ve().mark((function e(t,n){var r,i,a,o,s,u;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=ag(t),!(o=r.oc.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.sc(),e.next=15;break;case 6:return e.next=8,Jv(r.localStore,wd(n));case 8:return s=e.sent,r.isPrimaryClient&&xm(r.remoteStore,s),u=r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.targetId,e.next=14,Ay(r,n,i,"current"===u,s.resumeToken);case 14:a=e.sent;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),Dy.apply(this,arguments)}function Ay(e,t,n,r,i){return Oy.apply(this,arguments)}function Oy(){return Oy=Ge(Ve().mark((function e(t,n,r,i,a){var o,s,u,c,l,f;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.mc=function(e,n,r){return function(){var e=Ge(Ve().mark((function e(t,n,r,i){var a,o,s;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.Hu(r),e.t0=a.Li,!e.t0){e.next=6;break}return e.next=5,tm(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.Hu(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),s=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",($y(t,n.targetId,s.tc),s.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,tm(t.localStore,n,!0);case 3:return o=e.sent,s=new xy(n,o.Yi),u=s.Hu(o.documents),c=Np.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState,a),l=s.applyChanges(u,t.isPrimaryClient,c),$y(t,r,l.tc),f=new Iy(n,r,s),e.abrupt("return",(t.oc.set(n,f),t.uc.has(r)?t.uc.get(r).push(n):t.uc.set(r,[n]),l.snapshot));case 11:case"end":return e.stop()}}),e)}))),Oy.apply(this,arguments)}function Py(e,t){return Ly.apply(this,arguments)}function Ly(){return Ly=Ge(Ve().mark((function e(t,n){var r,i,a;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=gf(t),i=r.oc.get(n),!((a=r.uc.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.uc.set(i.targetId,a.filter((function(e){return!Sd(e,n)}))),void r.oc.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,Zv(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),Im(r.remoteStore,i.targetId),Qy(r,i.targetId)})).catch(Wf);case 9:e.next=14;break;case 11:return Qy(r,i.targetId),e.next=14,Zv(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),Ly.apply(this,arguments)}function My(e,t,n){return Uy.apply(this,arguments)}function Uy(){return Uy=Ge(Ve().mark((function e(t,n,r){var i,a,o;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=og(t),e.prev=1,e.next=4,function(e,t){var n,r,i=gf(e),a=Pf.now(),o=t.reduce((function(e,t){return e.add(t.key)}),Sp());return i.persistence.runTransaction("Locally write mutations","readwrite",(function(e){var s=mp(),u=Sp();return i.ji.getEntries(e,o).next((function(e){(s=e).forEach((function(e,t){t.isValidDocument()||(u=u.add(e))}))})).next((function(){return i.localDocuments.getOverlayedDocuments(e,s)})).next((function(r){n=r;var o,s=[],u=qe(t);try{for(u.s();!(o=u.n()).done;){var c=o.value,l=ep(c,n.get(c.key).overlayedDocument);null!=l&&s.push(new rp(c.key,l,sd(l.value.mapValue),Wd.exists(!0)))}}catch(f){u.e(f)}finally{u.f()}return i.mutationQueue.addMutationBatch(e,a,s,t)})).next((function(t){r=t;var a=t.applyToLocalDocumentSet(n,u);return i.documentOverlayCache.saveOverlays(e,t.batchId,a)}))})).then((function(){return{batchId:r.batchId,changes:_p(n)}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.fc[e.currentUser.toKey()];r||(r=new ed(Af)),r=r.insert(t,n),e.fc[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,eg(i,a.changes);case 9:return e.next=11,Gm(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=ly(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),Uy.apply(this,arguments)}function jy(e,t){return Fy.apply(this,arguments)}function Fy(){return Fy=Ge(Ve().mark((function e(t,n){var r,i;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=gf(t),e.prev=1,e.next=4,Qv(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.hc.get(t);n&&(yf(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.ic=!0:e.modifiedDocuments.size>0?yf(n.ic):e.removedDocuments.size>0&&(yf(n.ic),n.ic=!1))})),e.next=8,eg(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,Wf(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),Fy.apply(this,arguments)}function By(e,t,n){var r=gf(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.oc.forEach((function(e,n){var r=n.view.bu(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=gf(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=qe(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.bu(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&wy(n)}(r.eventManager,t),i.length&&r.rc.Ho(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function Vy(e,t,n){return zy.apply(this,arguments)}function zy(){return zy=Ge(Ve().mark((function e(t,n,r){var i,a,o,s,u,c;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=gf(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.hc.get(n),!(o=a&&a.key)){e.next=14;break}return s=(s=new ed(Bf.comparator)).insert(o,ud.newNoDocument(o,Lf.min())),u=Sp().add(o),c=new Cp(Lf.min(),new Map,new rd(Af),s,u),e.next=9,jy(i,c);case 9:i.ac=i.ac.remove(o),i.hc.delete(n),Zy(i),e.next=16;break;case 14:return e.next=16,Zv(i.localStore,n,!1).then((function(){return Qy(i,n,r)})).catch(Wf);case 16:case"end":return e.stop()}}),e)}))),zy.apply(this,arguments)}function Gy(e,t){return qy.apply(this,arguments)}function qy(){return qy=Ge(Ve().mark((function e(t,n){var r,i,a;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=gf(t),i=n.batch.batchId,e.prev=1,e.next=4,Kv(r.localStore,n);case 4:return a=e.sent,Wy(r,i,null),Ky(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,eg(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Wf(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),qy.apply(this,arguments)}function Hy(e,t,n){return Yy.apply(this,arguments)}function Yy(){return Yy=Ge(Ve().mark((function e(t,n,r){var i,a;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=gf(t),e.prev=1,e.next=4,function(e,t){var n=gf(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next((function(t){return yf(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,Wy(i,n,r),Ky(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,eg(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Wf(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),Yy.apply(this,arguments)}function Ky(e,t){(e.dc.get(t)||[]).forEach((function(e){e.resolve()})),e.dc.delete(t)}function Wy(e,t,n){var r=gf(e),i=r.fc[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.fc[r.currentUser.toKey()]=i}}function Qy(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=qe(e.uc.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.oc.delete(a),n&&e.rc.gc(a,n)}}catch(o){i.e(o)}finally{i.f()}e.uc.delete(t),e.isPrimaryClient&&e.lc.ds(t).forEach((function(t){e.lc.containsKey(t)||Xy(e,t)}))}function Xy(e,t){e.cc.delete(t.path.canonicalString());var n=e.ac.get(t);null!==n&&(Im(e.remoteStore,n),e.ac=e.ac.remove(t),e.hc.delete(n),Zy(e))}function $y(e,t,n){var r,i=qe(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof Ty?(e.lc.addReference(a.key,t),Jy(e,a)):a instanceof Sy?(hf("SyncEngine","Document no longer in limbo: "+a.key),e.lc.removeReference(a.key,t),e.lc.containsKey(a.key)||Xy(e,a.key)):mf()}}catch(o){i.e(o)}finally{i.f()}}function Jy(e,t){var n=t.key,r=n.path.canonicalString();e.ac.get(n)||e.cc.has(r)||(hf("SyncEngine","New document in limbo: "+n),e.cc.add(r),Zy(e))}function Zy(e){for(;e.cc.size>0&&e.ac.size<e.maxConcurrentLimboResolutions;){var t=e.cc.values().next().value;e.cc.delete(t);var n=new Bf(Uf.fromString(t)),r=e._c.next();e.hc.set(r,new Cy(n)),e.ac=e.ac.insert(n,r),xm(e.remoteStore,new _v(wd(md(n.path)),r,2,Jf.at))}}function eg(e,t,n){return tg.apply(this,arguments)}function tg(){return tg=Ge(Ve().mark((function e(t,n,r){var i,a,o,s;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=gf(t),a=[],o=[],s=[],e.t0=i.oc.isEmpty(),e.t0){e.next=9;break}return i.oc.forEach((function(e,t){s.push(i.mc(t,n,r).then((function(e){if((e||r)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){a.push(e);var n=Vv.Ni(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(s);case 6:return i.rc.Ho(a),e.next=9,function(){var e=Ge(Ve().mark((function e(t,n){var r,i,a,o,s,u,c,l;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=gf(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return Xf.forEach(n,(function(t){return Xf.forEach(t.Ci,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return Xf.forEach(t.xi,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),$f(e.t0)){e.next=10;break}throw e.t0;case 10:hf("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=qe(n);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.targetId,o.fromCache||(u=r.Ki.get(s),c=u.snapshotVersion,l=u.withLastLimboFreeSnapshotVersion(c),r.Ki=r.Ki.insert(s,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),tg.apply(this,arguments)}function ng(e,t){return rg.apply(this,arguments)}function rg(){return rg=Ge(Ve().mark((function e(t,n){var r,i;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=gf(t)).currentUser.isEqual(n)){e.next=11;break}return hf("SyncEngine","User change. New user:",n.toKey()),e.next=5,Hv(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.dc.forEach((function(e){e.forEach((function(e){e.reject(new kf(_f.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.dc.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,eg(r,i.Wi);case 11:case"end":return e.stop()}}),e)}))),rg.apply(this,arguments)}function ig(e,t){var n=gf(e),r=n.hc.get(t);if(r&&r.ic)return Sp().add(r.key);var i=Sp(),a=n.uc.get(t);if(!a)return i;var o,s=qe(a);try{for(s.s();!(o=s.n()).done;){var u=o.value,c=n.oc.get(u);i=i.unionWith(c.view.Wu)}}catch(l){s.e(l)}finally{s.f()}return i}function ag(e){var t=gf(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=jy.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=ig.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Vy.bind(null,t),t.rc.Ho=ky.bind(null,t.eventManager),t.rc.gc=by.bind(null,t.eventManager),t}function og(e){var t=gf(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Gy.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Hy.bind(null,t),t}var sg=function(){function e(){He(this,e),this.synchronizeTabs=!1}return Ke(e,[{key:"initialize",value:function(){var e=Ge(Ve().mark((function e(t){return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Tt=pm(t.databaseInfo.databaseId),this.sharedClientState=this.Ic(t),this.persistence=this.Tc(t),e.next=5,this.persistence.start();case 5:this.localStore=this.Ec(t),this.gcScheduler=this.Ac(t,this.localStore),this.indexBackfillerScheduler=this.Rc(t,this.localStore);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Ac",value:function(e,t){return null}},{key:"Rc",value:function(e,t){return null}},{key:"Ec",value:function(e){return qv(this.persistence,new zv,e.initialUser,this.Tt)}},{key:"Tc",value:function(e){return new jv(Bv.qs,this.Tt)}},{key:"Ic",value:function(e){return new im}},{key:"terminate",value:function(){var e=Ge(Ve().mark((function e(){return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),ug=function(){function e(){He(this,e)}return Ke(e,[{key:"initialize",value:function(){var e=Ge(Ve().mark((function e(t,n){var r=this;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return By(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=ng.bind(null,this.syncEngine),e.next=12,ay(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new vy}},{key:"createDatastore",value:function(e){var t,n=pm(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new hm(t));return function(e,t,n,r){return new _m(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return By(o.syncEngine,e,0)},a=om.C()?new om:new am,new bm(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var s=new Ny(e,t,n,r,i,a);return o&&(s.wc=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=Ge(Ve().mark((function e(t){var n;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=gf(t),hf("RemoteStore","RemoteStore shutting down."),n.mu.add(5),e.next=5,Tm(n);case 5:n.yu.shutdown(),n.pu.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();var cg=function(){function e(t){He(this,e),this.observer=t,this.muted=!1}return Ke(e,[{key:"next",value:function(e){this.observer.next&&this.vc(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.vc(this.observer.error,e):df("Uncaught Error in snapshot listener:",e.toString())}},{key:"bc",value:function(){this.muted=!0}},{key:"vc",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),lg=function(){function e(t,n,r,i){var a=this;He(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=uf.UNAUTHENTICATED,this.clientId=Df.R(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=Ge(Ve().mark((function e(t){return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return hf("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return hf("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return Ke(e,[{key:"getConfiguration",value:function(){var e=Ge(Ve().mark((function e(){return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new kf(_f.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new bf;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(Ge(Ve().mark((function n(){var r;return Ve().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=ly(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function fg(e,t){return hg.apply(this,arguments)}function hg(){return hg=Ge(Ve().mark((function e(t,n){var r,i;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),hf("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=Ge(Ve().mark((function e(t){return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,Hv(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),hg.apply(this,arguments)}function dg(e,t){return pg.apply(this,arguments)}function pg(){return pg=Ge(Ve().mark((function e(t,n){var r,i;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,vg(t);case 3:return r=e.sent,hf("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return ry(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return ry(n.remoteStore,t)})),t.onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),pg.apply(this,arguments)}function vg(e){return mg.apply(this,arguments)}function mg(){return mg=Ge(Ve().mark((function e(t){return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return hf("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,fg(t,new sg);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),mg.apply(this,arguments)}function yg(e){return gg.apply(this,arguments)}function gg(){return gg=Ge(Ve().mark((function e(t){return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return hf("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,dg(t,new ug);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),gg.apply(this,arguments)}function _g(e){return yg(e).then((function(e){return e.syncEngine}))}function kg(e){return bg.apply(this,arguments)}function bg(){return bg=Ge(Ve().mark((function e(t){var n,r;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,yg(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=Ry.bind(null,n.syncEngine),r.onUnlisten=Py.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),bg.apply(this,arguments)}function wg(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new bf;return e.asyncQueue.enqueueAndForget(Ge(Ve().mark((function i(){return Ve().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new cg({next:function(a){t.enqueueAndForget((function(){return gy(e,o)}));var s=a.docs.has(n);!s&&a.fromCache?i.reject(new kf(_f.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&a.fromCache&&r&&"server"===r.source?i.reject(new kf(_f.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new Ey(md(n.path),a,{includeMetadataChanges:!0,$u:!0});return my(e,o)},i.next=3,kg(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function Eg(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new bf;return e.asyncQueue.enqueueAndForget(Ge(Ve().mark((function i(){return Ve().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new cg({next:function(n){t.enqueueAndForget((function(){return gy(e,o)})),n.fromCache&&"server"===r.source?i.reject(new kf(_f.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new Ey(n,a,{includeMetadataChanges:!0,$u:!0});return my(e,o)},i.next=3,kg(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var Tg=new Map;function Sg(e,t,n){if(!n)throw new kf(_f.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function xg(e){if(!Bf.isDocumentKey(e))throw new kf(_f.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function Ig(e){if(Bf.isDocumentKey(e))throw new kf(_f.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function Cg(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":mf()}function Ng(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new kf(_f.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Cg(e);throw new kf(_f.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}var Rg=function(){function e(t){var n;if(He(this,e),void 0===t.host){if(void 0!==t.ssl)throw new kf(_f.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new kf(_f.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,function(e,t,n,r){if(!0===t&&!0===r)throw new kf(_f.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return Ke(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),Dg=function(){function e(t,n,r,i){He(this,e),this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Rg({}),this._settingsFrozen=!1}return Ke(e,[{key:"app",get:function(){if(!this._app)throw new kf(_f.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new kf(_f.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Rg(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Ef;switch(e.type){case"gapi":var t=e.client;return new If(t,e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new kf(_f.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=Tg.get(e);t&&(hf("ComponentProvider","Removing Datastore"),Tg.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function Ag(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=Ng(e,Dg))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&pf("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,s;if("string"==typeof i.mockUserToken)o=i.mockUserToken,s=uf.MOCK_USER;else{o=vt(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var u=i.mockUserToken.sub||i.mockUserToken.user_id;if(!u)throw new kf(_f.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");s=new uf(u)}e._authCredentials=new Tf(new wf(o,s))}}var Og=function(){function e(t,n,r){He(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return Ke(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new Lg(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),Pg=function(){function e(t,n,r){He(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return Ke(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),Lg=function(e){Xe(n,e);var t=et(n);function n(e,r,i){var a;return He(this,n),(a=t.call(this,e,r,md(i)))._path=i,a.type="collection",a}return Ke(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new Og(this.firestore,null,new Bf(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(Pg);function Mg(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Rt(e),Sg("collection","path",t),e instanceof Dg){var a=Uf.fromString.apply(Uf,[t].concat(r));return Ig(a),new Lg(e,null,a)}if(!(e instanceof Og||e instanceof Lg))throw new kf(_f.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Uf.fromString.apply(Uf,[t].concat(r)));return Ig(o),new Lg(e.firestore,null,o)}function Ug(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Rt(e),1===arguments.length&&(t=Df.R()),Sg("doc","path",t),e instanceof Dg){var a=Uf.fromString.apply(Uf,[t].concat(r));return xg(a),new Og(e,null,new Bf(a))}if(!(e instanceof Og||e instanceof Lg))throw new kf(_f.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Uf.fromString.apply(Uf,[t].concat(r)));return xg(o),new Og(e.firestore,e instanceof Lg?e.converter:null,new Bf(o))}var jg=function(){function e(){var t=this;He(this,e),this.qc=Promise.resolve(),this.Uc=[],this.Kc=!1,this.Gc=[],this.Qc=null,this.jc=!1,this.zc=!1,this.Wc=[],this.ko=new vm(this,"async_queue_retry"),this.Hc=function(){var e=dm();e&&hf("AsyncQueue","Visibility state changed to "+e.visibilityState),t.ko.Vo()};var n=dm();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Hc)}return Ke(e,[{key:"isShuttingDown",get:function(){return this.Kc}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.Jc(),this.Yc(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.Kc){this.Kc=!0,this.zc=e||!1;var t=dm();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Hc)}}},{key:"enqueue",value:function(e){var t=this;if(this.Jc(),this.Kc)return new Promise((function(){}));var n=new bf;return this.Yc((function(){return t.Kc&&t.zc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.Uc.push(e),t.Zc()}))}},{key:"Zc",value:function(){var e=Ge(Ve().mark((function e(){var t=this;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.Uc.length){e.next=14;break}return e.prev=1,e.next=4,this.Uc[0]();case 4:this.Uc.shift(),this.ko.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),$f(e.t0)){e.next=12;break}throw e.t0;case 12:hf("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.Uc.length>0&&this.ko.vo((function(){return t.Zc()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"Yc",value:function(e){var t=this,n=this.qc.then((function(){return t.jc=!0,e().catch((function(e){t.Qc=e,t.jc=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw df("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.jc=!1,e}))}));return this.qc=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.Jc(),this.Wc.indexOf(e)>-1&&(t=0);var i=cy.createAndSchedule(this,e,t,n,(function(e){return r.Xc(e)}));return this.Gc.push(i),i}},{key:"Jc",value:function(){this.Qc&&mf()}},{key:"verifyOperationInProgress",value:function(){}},{key:"ta",value:function(){var e=Ge(Ve().mark((function e(){var t;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.qc,e.next=3,t;case 3:if(t!==this.qc){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ea",value:function(e){var t,n=qe(this.Gc);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"na",value:function(e){var t=this;return this.ta().then((function(){t.Gc.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=qe(t.Gc);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.ta()}))}},{key:"sa",value:function(e){this.Wc.push(e)}},{key:"Xc",value:function(e){var t=this.Gc.indexOf(e);this.Gc.splice(t,1)}}]),e}();var Fg=function(e){Xe(n,e);var t=et(n);function n(e,r,i,a){var o;return He(this,n),(o=t.call(this,e,r,i,a)).type="firestore",o._queue=new jg,o._persistenceKey=(null==a?void 0:a.name)||"[DEFAULT]",o}return Ke(n,[{key:"_terminate",value:function(){return this._firestoreClient||Vg(this),this._firestoreClient.terminate()}}]),n}(Dg);function Bg(e){return e._firestoreClient||Vg(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function Vg(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new Zf(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new lg(e._authCredentials,e._appCheckCredentials,e._queue,r)}var zg=function(){function e(t){He(this,e),this._byteString=t}return Ke(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(uh.fromBase64String(t))}catch(t){throw new kf(_f.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(uh.fromUint8Array(t))}}]),e}(),Gg=function(){function e(){He(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new kf(_f.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ff(n)}return Ke(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var qg=Ke((function e(t){He(this,e),this._methodName=t})),Hg=function(){function e(t,n){if(He(this,e),!isFinite(t)||t<-90||t>90)throw new kf(_f.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new kf(_f.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return Ke(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return Af(this._lat,e._lat)||Af(this._long,e._long)}}]),e}(),Yg=/^__.*__$/,Kg=function(){function e(t,n,r){He(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return Ke(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new rp(e,this.data,this.fieldMask,t,this.fieldTransforms):new np(e,this.data,t,this.fieldTransforms)}}]),e}(),Wg=function(){function e(t,n,r){He(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return Ke(e,[{key:"toMutation",value:function(e,t){return new rp(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function Qg(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw mf()}}var Xg=function(){function e(t,n,r,i,a,o){He(this,e),this.settings=t,this.databaseId=n,this.Tt=r,this.ignoreUndefinedProperties=i,void 0===a&&this.ia(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return Ke(e,[{key:"path",get:function(){return this.settings.path}},{key:"ra",get:function(){return this.settings.ra}},{key:"oa",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.Tt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"ua",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.oa({path:n,ca:!1});return r.aa(e),r}},{key:"ha",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.oa({path:n,ca:!1});return r.ia(),r}},{key:"la",value:function(e){return this.oa({path:void 0,ca:!0})}},{key:"fa",value:function(e){return f_(e,this.settings.methodName,this.settings.da||!1,this.path,this.settings._a)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"ia",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.aa(this.path.get(e))}},{key:"aa",value:function(e){if(0===e.length)throw this.fa("Document fields must not be empty");if(Qg(this.ra)&&Yg.test(e))throw this.fa('Document fields cannot begin and end with "__"')}}]),e}(),$g=function(){function e(t,n,r){He(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.Tt=r||pm(t)}return Ke(e,[{key:"wa",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Xg({ra:e,methodName:t,_a:n,path:Ff.emptyPath(),ca:!1,da:r},this.databaseId,this.Tt,this.ignoreUndefinedProperties)}}]),e}();function Jg(e){var t=e._freezeSettings(),n=pm(e._databaseId);return new $g(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Zg(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.wa(a.merge||a.mergeFields?2:0,t,n,i);s_("Data must be an object, but it was:",o,r);var s,u,c=a_(r,o);if(a.merge)s=new ad(o.fieldMask),u=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=qe(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=l.value,p=u_(t,d,n);if(!o.contains(p))throw new kf(_f.INVALID_ARGUMENT,"Field '".concat(p,"' is specified in your field mask but missing from your input data."));h_(f,p)||f.push(p)}}catch(v){h.e(v)}finally{h.f()}s=new ad(f),u=o.fieldTransforms.filter((function(e){return s.covers(e.field)}))}else s=null,u=o.fieldTransforms;return new Kg(new od(c),s,u)}var e_=function(e){Xe(n,e);var t=et(n);function n(){return He(this,n),t.apply(this,arguments)}return Ke(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.ra)throw 1===e.ra?e.fa("".concat(this._methodName,"() can only appear at the top level of your update data")):e.fa("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(qg);function t_(e,t,n,r){var i=e.wa(1,t,n);s_("Data must be an object, but it was:",i,r);var a=[],o=od.empty();nh(r,(function(e,r){var s=l_(t,e,n);r=Rt(r);var u=i.ha(s);if(r instanceof e_)a.push(s);else{var c=i_(r,u);null!=c&&(a.push(s),o.set(s,c))}}));var s=new ad(a);return new Wg(o,s,i.fieldTransforms)}function n_(e,t,n,r,i,a){var o=e.wa(1,t,n),s=[u_(t,r,n)],u=[i];if(a.length%2!=0)throw new kf(_f.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)s.push(u_(t,a[c])),u.push(a[c+1]);for(var l=[],f=od.empty(),h=s.length-1;h>=0;--h)if(!h_(l,s[h])){var d=s[h],p=u[h];p=Rt(p);var v=o.ha(d);if(p instanceof e_)l.push(d);else{var m=i_(p,v);null!=m&&(l.push(d),f.set(d,m))}}var y=new ad(l);return new Wg(f,y,o.fieldTransforms)}function r_(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return i_(n,e.wa(r?4:3,t))}function i_(e,t){if(o_(e=Rt(e)))return s_("Unsupported field value:",t,e),a_(e,t);if(e instanceof qg)return function(e,t){if(!Qg(t.ra))throw t.fa("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.fa("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.ca&&4!==t.ra)throw t.fa("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=qe(e);try{for(a.s();!(n=a.n()).done;){var o=i_(n.value,t.la(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(s){a.e(s)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=Rt(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Pd(t.Tt,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=Pf.fromDate(e);return{timestampValue:Vp(t.Tt,n)}}if(e instanceof Pf){var r=new Pf(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Vp(t.Tt,r)}}if(e instanceof Hg)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof zg)return{bytesValue:zp(t.Tt,e._byteString)};if(e instanceof Og){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.fa("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:Hp(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.fa("Unsupported field value: ".concat(Cg(e)))}(e,t)}function a_(e,t){var n={};return rh(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):nh(e,(function(e,r){var i=i_(r,t.ua(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function o_(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Pf||e instanceof Hg||e instanceof zg||e instanceof Og||e instanceof qg)}function s_(e,t,n){if(!o_(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=Cg(n);throw"an object"===r?t.fa(e+" a custom object"):t.fa(e+" "+r)}}function u_(e,t,n){if((t=Rt(t))instanceof Gg)return t._internalPath;if("string"==typeof t)return l_(e,t);throw f_("Field path arguments must be of type string or ",e,!1,void 0,n)}var c_=new RegExp("[~\\*/\\[\\]]");function l_(e,t,n){if(t.search(c_)>=0)throw f_("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return tt(Gg,W(t.split(".")))._internalPath}catch(r){throw f_("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function f_(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,s="Function ".concat(t,"() called with invalid data");n&&(s+=" (via `toFirestore()`)"),s+=". ";var u="";return(a||o)&&(u+=" (found",a&&(u+=" in field ".concat(r)),o&&(u+=" in document ".concat(i)),u+=")"),new kf(_f.INVALID_ARGUMENT,s+e+u)}function h_(e,t){return e.some((function(e){return e.isEqual(t)}))}var d_=function(){function e(t,n,r,i,a){He(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return Ke(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new Og(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new p_(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(v_("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),p_=function(e){Xe(n,e);var t=et(n);function n(){return He(this,n),t.apply(this,arguments)}return Ke(n,[{key:"data",value:function(){return Vn($e(n.prototype),"data",this).call(this)}}]),n}(d_);function v_(e,t){return"string"==typeof t?l_(e,t):t instanceof Gg?t._internalPath:t._delegate._internalPath}function m_(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new kf(_f.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var y_=Ke((function e(){He(this,e)})),g_=function(e){Xe(n,e);var t=et(n);function n(){return He(this,n),t.apply(this,arguments)}return Ke(n)}(y_);function __(e,t){for(var n=[],r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];t instanceof y_&&n.push(t),function(e){var t=e.filter((function(e){return e instanceof w_})).length,n=e.filter((function(e){return e instanceof k_})).length;if(t>1||t>0&&n>0)throw new kf(_f.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n=n.concat(i));var o,s=qe(n);try{for(s.s();!(o=s.n()).done;){var u=o.value;e=u._apply(e)}}catch(c){s.e(c)}finally{s.f()}return e}var k_=function(e){Xe(n,e);var t=et(n);function n(e,r,i){var a;return He(this,n),(a=t.call(this))._field=e,a._op=r,a._value=i,a.type="where",a}return Ke(n,[{key:"_apply",value:function(e){var t=this._parse(e);return S_(e._query,t),new Pg(e.firestore,e.converter,Ed(e._query,t))}},{key:"_parse",value:function(e){var t=Jg(e.firestore),n=function(e,t,n,r,i,a,o){var s;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new kf(_f.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){T_(o,a);var u,c=[],l=qe(o);try{for(l.s();!(u=l.n()).done;){var f=u.value;c.push(E_(r,e,f))}}catch(h){l.e(h)}finally{l.f()}s={arrayValue:{values:c}}}else s=E_(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||T_(o,a),s=r_(n,"where",o,"in"===a||"not-in"===a);return Mh.create(i,a,s)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value);return n}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(g_);function b_(e,t,n){var r=t,i=v_("where",e);return k_._create(i,r,n)}var w_=function(e){Xe(n,e);var t=et(n);function n(e,r){var i;return He(this,n),(i=t.call(this)).type=e,i._queryConstraints=r,i}return Ke(n,[{key:"_parse",value:function(e){var t=this._queryConstraints.map((function(t){return t._parse(e)})).filter((function(e){return e.getFilters().length>0}));return 1===t.length?t[0]:Uh.create(t,this._getOperator())}},{key:"_apply",value:function(e){var t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){var n,r=e,i=qe(t.getFlattenedFilters());try{for(i.s();!(n=i.n()).done;){var a=n.value;S_(r,a),r=Ed(r,a)}}catch(o){i.e(o)}finally{i.f()}}(e._query,t),new Pg(e.firestore,e.converter,Ed(e._query,t)))}},{key:"_getQueryConstraints",value:function(){return this._queryConstraints}},{key:"_getOperator",value:function(){return"and"===this.type?"and":"or"}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(y_);function E_(e,t,n){if("string"==typeof(n=Rt(n))){if(""===n)throw new kf(_f.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!kd(t)&&-1!==n.indexOf("/"))throw new kf(_f.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(Uf.fromString(n));if(!Bf.isDocumentKey(r))throw new kf(_f.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Th(e,new Bf(r))}if(n instanceof Og)return Th(e,n._key);throw new kf(_f.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(Cg(n),"."))}function T_(e,t){if(!Array.isArray(e)||0===e.length)throw new kf(_f.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function S_(e,t){if(t.isInequality()){var n=_d(e),r=t.field;if(null!==n&&!n.isEqual(r))throw new kf(_f.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(r.toString(),"'"));var i=gd(e);null!==i&&x_(e,r,i)}var a=function(e,t){var n,r=qe(e);try{for(r.s();!(n=r.n()).done;){var i,a=qe(n.value.getFlattenedFilters());try{for(a.s();!(i=a.n()).done;){var o=i.value;if(t.indexOf(o.op)>=0)return o.op}}catch(s){a.e(s)}finally{a.f()}}}catch(s){r.e(s)}finally{r.f()}return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==a)throw a===t.op?new kf(_f.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new kf(_f.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(a.toString(),"' filters."))}function x_(e,t,n){if(!n.isEqual(t))throw new kf(_f.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var I_=function(){function e(){He(this,e)}return Ke(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(yh(e)){case 0:return null;case 1:return e.booleanValue;case 2:return fh(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(hh(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw mf()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return nh(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new Hg(fh(e.latitude),fh(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=ph(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(vh(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=lh(e);return new Pf(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=Uf.fromString(e);yf(hv(n));var r=new eh(n.get(1),n.get(3)),i=new Bf(n.popFirst(5));return r.isEqual(t)||df("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function C_(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var N_=function(){function e(t,n){He(this,e),this.hasPendingWrites=t,this.fromCache=n}return Ke(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),R_=function(e){Xe(n,e);var t=et(n);function n(e,r,i,a,o,s){var u;return He(this,n),(u=t.call(this,e,r,i,a,s))._firestore=e,u._firestoreImpl=e,u.metadata=o,u}return Ke(n,[{key:"exists",value:function(){return Vn($e(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new D_(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(v_("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(d_),D_=function(e){Xe(n,e);var t=et(n);function n(){return He(this,n),t.apply(this,arguments)}return Ke(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Vn($e(n.prototype),"data",this).call(this,e)}}]),n}(R_),A_=function(){function e(t,n,r,i){He(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new N_(i.hasPendingWrites,i.fromCache),this.query=r}return Ke(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new D_(n._firestore,n._userDataWriter,r.key,r,new N_(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new kf(_f.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){var r=new D_(e._firestore,e._userDataWriter,t.doc.key,t.doc,new N_(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);return t.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new D_(e._firestore,e._userDataWriter,t.doc.key,t.doc,new N_(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:O_(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function O_(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return mf()}}function P_(e){e=Ng(e,Og);var t=Ng(e.firestore,Fg);return wg(Bg(t),e._key).then((function(n){return V_(t,e,n)}))}var L_=function(e){Xe(n,e);var t=et(n);function n(e){var r;return He(this,n),(r=t.call(this)).firestore=e,r}return Ke(n,[{key:"convertBytes",value:function(e){return new zg(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new Og(this.firestore,null,t)}}]),n}(I_);function M_(e){e=Ng(e,Pg);var t=Ng(e.firestore,Fg),n=Bg(t),r=new L_(t);return m_(e._query),Eg(n,e._query).then((function(n){return new A_(t,r,e,n)}))}function U_(e,t,n){e=Ng(e,Og);var r=Ng(e.firestore,Fg),i=C_(e.converter,t,n);return B_(r,[Zg(Jg(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Wd.none())])}function j_(e,t,n){e=Ng(e,Og);for(var r=Ng(e.firestore,Fg),i=Jg(r),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return B_(r,[("string"==typeof(t=Rt(t))||t instanceof Gg?n_(i,"updateDoc",e._key,t,n,o):t_(i,"updateDoc",e._key,t)).toMutation(e._key,Wd.exists(!0))])}function F_(e){return B_(Ng(e.firestore,Fg),[new cp(e._key,Wd.none())])}function B_(e,t){return function(e,t){var n=new bf;return e.asyncQueue.enqueueAndForget(Ge(Ve().mark((function r(){return Ve().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=My,r.next=3,_g(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(Bg(e),t)}function V_(e,t,n){var r=n.docs.get(t._key),i=new L_(e);return new R_(e,i,t._key,r,new N_(n.hasPendingWrites,n.fromCache),t.converter)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];cf="9.18.0",yn(new Dt("firestore",(function(e,n){var r=n.instanceIdentifier,i=n.options,a=e.getProvider("app").getImmediate(),o=new Fg(new Sf(e.getProvider("auth-internal")),new Nf(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new kf(_f.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new eh(e.options.projectId,t)}(a,r),a);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),Sn(sf,"3.9.0",e),Sn(sf,"3.9.0","esm2017")}();var z_,G_="firebasestorage.googleapis.com",q_=function(e){Xe(n,e);var t=et(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return He(this,n),(i=t.call(this,H_(e),"Firebase Storage: ".concat(r," (").concat(H_(e),")"))).status_=a,i.customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(We(i),n.prototype),i}return Ke(n,[{key:"status",get:function(){return this.status_},set:function(e){this.status_=e}},{key:"_codeEquals",value:function(e){return H_(e)===this.code}},{key:"serverResponse",get:function(){return this.customData.serverResponse},set:function(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}]),n}(_t);function H_(e){return"storage/"+e}function Y_(){return new q_(z_.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function K_(){return new q_(z_.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function W_(){return new q_(z_.CANCELED,"User canceled the upload/download.")}function Q_(){return new q_(z_.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function X_(e){return new q_(z_.INVALID_ARGUMENT,e)}function $_(){return new q_(z_.APP_DELETED,"The Firebase app was deleted.")}function J_(e,t){return new q_(z_.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function Z_(e){throw new q_(z_.INTERNAL_ERROR,"Internal error: "+e)}!function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(z_||(z_={}));var ek,tk=function(){function e(t,n){He(this,e),this.bucket=t,this.path_=n}return Ke(e,[{key:"path",get:function(){return this.path_}},{key:"isRoot",get:function(){return 0===this.path.length}},{key:"fullServerUrl",value:function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}},{key:"bucketOnlyServerUrl",value:function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}}],[{key:"makeFromBucketSpec",value:function(t,n){var r,i;try{r=e.makeFromUrl(t,n)}catch(a){return new e(t,"")}if(""===r.path)return r;throw i=t,new q_(z_.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+i+"'.")}},{key:"makeFromUrl",value:function(t,n){var r=null,i="([A-Za-z0-9.\\-_]+)";var a=new RegExp("^gs://"+i+"(/(.*))?$","i");function o(e){e.path_=decodeURIComponent(e.path)}for(var s=n.replace(/[.]/g,"\\."),u=[{regex:a,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(s,"/").concat("v[A-Za-z0-9_]+","/b/").concat(i,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://".concat(n===G_?"(?:storage.googleapis.com|storage.cloud.google.com)":n,"/").concat(i,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:o}],c=0;c<u.length;c++){var l=u[c],f=l.regex.exec(t);if(f){var h=f[l.indices.bucket],d=f[l.indices.path];d||(d=""),r=new e(h,d),l.postModify(r);break}}if(null==r)throw function(e){return new q_(z_.INVALID_URL,"Invalid URL '"+e+"'.")}(t);return r}}]),e}(),nk=function(){function e(t){He(this,e),this.promise_=Promise.reject(t)}return Ke(e,[{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(){}}]),e}();function rk(e){return"string"===typeof e||e instanceof String}function ik(e){return ak()&&e instanceof Blob}function ak(){return"undefined"!==typeof Blob&&!yt()}function ok(e,t,n,r){if(r<t)throw X_("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw X_("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function sk(e,t,n){var r=t;return null==n&&(r="https://".concat(t)),"".concat(n,"://").concat(r,"/v0").concat(e)}function uk(e){var t=encodeURIComponent,n="?";for(var r in e){if(e.hasOwnProperty(r))n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1)}function ck(e,t){var n=e>=500&&e<600,r=-1!==[408,429].indexOf(e),i=-1!==t.indexOf(e);return n||r||i}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(ek||(ek={}));var lk=function(){function e(t,n,r,i,a,o,s,u,c,l,f){var h=this,d=!(arguments.length>11&&void 0!==arguments[11])||arguments[11];He(this,e),this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=o,this.callback_=s,this.errorCallback_=u,this.timeout_=c,this.progressCallback_=l,this.connectionFactory_=f,this.retry=d,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((function(e,t){h.resolve_=e,h.reject_=t,h.start_()}))}return Ke(e,[{key:"start_",value:function(){var e=this,t=function(t,n){var r=e.resolve_,i=e.reject_,a=n.connection;if(n.wasSuccessCode)try{var o=e.callback_(a,a.getResponse());!function(e){return void 0!==e}(o)?r():r(o)}catch(u){i(u)}else if(null!==a){var s=Y_();s.serverResponse=a.getErrorText(),e.errorCallback_?i(e.errorCallback_(a,s)):i(s)}else{if(n.canceled)i(e.appDelete_?$_():W_());else i(K_())}};this.canceled_?t(0,new fk(!1,null,!0)):this.backoffId_=function(e,t,n){var r=1,i=null,a=null,o=!1,s=0;function u(){return 2===s}var c=!1;function l(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function f(t){i=setTimeout((function(){i=null,e(d,u())}),t)}function h(){a&&clearTimeout(a)}function d(e){if(c)h();else{for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return h(),void l.call.apply(l,[null,e].concat(n));var a;if(u()||o)return h(),void l.call.apply(l,[null,e].concat(n));r<64&&(r*=2),1===s?(s=2,a=0):a=1e3*(r+Math.random()),f(a)}}var p=!1;function v(e){p||(p=!0,h(),c||(null!==i?(e||(s=2),clearTimeout(i),f(0)):e||(s=1)))}return f(0),a=setTimeout((function(){o=!0,v(!0)}),n),v}((function(t,n){if(n)t(!1,new fk(!1,null,!0));else{var r=e.connectionFactory_();e.pendingConnection_=r;var i=function(t){var n=t.loaded,r=t.lengthComputable?t.total:-1;null!==e.progressCallback_&&e.progressCallback_(n,r)};null!==e.progressCallback_&&r.addUploadProgressListener(i),r.send(e.url_,e.method_,e.body_,e.headers_).then((function(){null!==e.progressCallback_&&r.removeUploadProgressListener(i),e.pendingConnection_=null;var n=r.getErrorCode()===ek.NO_ERROR,a=r.getStatus();if(!n||ck(a,e.additionalRetryCodes_)&&e.retry){var o=r.getErrorCode()===ek.ABORT;t(!1,new fk(!1,null,o))}else{var s=-1!==e.successCodes_.indexOf(a);t(!0,new fk(s,r))}}))}}),t,this.timeout_)}},{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}]),e}(),fk=Ke((function e(t,n,r){He(this,e),this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}));function hk(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}function dk(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}function pk(e,t){t&&(e["X-Firebase-GMPID"]=t)}function vk(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}function mk(e,t,n,r,i,a){var o=!(arguments.length>6&&void 0!==arguments[6])||arguments[6],s=uk(e.urlParams),u=e.url+s,c=Object.assign({},e.headers);return pk(c,t),hk(c,n),dk(c,a),vk(c,r),new lk(u,e.method,c,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,o)}function yk(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function gk(){for(var e=yk(),t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(void 0!==e){for(var i=new e,a=0;a<n.length;a++)i.append(n[a]);return i.getBlob()}if(ak())return new Blob(n);throw new q_(z_.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}function _k(e){if("undefined"===typeof atob)throw t="base-64",new q_(z_.UNSUPPORTED_ENVIRONMENT,"".concat(t," is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information."));var t;return atob(e)}var kk="raw",bk="base64",wk="base64url",Ek="data_url",Tk=Ke((function e(t,n){He(this,e),this.data=t,this.contentType=n||null}));function Sk(e,t){switch(e){case kk:return new Tk(xk(t));case bk:case wk:return new Tk(Ik(e,t));case Ek:return new Tk(function(e){var t=new Ck(e);return t.base64?Ik(bk,t.rest):function(e){var t;try{t=decodeURIComponent(e)}catch(n){throw J_(Ek,"Malformed data URL.")}return xk(t)}(t.rest)}(t),new Ck(t).contentType)}throw Y_()}function xk(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r))if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1)))r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r);else t.push(239,191,189);else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function Ik(e,t){switch(e){case bk:var n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r)throw J_(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case wk:var i=-1!==t.indexOf("+"),a=-1!==t.indexOf("/");if(i||a)throw J_(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/")}var o;try{o=_k(t)}catch(c){if(c.message.includes("polyfill"))throw c;throw J_(e,"Invalid character found")}for(var s=new Uint8Array(o.length),u=0;u<o.length;u++)s[u]=o.charCodeAt(u);return s}var Ck=Ke((function e(t){He(this,e),this.base64=!1,this.contentType=null;var n=t.match(/^data:([^,]+)?,/);if(null===n)throw J_(Ek,"Must be formatted 'data:[<mediatype>][;base64],<data>");var r=n[1]||null;null!=r&&(this.base64=function(e,t){if(!(e.length>=t.length))return!1;return e.substring(e.length-t.length)===t}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-";base64".length):r),this.rest=t.substring(t.indexOf(",")+1)}));var Nk=function(){function e(t,n){He(this,e);var r=0,i="";ik(t)?(this.data_=t,r=t.size,i=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=i}return Ke(e,[{key:"size",value:function(){return this.size_}},{key:"type",value:function(){return this.type_}},{key:"slice",value:function(t,n){if(ik(this.data_)){var r=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,t,n);return null===r?null:new e(r)}var i=new Uint8Array(this.data_.buffer,t,n-t);return new e(i,!0)}},{key:"uploadData",value:function(){return this.data_}}],[{key:"getBlob",value:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(ak()){var i=n.map((function(t){return t instanceof e?t.data_:t}));return new e(gk.apply(null,i))}var a=n.map((function(e){return rk(e)?Sk(kk,e).data:e.data_})),o=0;a.forEach((function(e){o+=e.byteLength}));var s=new Uint8Array(o),u=0;return a.forEach((function(e){for(var t=0;t<e.length;t++)s[u++]=e[t]})),new e(s,!0)}}]),e}();function Rk(e){var t;try{t=JSON.parse(e)}catch(n){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function Dk(e){var t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function Ak(e,t){return t}var Ok=Ke((function e(t,n,r,i){He(this,e),this.server=t,this.local=n||t,this.writable=!!r,this.xform=i||Ak})),Pk=null;function Lk(){if(Pk)return Pk;var e=[];e.push(new Ok("bucket")),e.push(new Ok("generation")),e.push(new Ok("metageneration")),e.push(new Ok("name","fullPath",!0));var t=new Ok("name");t.xform=function(e,t){return function(e){return!rk(e)||e.length<2?e:Dk(e)}(t)},e.push(t);var n=new Ok("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new Ok("timeCreated")),e.push(new Ok("updated")),e.push(new Ok("md5Hash",null,!0)),e.push(new Ok("cacheControl",null,!0)),e.push(new Ok("contentDisposition",null,!0)),e.push(new Ok("contentEncoding",null,!0)),e.push(new Ok("contentLanguage",null,!0)),e.push(new Ok("contentType",null,!0)),e.push(new Ok("metadata","customMetadata",!0)),Pk=e}function Mk(e,t,n){for(var r={type:"file"},i=n.length,a=0;a<i;a++){var o=n[a];r[o.local]=o.xform(r,t[o.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){var n=e.bucket,r=e.fullPath,i=new tk(n,r);return t._makeStorageReference(i)}})}(r,e),r}function Uk(e,t,n){var r=Rk(t);return null===r?null:Mk(e,r,n)}function jk(e,t){for(var n={},r=t.length,i=0;i<r;i++){var a=t[i];a.writable&&(n[a.server]=e[a.local])}return JSON.stringify(n)}var Fk=Ke((function e(t,n,r,i){He(this,e),this.url=t,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}));function Bk(e){if(!e)throw Y_()}function Vk(e,t){return function(n,r){var i=Uk(e,r,t);return Bk(null!==i),i}}function zk(e,t){return function(n,r){var i=Uk(e,r,t);return Bk(null!==i),function(e,t,n,r){var i=Rk(t);if(null===i)return null;if(!rk(i.downloadTokens))return null;var a=i.downloadTokens;if(0===a.length)return null;var o=encodeURIComponent;return a.split(",").map((function(t){var i=e.bucket,a=e.fullPath;return sk("/b/"+o(i)+"/o/"+o(a),n,r)+uk({alt:"media",token:t})}))[0]}(i,r,e.host,e._protocol)}}function Gk(e){return function(t,n){var r,i,a;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new q_(z_.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project."):new q_(z_.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(a=e.bucket,r=new q_(z_.QUOTA_EXCEEDED,"Quota for bucket '"+a+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new q_(z_.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")):r=n,r.status=t.getStatus(),r.serverResponse=n.serverResponse,r}}function qk(e){var t=Gk(e);return function(n,r){var i,a=t(n,r);return 404===n.getStatus()&&(i=e.path,a=new q_(z_.OBJECT_NOT_FOUND,"Object '"+i+"' does not exist.")),a.serverResponse=r.serverResponse,a}}function Hk(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function Yk(e,t,n,r,i){var a=t.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};var s=function(){for(var e="",t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();o["Content-Type"]="multipart/related; boundary="+s;var u=Hk(t,r,i),c="--"+s+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+jk(u,n)+"\r\n--"+s+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",l="\r\n--"+s+"--",f=Nk.getBlob(c,r,l);if(null===f)throw Q_();var h={name:u.fullPath},d=sk(a,e.host,e._protocol),p=e.maxUploadRetryTime,v=new Fk(d,"POST",Vk(e,n),p);return v.urlParams=h,v.headers=o,v.body=f.uploadData(),v.errorHandler=Gk(t),v}var Kk=function(){function e(){var t=this;He(this,e),this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ek.NO_ERROR,this.sendPromise_=new Promise((function(e){t.xhr_.addEventListener("abort",(function(){t.errorCode_=ek.ABORT,e()})),t.xhr_.addEventListener("error",(function(){t.errorCode_=ek.NETWORK_ERROR,e()})),t.xhr_.addEventListener("load",(function(){e()}))}))}return Ke(e,[{key:"send",value:function(e,t,n,r){if(this.sent_)throw Z_("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}},{key:"getErrorCode",value:function(){if(!this.sent_)throw Z_("cannot .getErrorCode() before sending");return this.errorCode_}},{key:"getStatus",value:function(){if(!this.sent_)throw Z_("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}},{key:"getResponse",value:function(){if(!this.sent_)throw Z_("cannot .getResponse() before sending");return this.xhr_.response}},{key:"getErrorText",value:function(){if(!this.sent_)throw Z_("cannot .getErrorText() before sending");return this.xhr_.statusText}},{key:"abort",value:function(){this.xhr_.abort()}},{key:"getResponseHeader",value:function(e){return this.xhr_.getResponseHeader(e)}},{key:"addUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}},{key:"removeUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}]),e}(),Wk=function(e){Xe(n,e);var t=et(n);function n(){return He(this,n),t.apply(this,arguments)}return Ke(n,[{key:"initXhr",value:function(){this.xhr_.responseType="text"}}]),n}(Kk);function Qk(){return new Wk}var Xk=function(){function e(t,n){He(this,e),this._service=t,this._location=n instanceof tk?n:tk.makeFromUrl(n,t.host)}return Ke(e,[{key:"toString",value:function(){return"gs://"+this._location.bucket+"/"+this._location.path}},{key:"_newRef",value:function(t,n){return new e(t,n)}},{key:"root",get:function(){var e=new tk(this._location.bucket,"");return this._newRef(this._service,e)}},{key:"bucket",get:function(){return this._location.bucket}},{key:"fullPath",get:function(){return this._location.path}},{key:"name",get:function(){return Dk(this._location.path)}},{key:"storage",get:function(){return this._service}},{key:"parent",get:function(){var t=function(e){if(0===e.length)return null;var t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===t)return null;var n=new tk(this._location.bucket,t);return new e(this._service,n)}},{key:"_throwIfRoot",value:function(e){if(""===this._location.path)throw function(e){return new q_(z_.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}]),e}();function $k(e,t,n){e._throwIfRoot("uploadBytes");var r=Yk(e.storage,e._location,Lk(),new Nk(t,!0),n);return e.storage.makeRequestWithTokens(r,Qk).then((function(t){return{metadata:t,ref:e}}))}function Jk(e){e._throwIfRoot("getDownloadURL");var t=function(e,t,n){var r=sk(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,a=new Fk(r,"GET",zk(e,n),i);return a.errorHandler=qk(t),a}(e.storage,e._location,Lk());return e.storage.makeRequestWithTokens(t,Qk).then((function(e){if(null===e)throw new q_(z_.NO_DOWNLOAD_URL,"The given file does not have any download URLs.");return e}))}function Zk(e,t){var n=function(e,t){var n=t.split("/").filter((function(e){return e.length>0})).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new tk(e._location.bucket,n);return new Xk(e.storage,r)}function eb(e,t){if(e instanceof ib){var n=e;if(null==n._bucket)throw new q_(z_.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the 'storageBucket' property when initializing the app?");var r=new Xk(n,n._bucket);return null!=t?eb(r,t):r}return void 0!==t?Zk(e,t):e}function tb(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof ib)return new Xk(e,t);throw X_("To use ref(service, url), the first argument must be a Storage instance.")}return eb(e,t)}function nb(e,t){var n=null===t||void 0===t?void 0:t.storageBucket;return null==n?null:tk.makeFromBucketSpec(n,e)}function rb(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host="".concat(t,":").concat(n),e._protocol="http";var i=r.mockUserToken;i&&(e._overrideAuthToken="string"===typeof i?i:vt(i,e.app.options.projectId))}var ib=function(){function e(t,n,r,i,a){He(this,e),this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._bucket=null,this._host=G_,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?tk.makeFromBucketSpec(i,this._host):nb(this._host,this.app.options)}return Ke(e,[{key:"host",get:function(){return this._host},set:function(e){this._host=e,null!=this._url?this._bucket=tk.makeFromBucketSpec(this._url,e):this._bucket=nb(e,this.app.options)}},{key:"maxUploadRetryTime",get:function(){return this._maxUploadRetryTime},set:function(e){ok("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}},{key:"maxOperationRetryTime",get:function(){return this._maxOperationRetryTime},set:function(e){ok("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}},{key:"_getAuthToken",value:function(){var e=Ge(Ve().mark((function e(){var t,n;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._overrideAuthToken){e.next=2;break}return e.abrupt("return",this._overrideAuthToken);case 2:if(!(t=this._authProvider.getImmediate({optional:!0}))){e.next=9;break}return e.next=6,t.getToken();case 6:if(null===(n=e.sent)){e.next=9;break}return e.abrupt("return",n.accessToken);case 9:return e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getAppCheckToken",value:function(){var e=Ge(Ve().mark((function e(){var t,n;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this._appCheckProvider.getImmediate({optional:!0}))){e.next=6;break}return e.next=4,t.getToken();case 4:return n=e.sent,e.abrupt("return",n.token);case 6:return e.abrupt("return",null);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_delete",value:function(){return this._deleted||(this._deleted=!0,this._requests.forEach((function(e){return e.cancel()})),this._requests.clear()),Promise.resolve()}},{key:"_makeStorageReference",value:function(e){return new Xk(this,e)}},{key:"_makeRequest",value:function(e,t,n,r){var i=this,a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this._deleted)return new nk($_());var o=mk(e,this._appId,n,r,t,this._firebaseVersion,a);return this._requests.add(o),o.getPromise().then((function(){return i._requests.delete(o)}),(function(){return i._requests.delete(o)})),o}},{key:"makeRequestWithTokens",value:function(){var e=Ge(Ve().mark((function e(t,n){var r,i,a,o;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([this._getAuthToken(),this._getAppCheckToken()]);case 2:return r=e.sent,i=c(r,2),a=i[0],o=i[1],e.abrupt("return",this._makeRequest(t,n,a,o).getPromise());case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),ab="@firebase/storage",ob="0.11.2",sb="storage";function ub(e,t,n){return $k(e=Rt(e),t,n)}function cb(e){return Jk(e=Rt(e))}function lb(e,t){return tb(e=Rt(e),t)}function fb(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};rb(e,t,n,r)}function hb(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return new ib(r,i,a,n,wn)}yn(new Dt(sb,hb,"PUBLIC").setMultipleInstances(!0)),Sn(ab,ob,""),Sn(ab,ob,"esm2017");var db=En({apiKey:"AIzaSyD1t9usMmzBBo7TMeIFbOUgCPy8Ilg_M8w",authDomain:"petitions-2f2b0.firebaseapp.com",projectId:"petitions-2f2b0",storageBucket:"petitions-2f2b0.appspot.com",messagingSenderId:"460242636813",appId:"1:460242636813:web:2abc63e98ccc7f52334544",measurementId:"G-1EC893TLMM"}),pb=new Gi,vb=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tn(),t=gn(e,"auth");if(t.isInitialized())return t.getImmediate();var n=ar(e,{popupRedirectResolver:Yo,persistence:[Va,ma,ga]}),r=dt("authTokenSyncURL");if(r){var i=ts(r);la(n,i,(function(){return i(n.currentUser)})),ca(n,(function(e){return i(e)}))}var a=lt("auth");return a&&vi(n,"http://".concat(a)),n}(db),mb=function(e,t){var n="string"==typeof e?e:t||"(default)",r=gn("object"==typeof e?e:Tn(),"firestore").getImmediate({identifier:n});if(!r._initialized){var i=ft("firestore");i&&Ag.apply(void 0,[r].concat(W(i)))}return r}(db),yb=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tn(),t=arguments.length>1?arguments[1]:void 0,n=gn(e=Rt(e),sb),r=n.getImmediate({identifier:t}),i=ft("storage");return i&&fb.apply(void 0,[r].concat(W(i))),r}(db),gb=function(e){for(var t="",n="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",r=0;r<Number(e);r++)t+=n.charAt(Math.floor(Math.random()*n.length));for(var i="";t.length>0;){var a=Math.floor(Math.random()*t.length);i+=t.charAt(a),t=t.substring(0,a)+t.substring(a+1)}return i},_b=["petitionImage"],kb=Mg(mb,"petitions"),bb=function(){var e=Ge(Ve().mark((function e(){var t,n;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,M_(kb);case 3:return t=e.sent,n=t.docs.map((function(e){return o(o({},e.data()),{},{_id:e.id})})),e.abrupt("return",n);case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),wb=function(){var e=Ge(Ve().mark((function e(t){var n,r,i;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=Ug(kb,t),e.next=4,P_(n);case 4:return r=e.sent,i=o(o({},r.data()),{},{_id:r.id}),e.abrupt("return",i);case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),Eb=function(){var e=Ge(Ve().mark((function e(t){var n,r,i,a;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=6;break}return n=lb(yb,"default-petition-photo.jpg"),e.next=4,cb(n);case 4:return r=e.sent,e.abrupt("return",r);case 6:if(t.type.startsWith("image/")){e.next=8;break}throw new Error("Selected file is not an image");case 8:return i=lb(yb,"user-petition-images/".concat(gb(4)+t.name)),e.next=11,ub(i,t);case 11:return a=e.sent,e.next=14,cb(a.ref);case 14:return e.abrupt("return",e.sent);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Tb=function(){var e=Ge(Ve().mark((function e(t){var n,r,i,a;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=new Date(Date.now()),e.next=4,Eb(t.petitionImage);case 4:return r=e.sent,t.petitionImage,i=K(t,_b),e.next=8,U_(Ug(mb,"petitions",t._id),o(o({},i),{},{image:r,createdAt:n.toString(),nativeTimestamp:Date.now(),splittedTitle:t.title.toLowerCase().split(" ")}));case 8:return a=o(o({},i),{},{image:r,createdAt:n.toString()}),e.abrupt("return",a);case 12:e.prev=12,e.t0=e.catch(0),console.error(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}(),Sb=function(){var e=Ge(Ve().mark((function e(t){var n;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=Ug(kb,t),e.next=4,F_(n);case 4:return e.abrupt("return",e.sent);case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),xb=function(){var e=Ge(Ve().mark((function e(t,n){var r;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=Ug(kb,t),e.next=4,j_(r,n);case 4:return e.abrupt("return",e.sent);case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}(),Ib=function(){var e=Ge(Ve().mark((function e(t){var n,r;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=__(Mg(mb,"petitions"),b_("splittedTitle","array-contains",t.toLowerCase())),e.next=3,M_(n);case 3:return r=e.sent,e.abrupt("return",r.docs.map((function(e){return o({id:e.id},e.data())})));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Cb=function(e){var t=e.searchResults;return(0,Ne.jsx)("ul",{className:"search-results",children:t.map((function(e){return(0,Ne.jsx)(je,{to:"/details/".concat(e._id),children:(0,Ne.jsxs)("li",{className:"search-result",children:[(0,Ne.jsx)("div",{className:"result-image",children:(0,Ne.jsx)("img",{src:e.image,alt:e.title})}),(0,Ne.jsxs)("div",{className:"result-details",children:[(0,Ne.jsx)("h2",{children:e.title}),(0,Ne.jsx)("p",{children:e.description})]})]},e._id)})}))})},Nb=function(){var e=c((0,t.useState)(""),2),n=e[0],r=e[1],i=c((0,t.useState)([]),2),a=i[0],o=i[1],s=c((0,t.useState)(!1),2),u=s[0],l=s[1],f=(0,t.useRef)(null),h=function(e,n){var r=c((0,t.useState)(e),2),i=r[0],a=r[1];return(0,t.useEffect)((function(){var t=setTimeout((function(){a(e)}),n);return function(){clearTimeout(t)}}),[e,n]),i}(n,800);(0,t.useEffect)((function(){h?(l(!0),Ib(h).then((function(e){o(e),l(!1)}))):(o([]),l(!1))}),[h]);var d=function(){var e=Ge(Ve().mark((function e(t){return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),l(!0),Ib(n).then((function(e){o(e),l(!1)})),r("");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,t.useEffect)((function(){var e=function(e){f.current&&!f.current.contains(e.target)&&(o([]),r(""))};return document.addEventListener("click",e),function(){return document.removeEventListener("click",e)}}),[]),(0,Ne.jsxs)("section",{className:"petition-search",onClick:function(){o([])},children:[(0,Ne.jsxs)("form",{className:"search-form",onSubmit:d,children:[(0,Ne.jsx)("input",{type:"text",className:"search-petition",name:"",placeholder:"\u0422\u044a\u0440\u0441\u0438 \u043f\u0435\u0442\u0438\u0446\u0438\u044f",value:n,onChange:function(e){e.preventDefault(),r(e.target.value)}}),(0,Ne.jsx)("button",{type:"submit",className:"btn-search",children:"Search"})]}),(0,Ne.jsx)("div",{className:"search-results-container",ref:f,children:u?(0,Ne.jsx)("p",{children:"Loading..."}):(0,Ne.jsx)(Cb,{searchResults:a,onClick:function(){return o([])}})})]})},Rb=n.p+"static/media/logo.2475b137df7f4afad1d2.png",Db=function(){var e=(0,t.useContext)(De).isAuthenticated,n=c((0,t.useState)(!1),2),r=n[0],i=n[1];return(0,Ne.jsx)("div",{children:(0,Ne.jsxs)("header",{className:"header",children:[(0,Ne.jsxs)("nav",{children:[(0,Ne.jsx)("img",{src:Rb,className:"logo",alt:"logo"}),(0,Ne.jsxs)("ul",{children:[(0,Ne.jsx)("li",{children:(0,Ne.jsx)(Fe,{to:"/",children:"Home"})}),(0,Ne.jsx)("li",{children:(0,Ne.jsx)(Fe,{to:"/petitions",children:"\u0412\u0441\u0438\u0447\u043a\u0438 \u043f\u0435\u0442\u0438\u0446\u0438\u0438"})}),(0,Ne.jsx)("li",{className:"search",children:(0,Ne.jsx)("button",{id:"search",onClick:function(){i(!r)},children:"\u0422\u044a\u0440\u0441\u0435\u043d\u0435"})}),e&&(0,Ne.jsx)("li",{children:(0,Ne.jsx)(Fe,{to:"/create",children:"\u0421\u044a\u0437\u0434\u0430\u0439 \u043f\u0435\u0442\u0438\u0446\u0438\u044f"})}),(0,Ne.jsx)("li",{children:(0,Ne.jsx)(Fe,{to:"/about",children:"About"})}),!e&&(0,Ne.jsx)("li",{children:(0,Ne.jsx)(Fe,{to:"/register",children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"})}),e?(0,Ne.jsx)("li",{children:(0,Ne.jsx)(Fe,{to:"/logout",children:"Logout"})}):(0,Ne.jsx)("li",{children:(0,Ne.jsx)(Fe,{to:"/login",children:"\u0412\u0445\u043e\u0434"})})]})]}),r&&(0,Ne.jsx)(Nb,{})]})})},Ab=n.p+"static/media/logo.3ad632f272a7e792cc2d.gif",Ob=(0,t.createContext)(),Pb=function(e){var n=e.children,r=F(),i=c((0,t.useState)([]),2),a=i[0],s=i[1],u=c((0,t.useState)(!0),2),l=u[0],f=u[1];(0,t.useEffect)((function(){bb().then((function(e){s(e),f(!1)})).catch((function(e){console.error(e),f(!1)}))}),[]);return l?(0,Ne.jsx)("div",{children:(0,Ne.jsx)("img",{src:Ab,alt:"logo"})}):(0,Ne.jsx)(Ob.Provider,{value:{setPetitions:s,petitions:a,addPetitionHandler:function(e){s((function(t){return[].concat(W(t),[e])})),r("/petitions")},deletePetitionHandler:function(e){s((function(t){return t.filter((function(t){return t._id!==e}))}))},signPetitionHandler:function(e,t){s((function(n){var r=n.find((function(t){return t._id===e}));return r.signedBy.push(t),[o(o({},r),{},{signed:Number(r.signed)+1})].concat(W(n.filter((function(t){return t._id!==e}))))}))}},children:n})},Lb=function(e){var t=e.petition;return(0,Ne.jsx)(Ne.Fragment,{children:(0,Ne.jsxs)("article",{className:"petition",children:[(0,Ne.jsx)("img",{src:t.image,alt:"alt"}),(0,Ne.jsxs)("div",{children:[(0,Ne.jsx)("h3",{children:t.category}),(0,Ne.jsx)("p",{children:t.description})]}),(0,Ne.jsx)("div",{children:(0,Ne.jsx)("p",{children:t.authorInfo.firstName})})]})})},Mb=function(){var e=(0,t.useContext)(Ob).petitions;return(0,Ne.jsxs)(Ne.Fragment,{children:[(0,Ne.jsxs)("div",{className:"content",children:[(0,Ne.jsxs)("h1",{children:["\u0421\u044a\u0437\u0434\u0430\u0439, \u0441\u043f\u043e\u0434\u0435\u043b\u0438, ",(0,Ne.jsx)("br",{}),"\u043f\u043e\u0434\u043f\u0438\u0448\u0438 \u043f\u0435\u0442\u0438\u0446\u0438\u044f"]}),(0,Ne.jsx)("p",{children:"\u0418\u043c\u0430\u0448 \u0441\u0438\u043b\u0430\u0442\u0430 \u0434\u0430 \u043d\u0430\u043f\u0440\u0430\u0432\u0438\u0448 \u043f\u0440\u043e\u043c\u044f\u043d\u0430"}),(0,Ne.jsx)(je,{to:"/create",className:"create-petition",children:"\u0421\u044a\u0437\u0434\u0430\u0439 \u043f\u0435\u0442\u0438\u0446\u0438\u044f"})]}),(0,Ne.jsx)("div",{className:"petition-list",children:e.map((function(e){return(0,Ne.jsx)(Lb,{petition:e},e.title)}))})]})},Ub=function(e){var t=e.petition;return(0,Ne.jsxs)("article",{className:"petition",children:[(0,Ne.jsxs)("div",{className:"upper-container",children:[(0,Ne.jsx)("div",{className:"petition-img",children:(0,Ne.jsx)("img",{src:t.image,alt:t.image})}),(0,Ne.jsxs)("div",{className:"petition-info-top",children:[(0,Ne.jsxs)("p",{children:[t.signed?t.signed:0,"/",t.goal," \u043f\u043e\u0434\u043f\u0438\u0441\u0430"]}),(0,Ne.jsxs)("p",{children:[(0,Ne.jsx)("span",{children:"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f"}),t.category]}),t.showMyFirstName.checked?(0,Ne.jsxs)("p",{children:["\u0410\u0432\u0442\u043e\u0440 :",t.authorInfo.firstName," ",t.authorInfo.lastName]}):(0,Ne.jsxs)("p",{children:["\u0410\u0432\u0442\u043e\u0440 :",t.authorInfo.username]})]})]}),(0,Ne.jsxs)("div",{className:"lower-container",children:[(0,Ne.jsxs)("div",{className:"petition-info-bottom",children:[(0,Ne.jsx)("h1",{children:t.title}),(0,Ne.jsxs)("p",{children:[(0,Ne.jsx)("span",{children:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435: "}),t.description]})]}),(0,Ne.jsx)(je,{to:"/details/".concat(t._id),className:"btn-details",children:"\u0412\u0438\u0436 \u043f\u0435\u0442\u0438\u0446\u0438\u044f\u0442\u0430"})]})]})},jb=function(){var e=(0,t.useContext)(Ob).petitions.reduce((function(e,t){var n=t.category;return e[n]||(e[n]=[]),e[n].push(t),e}),{});return(0,Ne.jsx)("section",{className:"petition-catalog-list",children:Object.keys(e).map((function(t,n){return(0,Ne.jsxs)("div",{children:[(0,Ne.jsx)("h1",{children:t}),e[t].length>0&&(0,Ne.jsx)("div",{className:"petitions-list",children:e[t].map((function(e){return(0,Ne.jsx)(Ub,{petition:e},e._id)}))})]},"".concat(t,"-").concat(gb(5)))}))})},Fb=function(){var e=F(),n=c((0,t.useState)({}),2),r=n[0],a=n[1],s=B().petitionId;(0,t.useEffect)((function(){s&&wb(s).then((function(e){a(e),v(e)}))}),[s]);var u=(0,t.useContext)(Ob),l=u.setPetitions,f=u.addPetitionHandler,h=(0,t.useContext)(De).user,d=c((0,t.useState)({title:"",petitionText:"",category:"none",other:"",goal:"",authorInfo:o({},h),showMyFirstName:{checked:!0},showMyLastName:{checked:!0},showMyAge:{checked:!1},showMyGender:{checked:!1},signed:"",signedBy:[],_id:r._id||gb(20),petitionImage:"",hasFinished:!1}),2),p=d[0],v=d[1],m=c((0,t.useState)({}),2),y=(m[0],m[1]),g=function(e){v((function(t){return o(o({},t),{},i({},e.target.name,{checked:e.target.checked}))}))},_=function(e){v(o(o({},p),{},i({},e.target.name,e.target.value)))},k=function(e,t,n){y((function(r){return o(o({},r),{},i({},e.target.name,p[e.target.name].length<t||p[e.target.name].length>n))}))};return(0,Ne.jsx)(Ne.Fragment,{children:(0,Ne.jsx)("section",{id:"create-container",children:(0,Ne.jsxs)("div",{className:"create-container-info",children:[(0,Ne.jsx)("h1",{children:"\u0421\u044a\u0437\u0434\u0430\u0439 \u043f\u0435\u0442\u0438\u0446\u0438\u044f"}),(0,Ne.jsxs)("form",{onSubmit:function(t){t.preventDefault(),0===Object.keys(r).length?Tb(p).then(f(p)):(l((function(e){return e.map((function(e){return e._id===r._id?p:e}))})),xb(s,p),e("/petitions"))},children:[(0,Ne.jsxs)("label",{htmlFor:"title",children:["\u0417\u0430\u0433\u043b\u0430\u0432\u0438\u0435 ",(0,Ne.jsx)("strong",{children:"  *"})]}),(0,Ne.jsx)("input",{type:"text",id:"title",name:"title",placeholder:"\u0417\u0430\u0433\u043b\u0430\u0432\u0438\u0435 \u043d\u0430 \u0432\u0430\u0448\u0430\u0442\u0430 \u043f\u0435\u0442\u0438\u0446\u0438\u044f",value:p.title,onChange:_,onBlur:function(e){return k(e,10,80)}}),(0,Ne.jsx)("label",{htmlFor:"petition-image",children:"\u041a\u0430\u0447\u0435\u0442\u0435 \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 "}),(0,Ne.jsx)("input",{type:"file",id:"petitio\u043d-image",name:"petitionImage",placeholder:"\u0418\u0437\u0431\u0435\u0440\u0435\u0442\u0435 \u0444\u0430\u0438\u043b",onChange:function(e){v((function(t){return o(o({},t),{},i({},e.target.name,e.target.files[0]))}))}}),(0,Ne.jsxs)("label",{htmlFor:"description",children:["\u041a\u0440\u0430\u0442\u043a\u043e \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 ",(0,Ne.jsx)("strong",{children:"  *"})]}),(0,Ne.jsx)("textarea",{id:"description",name:"description",placeholder:"\u041a\u0440\u0430\u0442\u043a\u043e \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",rows:"3",value:p.description,onChange:_,onBlur:function(e){k(e,10,100)}}),(0,Ne.jsxs)("label",{htmlFor:"petition-text",children:["\u0412\u0430\u0448\u0438\u044f \u0442\u0435\u043a\u0441\u0442 ",(0,Ne.jsx)("strong",{children:"  *"})]}),(0,Ne.jsx)("textarea",{id:"petition-text",name:"petitionText",placeholder:"\u0412\u0430\u0448\u0438\u044f \u0442\u0435\u043a\u0441\u0442",rows:"10",value:p.petitionText,onChange:_,onBlur:function(e){k(e,10,1e3)}}),(0,Ne.jsx)("label",{htmlFor:"category",children:"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f:"}),(0,Ne.jsxs)("select",{id:"category",name:"category",value:p.category,onChange:_,defaultValue:r.category,children:[(0,Ne.jsx)("option",{value:"none",disabled:!0,hidden:!0,children:"\u0418\u0437\u0431\u0435\u0440\u0435\u0442\u0435 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f"}),[{label:"\u0415\u043a\u043e\u043b\u043e\u0433\u0438\u044f",value:"ecology"},{label:"\u0421\u043e\u0446\u0438\u0430\u043b\u043d\u0430 \u0442\u0435\u043c\u0430\u0442\u0438\u043a\u0430",value:"social"},{label:"\u041f\u043e\u043b\u0438\u0442\u0438\u043a\u0430",value:"politics"},{label:"\u0411\u043b\u0430\u0433\u043e\u0442\u0432\u043e\u0440\u0438\u0442\u0435\u043b\u043d\u043e\u0441\u0442",value:"charity"},{label:"\u0414\u0440\u0443\u0433\u043e",value:"other"}].map((function(e){return(0,Ne.jsx)("option",{value:e.value,children:e.label},e.value)}))]}),"other"===p.category&&(0,Ne.jsxs)("div",{children:[(0,Ne.jsxs)("label",{htmlFor:"other",children:["\u0414\u0430\u0439\u0442\u0435 \u043a\u0440\u0430\u0442\u043a\u043e \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u043d\u0430 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f\u0442\u0430",(0,Ne.jsx)("strong",{children:"\xa0  *"})," "]}),(0,Ne.jsx)("input",{type:"text",id:"other",name:"other",placeholder:"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f",value:p.other,onChange:_})]}),(0,Ne.jsxs)("label",{htmlFor:"goal",children:["\u041a\u043e\u043b\u043a\u043e \u043f\u043e\u0434\u043f\u0438\u0441\u0430 \u0446\u0435\u043b\u0438\u0442\u0435 \u0434\u0430 \u0441\u044a\u0431\u0435\u0440\u0435\u0442\u0435? ",(0,Ne.jsx)("strong",{children:"\xa0  *"})]}),(0,Ne.jsx)("input",{type:"number",id:"goal",name:"goal",placeholder:"\u041a\u043e\u043b\u043a\u043e \u043f\u043e\u0434\u043f\u0438\u0441\u0430 \u0446\u0435\u043b\u0438\u0442\u0435 \u0434\u0430 \u0441\u044a\u0431\u0435\u0440\u0435\u0442\u0435?",value:p.goal,onChange:_}),(0,Ne.jsxs)("ul",{children:[(0,Ne.jsx)("li",{children:(0,Ne.jsxs)("label",{htmlFor:"showMyFirstName",children:["\u041f\u043e\u043a\u0430\u0436\u0438 \u0438\u043c\u0435\u0442\u043e \u043c\u0438",(0,Ne.jsx)("input",{type:"checkbox",id:"showMyFirstName",name:"showMyFirstName",checked:p.showMyFirstName.checked,onChange:g})]})},"firstName"),(0,Ne.jsx)("li",{children:(0,Ne.jsxs)("label",{htmlFor:"showMyLastName",children:["\u041f\u043e\u043a\u0430\u0436\u0438 \u0444\u0430\u043c\u0438\u043b\u0438\u044f\u0442\u0430 \u043c\u0438",(0,Ne.jsx)("input",{type:"checkbox",id:"showMyLastName",name:"showMyLastName",checked:p.showMyLastName.checked,onChange:g})]})},"lastName"),(0,Ne.jsx)("li",{children:(0,Ne.jsxs)("label",{htmlFor:"showMyAge",children:["\u041f\u043e\u043a\u0430\u0436\u0438 \u0432\u044a\u0437\u0440\u0430\u0441\u0442\u0442\u0430 \u043c\u0438",(0,Ne.jsx)("input",{type:"checkbox",id:"showMyAge",name:"showMyAge",checked:p.showMyAge.checked,onChange:g})]})},"age"),(0,Ne.jsx)("li",{children:(0,Ne.jsxs)("label",{htmlFor:"showMyGender",children:["\u041f\u043e\u043a\u0430\u0436\u0438 \u043f\u043e\u043b\u0430 \u043c\u0438",(0,Ne.jsx)("input",{type:"checkbox",id:"showMyGender",name:"showMyGender",checked:p.showMyGender.checked,onChange:g})]})},"gender")]}),(0,Ne.jsx)("input",{type:"submit",id:"btn",value:"submit"})]})]})})})},Bb=Mg(mb,"users"),Vb=function(){var e=Ge(Ve().mark((function e(t){var n,r,i,a;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,oa(vb,t.email,t.password);case 3:return n=e.sent,r=n.user,i=Ug(Bb,r.uid),a={username:t.username,firstName:t.firstName,lastName:t.lastName,age:t.age,gender:t.gender,signedPetitions:[],ownPetitions:{}},e.next=9,U_(i,a);case 9:return e.abrupt("return",o({_id:r.uid},a));case 12:throw e.prev=12,e.t0=e.catch(0),new Error(e.t0.message);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}(),zb=function(){var e=Ge(Ve().mark((function e(t){var n,r,i,a;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ua(vb,t.email,t.password);case 3:return n=e.sent,r=Ug(Bb,n.user.uid),e.next=7,P_(r);case 7:return i=e.sent,a=i.data(),e.abrupt("return",o(o({},a),{},{_id:n.user.uid}));case 12:throw e.prev=12,e.t0=e.catch(0),new Error("\u0413\u0440\u0435\u0448\u0435\u043d \u043f\u043e\u0442\u0440\u0435\u0431\u0438\u0442\u0435\u043b \u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u0430");case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}(),Gb=function(){var e=Ge(Ve().mark((function e(){var t;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ro(vb,pb);case 3:return t=e.sent,e.abrupt("return",{username:t.user.email.split("@")[0],firstName:t.user.displayName.split(" ")[0],lastName:t.user.displayName.split(" ")[1],_id:t.user.uid,email:t.user.email,confirmation:{checked:!0},photo:t.user.photoURL});case 7:throw e.prev=7,e.t0=e.catch(0),new Error(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),qb=function(){var e=Ge(Ve().mark((function e(t,n){var r;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=Ug(Bb,t),e.next=4,U_(r,n);case 4:e.next=9;break;case 6:throw e.prev=6,e.t0=e.catch(0),new Error(e.t0.message);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n){return e.apply(this,arguments)}}(),Hb=function(){var e=Ge(Ve().mark((function e(){return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fa(vb);case 3:e.next=8;break;case 5:throw e.prev=5,e.t0=e.catch(0),new Error(e.t0.message);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}}(),Yb=function(){var e=F(),n=(0,t.useContext)(De).userLogin,r=function(){var t=Ge(Ve().mark((function t(r){var i,a;return Ve().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r.preventDefault(),i=Object.fromEntries(new FormData(r.target)),t.prev=2,t.next=5,zb(i);case 5:a=t.sent,n(a),e("/"),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(2),Ce.error(t.t0.message);case 13:case"end":return t.stop()}}),t,null,[[2,10]])})));return function(e){return t.apply(this,arguments)}}();return(0,Ne.jsxs)("div",{className:"login-box",children:[(0,Ne.jsx)("h1",{children:"Login"}),(0,Ne.jsxs)("form",{onSubmit:r,children:[(0,Ne.jsx)("label",{children:"\u041f\u043e\u0442\u0440\u0435\u0431\u0438\u0442\u0435\u043b\u0441\u043a\u043e \u0438\u043c\u0435"}),(0,Ne.jsx)("input",{type:"text",name:"email",placeholder:"\u041f\u043e\u0442\u0440\u0435\u0431\u0438\u0442\u0435\u043b\u0441\u043a\u043e \u0438\u043c\u0435"}),(0,Ne.jsx)("label",{children:"\u041f\u0430\u0440\u043e\u043b\u0430"}),(0,Ne.jsx)("input",{type:"password",name:"password",placeholder:"\u041f\u0430\u0440\u043e\u043b\u0430"}),(0,Ne.jsx)("input",{type:"submit",value:"Submit"})]}),(0,Ne.jsxs)("p",{children:["\u041d\u044f\u043c\u0430\u0442\u0435 \u0430\u043a\u0430\u0443\u043d\u0442? ",(0,Ne.jsx)(je,{to:"/register",children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u0430\u0439 \u0441\u0435"})]})]})},Kb=(0,t.createContext)();function Wb(e){var n=e.children,r=c((0,t.useState)({}),2),i=r[0],a=r[1];return(0,Ne.jsxs)(Kb.Provider,{value:{errors:i,setErrors:a},children:[" ",n]})}var Qb=function(){return(0,Ne.jsx)(Ne.Fragment,{children:(0,Ne.jsxs)("div",{className:"content",children:[(0,Ne.jsx)("h2",{children:"\u041e\u043d\u043b\u0430\u0439\u043d \u043f\u043b\u0430\u0442\u0444\u043e\u0440\u043c\u0430 \u0437\u0430 \u043f\u0435\u0442\u0438\u0446\u0438\u0438"}),(0,Ne.jsx)("p",{children:"\u0422\u0430\u0437\u0438 \u043e\u043d\u043b\u0430\u0439\u043d \u043f\u043b\u0430\u0442\u0444\u043e\u0440\u043c\u0430 \u0435 \u0441\u044a\u0437\u0434\u0430\u0434\u0435\u043d\u0430 \u0435\u0434\u0438\u043d\u0441\u0442\u0432\u0435\u043d\u043e \u0438 \u0441\u0430\u043c\u043e \u0441 \u0443\u0447\u0435\u0431\u043d\u0438 \u0446\u0435\u043b\u0438"}),(0,Ne.jsx)("p",{children:"\u041c\u0430\u043a\u0430\u0440 \u0434\u0430\u043d\u043d\u0438\u0442\u0435 \u0432\u0438 \u0434\u0430 \u0441\u0430 \u0437\u0430\u0449\u0438\u0442\u0435\u043d\u0438, \u043c\u043e\u043b\u044f \u043d\u0435 \u0438\u0437\u043f\u043e\u043b\u0437\u0432\u0430\u0439\u0442\u0435 \u0440\u0435\u0430\u043b\u043d\u0438\u0442\u0435 \u0441\u0438 \u0435\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u0438 \u043f\u043e\u0449\u0438"}),(0,Ne.jsx)("p",{children:"\u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u0438, \u043a\u043e\u0438\u0442\u043e \u0438\u0437\u043f\u043e\u043b\u0437\u0432\u0430\u0442\u0435 \u0432 \u0440\u0435\u0430\u043b\u043d\u0438\u044f \u0436\u0438\u0432\u043e\u0442."}),(0,Ne.jsx)("p",{}),(0,Ne.jsxs)("p",{children:["\u041e\u0431\u0440\u0430\u0442\u043d\u043e \u043a\u044a\u043c",(0,Ne.jsx)(je,{to:"/register",element:(0,Ne.jsx)($b,{}),children:" \u0444\u043e\u0440\u043c\u0430\u0442\u0430 \u0437\u0430 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f "})]})]})})},Xb=function(e,t,n,r,a){r((function(r){return o(o({},r),{},i({},e.target.name,a[e.target.name].length<t||a[e.target.name].length>n))}))},$b=function(){var e=(0,t.useContext)(Kb),n=e.errors,r=e.setErrors,a=(0,t.useContext)(De).userLogin,s=c((0,t.useState)({username:"",firstName:"",lastName:"",age:"",gender:"",email:"",password:"",rePassword:"",confirmation:{checked:!1}}),2),u=s[0],l=s[1],f=F(),h=function(e){l(o(o({},u),{},i({},e.target.name,e.target.value)))};return(0,Ne.jsxs)("div",{className:"register-box",children:[(0,Ne.jsx)("h1",{children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"}),(0,Ne.jsx)("input",{type:"button",onClick:function(e){e.preventDefault(),Gb().then((function(e){a(e),f("/")}))},value:"SignInWithGoogle"}),(0,Ne.jsxs)("form",{onSubmit:function(e){e.preventDefault(),Vb(o({},u)).then((function(e){a(e),f("/")})).catch((function(e){Ce.error("\u041f\u043e\u0442\u0440\u0435\u0431\u0438\u0442\u0435\u043b \u0441 \u0442\u0430\u0437\u0438 \u0435\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u0430 \u043f\u043e\u0449\u0430 \u0432\u0435\u0447\u0435 \u0441\u044a\u0449\u0435\u0441\u0442\u0432\u0443\u0432\u0430")}))},children:[(0,Ne.jsx)("label",{htmlFor:"username",children:"\u041f\u043e\u0442\u0440\u0435\u0431\u0438\u0442\u0435\u043b\u0441\u043a\u043e \u0438\u043c\u0435"}),(0,Ne.jsx)("input",{type:"text",id:"username",name:"username",placeholder:"\u041f\u043e\u0442\u0440\u0435\u0431\u0438\u0442\u0435\u043b\u0441\u043a\u043e \u0438\u043c\u0435",value:u.username,onChange:h,onBlur:function(e){Xb(e,3,15,r,u)}}),n.username&&(0,Ne.jsx)("p",{className:"error",children:"\u041f\u043e\u0442\u0440\u0435\u0431\u0438\u0442\u0435\u043b\u0441\u043a\u043e\u0442\u043e \u0438\u043c\u0435 \u0442\u0440\u044f\u0431\u0432\u0430 \u0434\u0430 \u0435 \u043c\u0435\u0436\u0434\u0443 3 \u0438 15 \u0441\u0438\u043c\u0432\u043e\u043b\u0430"}),(0,Ne.jsx)("label",{htmlFor:"firstName",children:"\u0418\u043c\u0435"}),(0,Ne.jsx)("input",{type:"text",id:"firstName",name:"firstName",placeholder:"\u0418\u043c\u0435",value:u.firstName,onChange:h,onBlur:function(e){return Xb(e,3,15,r,u)}}),n.firstName&&(0,Ne.jsx)("p",{className:"error",children:"\u0418\u043c\u0435\u0442\u043e \u0442\u0440\u044f\u0431\u0432\u0430 \u0434\u0430 \u0435 \u043c\u0435\u0436\u0434\u0443 3 \u0438 15 \u0441\u0438\u043c\u0432\u043e\u043b\u0430"}),(0,Ne.jsx)("label",{htmlFor:"lastName",children:"\u0424\u0430\u043c\u0438\u043b\u0438\u044f"}),(0,Ne.jsx)("input",{type:"text",id:"lastName",name:"lastName",placeholder:"\u0424\u0430\u043c\u0438\u043b\u0438\u044f",value:u.lastName,onChange:h,onBlur:function(e){return Xb(e,3,15,r,u)}}),n.lastName&&(0,Ne.jsx)("p",{className:"error",children:"\u0424\u0430\u043c\u0438\u043b\u0438\u044f\u0442\u0430 \u0442\u0440\u044f\u0431\u0432\u0430 \u0434\u0430 \u0435 \u043c\u0435\u0436\u0434\u0443 3 \u0438 15 \u0441\u0438\u043c\u0432\u043e\u043b\u0430"}),(0,Ne.jsx)("label",{htmlFor:"age",children:"\u0412\u044a\u0437\u0440\u0430\u0441\u0442"}),(0,Ne.jsx)("input",{type:"number",id:"age",name:"age",placeholder:"\u0412\u044a\u0437\u0440\u0430\u0441\u0442",value:u.age,onChange:h,onBlur:function(e){return function(e,t,n){var r=Number(n[e.target.name]);t((function(t){return o(o({},t),{},i({},e.target.name,!(r>0)))}))}(e,r,u)}}),n.age&&(0,Ne.jsx)("p",{className:"error",children:"\u041d\u0435\u0432\u0430\u043b\u0438\u0434\u043d\u0430 \u0432\u044a\u0437\u0440\u0430\u0441\u0442"}),(0,Ne.jsx)("label",{htmlFor:"gender",children:"\u041f\u043e\u043b"}),(0,Ne.jsxs)("div",{className:"gender",children:[(0,Ne.jsx)("input",{type:"radio",value:"male",name:"gender",checked:u.gender.checked,onChange:h,onBlur:function(e){return Xb(e,3,7,r,u)}})," \u041c\u044a\u0436",(0,Ne.jsx)("input",{type:"radio",value:"female",name:"gender",checked:u.gender.checked,onChange:h,onBlur:function(e){return Xb(e,3,7,r,u)}}),"\u0416\u0435\u043d\u0430"]}),n.gender&&(0,Ne.jsx)("p",{className:"error",children:"\u041c\u043e\u043b\u044f \u043e\u0442\u0431\u0435\u043b\u0435\u0436\u0435\u0442\u0435 \u0432\u0430\u0448\u0438\u044f \u043f\u043e\u043b"}),(0,Ne.jsx)("label",{htmlFor:"email",children:"\u0415\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u0430 \u043f\u043e\u0449\u0430"}),(0,Ne.jsx)("input",{type:"email",id:"email",name:"email",placeholder:"\u0415\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u0430 \u043f\u043e\u0449\u0430",value:u.email,onChange:h,onBlur:function(e){return function(e,t,n){t((function(t){return o(o({},t),{},i({},e.target.name,!/^\w+([.-]?\w+)*@\w+([.-]?\w+)*(\.\w{2,3})+$/.test(n[e.target.name])))}))}(e,r,u)}}),n.email&&(0,Ne.jsx)("p",{className:"error",children:"\u041d\u0435\u0432\u0430\u043b\u0438\u0434\u0435\u043d email"}),(0,Ne.jsx)("label",{htmlFor:"password",children:"\u041f\u0430\u0440\u043e\u043b\u0430"}),(0,Ne.jsx)("input",{type:"password",id:"password",name:"password",placeholder:"\u041f\u0430\u0440\u043e\u043b\u0430",value:u.password,onChange:h,onBlur:function(e){return Xb(e,6,20,r,u)}}),n.password&&(0,Ne.jsx)("p",{className:"error",children:"\u041f\u0430\u0440\u043e\u043b\u0430\u0442\u0430 \u0442\u0440\u044f\u0431\u0432\u0430 \u0434\u0430 \u0435 \u043c\u0435\u0436\u0434\u0443 6 \u0438 20 \u0441\u0438\u043c\u0432\u043e\u043b\u0430"}),(0,Ne.jsx)("label",{htmlFor:"rePassword",children:"\u041f\u043e\u0432\u0442\u043e\u0440\u0435\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u0430\u0442\u0430"}),(0,Ne.jsx)("input",{type:"password",id:"rePassword",name:"rePassword",placeholder:"\u041f\u043e\u0432\u0442\u043e\u0440\u0435\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u0430\u0442\u0430",value:u.rePassword,onChange:h,onBlur:function(e){return function(e,t,n){t((function(t){return o(o({},t),{},i({},e.target.name,[e.target.value]!=n.password))}))}(e,r,u)}}),n.rePassword&&(0,Ne.jsx)("p",{className:"error",children:"\u041f\u0430\u0440\u043e\u043b\u0438\u0442\u0435 \u043d\u0435 \u0441\u044a\u0432\u043f\u0430\u0434\u0430\u0442"}),(0,Ne.jsxs)("div",{style:{display:"flex"},children:[(0,Ne.jsxs)("label",{htmlFor:"confirmation",children:[" \u041f\u0440\u043e\u0447\u0435\u0442\u043e\u0445",(0,Ne.jsx)(je,{to:"/about",element:(0,Ne.jsx)(Qb,{}),children:" \xa0About"})]}),(0,Ne.jsx)("input",{type:"checkbox",id:"confirmation",name:"confirmation",value:u.confirmation.checked,checked:u.confirmation.checked,onChange:function(e){l((function(t){return o(o({},t),{},i({},e.target.name,{checked:e.target.checked}))}))}})]}),Object.values(n).some((function(e){return!0===e}))||Object.values(u).some((function(e){return 0===e.length}))||""===u.gender||!u.confirmation.checked?(0,Ne.jsx)("input",{type:"submit",value:"\u0412\u0441\u0438\u0447\u043a\u0438 \u043f\u043e\u043b\u0435\u0442\u0430 \u0441\u0430 \u0437\u0430\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u0438",disabled:!0}):(0,Ne.jsx)("input",{type:"submit",value:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u0430\u0439 \u043c\u0435"})]}),(0,Ne.jsx)("p",{children:(0,Ne.jsx)(je,{to:"/login",children:"\u0412\u0435\u0447\u0435 \u0438\u043c\u0430\u0442\u0435 \u0430\u043a\u0430\u0443\u043d\u0442?"})})]})},Jb=function(){var e=F(),n=(0,t.useContext)(De),r=n.userLogin,i=n.user;return(0,t.useEffect)((function(){i&&Hb().then(r({})).then(e("/"))}),[]),null},Zb=function(){var e,n=F(),r=(0,t.useContext)(Ob),i=r.signPetitionHandler,a=r.petitions,s=r.deletePetitionHandler,u=(0,t.useContext)(De),l=u.user,f=u.isAuthenticated,h=u.userUpdate,d=B().petitionId,p=c((0,t.useState)("\u041f\u043e\u0434\u043f\u0438\u0448\u0438"),2),v=p[0],m=p[1],y=a.find((function(e){return e._id===d})),g=new Date(y.createdAt).toLocaleString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}),_=l._id===y.authorInfo._id,k=!1;f&&(null!==l&&void 0!==l&&null!==(e=l.signedPetitions)&&void 0!==e&&e.includes(d)&&(k=!0));return(0,Ne.jsx)("main",{children:(0,Ne.jsxs)("section",{id:"details-info",children:[(0,Ne.jsx)("div",{className:"petition-image",children:(0,Ne.jsx)("img",{src:y.image,alt:"alt"})}),(0,Ne.jsx)("p",{className:"progress-bar",children:(0,Ne.jsx)("span",{style:{width:y.signed/y.goal*100,height:"10px",backgroundColor:"#4568dc",borderRadius:"5px"}})}),(0,Ne.jsxs)("div",{className:"petition-info",children:[(0,Ne.jsxs)("div",{className:"petition-text",children:[(0,Ne.jsx)("h1",{id:"title",children:y.title}),(0,Ne.jsxs)("div",{className:"info",children:[y.showMyFirstName.checked?(0,Ne.jsxs)("h3",{children:["\u0410\u0432\u0442\u043e\u0440 :",y.authorInfo.firstName," ",y.authorInfo.lastName,", \xa0"]}):(0,Ne.jsxs)("h3",{children:["\u0410\u0432\u0442\u043e\u0440 :",y.authorInfo.username,",\xa0 "]}),(0,Ne.jsxs)("h3",{children:[y.other?y.other:y.category,",\xa0"]}),(0,Ne.jsxs)("h3",{children:[g,"\xa0"]}),(0,Ne.jsxs)("p",{children:[y.signed?y.signed:0,"/",y.goal]})]}),(0,Ne.jsxs)("div",{className:"petition-lower",children:[(0,Ne.jsx)("p",{id:"description",children:y.description}),(0,Ne.jsx)("p",{id:"text",children:y.petitionText})]})]}),k&&(0,Ne.jsx)("p",{children:"\u0412\u0435\u0447\u0435 \u0441\u0442\u0435 \u043f\u043e\u0434\u043f\u0438\u0441\u0430\u043b\u0438 \u0442\u0430\u0437\u0438 \u043f\u0435\u0442\u0438\u0446\u0438\u044f!"}),(0,Ne.jsxs)("div",{className:"product-btn",children:[f&&!_&&(0,Ne.jsx)("input",{type:"button",onClick:function(e){e.preventDefault(),m("\u0413\u043e\u0442\u043e\u0432\u043e"),e.target.disabled=!0,i(d,"".concat(l.firstName," ").concat(l.lastName)),h(d),qb(l._id,o(o({},l),{},{signedPetitions:l.signedPetitions.push(d)})),xb(d,o(o({},y),{},{signed:Number(y.signed)+1,signedBy:[].concat(W(y.signedBy),["".concat(l.firstName," ").concat(l.lastName)])}))},className:"btn-delete",value:v}),_&&(0,Ne.jsxs)("div",{className:"author",children:[(0,Ne.jsx)(je,{to:"/edit/".concat(y._id),className:"btn-edit",children:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u0430\u0439"}),(0,Ne.jsx)("input",{type:"button",onClick:function(e){e.preventDefault(),Sb(d).then(s(d)).then(n("/petitions"))},className:"btn-delete",value:"\u0418\u0437\u0442\u0440\u0438\u0439"})]})]})]})]})})},ew=function(){return(0,Ne.jsx)("section",{id:"not-found-page",children:(0,Ne.jsxs)("div",{class:"not-found-page-container",children:[(0,Ne.jsx)("h2",{children:"404"}),(0,Ne.jsxs)("p",{children:["\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430\u0442\u0430 \u043d\u0435 \u0441\u044a\u0449\u0435\u0441\u0442\u0432\u0443\u0432\u0430",(0,Ne.jsx)("a",{href:"/",className:"btn",children:"\u041f\u0435\u0442\u0438\u0446\u0438\u0438"}),"."]})]})})};var tw,nw=function(){var e={position:"top-center",autoClose:3e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0};return(0,Ne.jsx)(Re,{children:(0,Ne.jsx)(Ae,{children:(0,Ne.jsxs)("main",{children:[(0,Ne.jsx)(Db,{}),(0,Ne.jsx)(Wb,{children:(0,Ne.jsx)(Pb,{children:(0,Ne.jsxs)(H,{children:[(0,Ne.jsx)(G,{path:"/",element:(0,Ne.jsx)(Mb,{})}),(0,Ne.jsx)(G,{path:"/petitions",element:(0,Ne.jsx)(jb,{})}),(0,Ne.jsx)(G,{path:"/create",element:(0,Ne.jsx)(Fb,{})}),(0,Ne.jsx)(G,{path:"/login",element:(0,Ne.jsx)(Yb,{})}),(0,Ne.jsx)(G,{path:"/register",element:(0,Ne.jsx)($b,{})}),(0,Ne.jsx)(G,{path:"/logout",element:(0,Ne.jsx)(Jb,{})}),(0,Ne.jsx)(G,{path:"/404",element:(0,Ne.jsx)(ew,{})}),(0,Ne.jsx)(G,{path:"/details/:petitionId",element:(0,Ne.jsx)(Zb,{})}),(0,Ne.jsx)(G,{path:"/edit/:petitionId",element:(0,Ne.jsx)(Fb,{})}),(0,Ne.jsx)(G,{path:"/about",element:(0,Ne.jsx)(Qb,{})}),(0,Ne.jsx)(G,{path:"*",element:(0,Ne.jsx)(ew,{})})]})})}),(0,Ne.jsx)(ge,o({},e))]})})})},rw="7.47.0",iw=n(748),aw="Sentry Logger ",ow=["debug","info","warn","error","log","assert","trace"];function sw(e){if(!("console"in iw.n2))return e();var t=iw.n2.console,n={};ow.forEach((function(e){var r=t[e]&&t[e].__sentry_original__;e in t&&r&&(n[e]=t[e],t[e]=r)}));try{return e()}finally{Object.keys(n).forEach((function(e){t[e]=n[e]}))}}function uw(){var e=!1,t={enable:function(){e=!0},disable:function(){e=!1}};return"undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__?ow.forEach((function(n){t[n]=function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];e&&sw((function(){var e;(e=iw.n2.console)[n].apply(e,["".concat(aw,"[").concat(n,"]:")].concat(r))}))}})):ow.forEach((function(e){t[e]=function(){}})),t}tw="undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__?(0,iw.YO)("logger",uw):uw();var cw=Object.prototype.toString;function lw(e){switch(cw.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return bw(e,Error)}}function fw(e,t){return cw.call(e)==="[object ".concat(t,"]")}function hw(e){return fw(e,"ErrorEvent")}function dw(e){return fw(e,"DOMError")}function pw(e){return fw(e,"String")}function vw(e){return null===e||"object"!==typeof e&&"function"!==typeof e}function mw(e){return fw(e,"Object")}function yw(e){return"undefined"!==typeof Event&&bw(e,Event)}function gw(e){return fw(e,"RegExp")}function _w(e){return Boolean(e&&e.then&&"function"===typeof e.then)}function kw(e){return"number"===typeof e&&e!==e}function bw(e,t){try{return e instanceof t}catch(xh){return!1}}var ww=(0,iw.Rf)();function Ew(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{for(var n,r=e,i=5,a=[],o=0,s=0,u=" > ",c=u.length,l=Array.isArray(t)?t:t.keyAttrs,f=!Array.isArray(t)&&t.maxStringLength||80;r&&o++<i&&!("html"===(n=Tw(r,l))||o>1&&s+a.length*c+n.length>=f);)a.push(n),s+=n.length,r=r.parentNode;return a.reverse().join(u)}catch(h){return"<unknown>"}}function Tw(e,t){var n,r,i,a,o,s=e,u=[];if(!s||!s.tagName)return"";u.push(s.tagName.toLowerCase());var c=t&&t.length?t.filter((function(e){return s.getAttribute(e)})).map((function(e){return[e,s.getAttribute(e)]})):null;if(c&&c.length)c.forEach((function(e){u.push("[".concat(e[0],'="').concat(e[1],'"]'))}));else if(s.id&&u.push("#".concat(s.id)),(n=s.className)&&pw(n))for(r=n.split(/\s+/),o=0;o<r.length;o++)u.push(".".concat(r[o]));var l=["aria-label","type","name","title","alt"];for(o=0;o<l.length;o++)i=l[o],(a=s.getAttribute(i))&&u.push("[".concat(i,'="').concat(a,'"]'));return u.join("")}function Sw(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return"string"!==typeof e||0===t||e.length<=t?e:"".concat(e.slice(0,t),"...")}function xw(e,t){if(!Array.isArray(e))return"";for(var n=[],r=0;r<e.length;r++){var i=e[r];try{n.push(String(i))}catch(a){n.push("[value cannot be serialized]")}}return n.join(t)}function Iw(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return!!pw(e)&&(gw(t)?t.test(e):!!pw(t)&&(n?e===t:e.includes(t)))}function Cw(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return t.some((function(t){return Iw(e,t,n)}))}function Nw(e,t,n){if(t in e){var r=e[t],i=n(r);if("function"===typeof i)try{Dw(i,r)}catch(a){}e[t]=i}}function Rw(e,t,n){Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})}function Dw(e,t){var n=t.prototype||{};e.prototype=t.prototype=n,Rw(e,"__sentry_original__",t)}function Aw(e){return e.__sentry_original__}function Ow(e){if(lw(e))return o({message:e.message,name:e.name,stack:e.stack},Lw(e));if(yw(e)){var t=o({type:e.type,target:Pw(e.target),currentTarget:Pw(e.currentTarget)},Lw(e));return"undefined"!==typeof CustomEvent&&bw(e,CustomEvent)&&(t.detail=e.detail),t}return e}function Pw(e){try{return t=e,"undefined"!==typeof Element&&bw(t,Element)?Ew(e):Object.prototype.toString.call(e)}catch(n){return"<unknown>"}var t}function Lw(e){if("object"===typeof e&&null!==e){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}return{}}function Mw(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:40,n=Object.keys(Ow(e));if(n.sort(),!n.length)return"[object has no keys]";if(n[0].length>=t)return Sw(n[0],t);for(var r=n.length;r>0;r--){var i=n.slice(0,r).join(", ");if(!(i.length>t))return r===n.length?i:Sw(i,t)}return""}function Uw(e){return jw(e,new Map)}function jw(e,t){if(mw(e)){var n=t.get(e);if(void 0!==n)return n;var r={};t.set(e,r);for(var i=0,a=Object.keys(e);i<a.length;i++){var o=a[i];"undefined"!==typeof e[o]&&(r[o]=jw(e[o],t))}return r}if(Array.isArray(e)){var s=t.get(e);if(void 0!==s)return s;var u=[];return t.set(e,u),e.forEach((function(e){u.push(jw(e,t))})),u}return e}function Fw(){var e=iw.n2,t=e.crypto||e.msCrypto;if(t&&t.randomUUID)return t.randomUUID().replace(/-/g,"");var n=t&&t.getRandomValues?function(){return t.getRandomValues(new Uint8Array(1))[0]}:function(){return 16*Math.random()};return([1e7]+1e3+4e3+8e3+1e11).replace(/[018]/g,(function(e){return(e^(15&n())>>e/4).toString(16)}))}function Bw(e){return e.exception&&e.exception.values?e.exception.values[0]:void 0}function Vw(e){var t=e.message,n=e.event_id;if(t)return t;var r=Bw(e);return r?r.type&&r.value?"".concat(r.type,": ").concat(r.value):r.type||r.value||n||"<unknown>":n||"<unknown>"}function zw(e,t,n){var r=e.exception=e.exception||{},i=r.values=r.values||[],a=i[0]=i[0]||{};a.value||(a.value=t||""),a.type||(a.type=n||"Error")}function Gw(e,t){var n=Bw(e);if(n){var r=n.mechanism;if(n.mechanism=o(o(o({},{type:"generic",handled:!0}),r),t),t&&"data"in t){var i=o(o({},r&&r.data),t.data);n.mechanism.data=i}}}function qw(e){if(e&&e.__sentry_captured__)return!0;try{Rw(e,"__sentry_captured__",!0)}catch(t){}return!1}function Hw(e){return Array.isArray(e)?e:[e]}var Yw,Kw=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/],Ww=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};He(this,e),this._options=t,e.prototype.__init.call(this)}return Ke(e,[{key:"__init",value:function(){this.name=e.id}},{key:"setupOnce",value:function(t,n){var r=function(t){var r=n();if(r){var i=r.getIntegration(e);if(i){var a=r.getClient(),o=a?a.getOptions():{},s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{allowUrls:[].concat(W(e.allowUrls||[]),W(t.allowUrls||[])),denyUrls:[].concat(W(e.denyUrls||[]),W(t.denyUrls||[])),ignoreErrors:[].concat(W(e.ignoreErrors||[]),W(t.ignoreErrors||[]),Kw),ignoreTransactions:[].concat(W(e.ignoreTransactions||[]),W(t.ignoreTransactions||[])),ignoreInternal:void 0===e.ignoreInternal||e.ignoreInternal}}(i._options,o);return function(e,t){if(t.ignoreInternal&&function(e){try{return"SentryError"===e.exception.values[0].type}catch(t){}return!1}(e))return("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&tw.warn("Event dropped due to being internal Sentry Error.\nEvent: ".concat(Vw(e))),!0;if(function(e,t){if(e.type||!t||!t.length)return!1;return function(e){if(e.message)return[e.message];if(e.exception)try{var t=e.exception.values&&e.exception.values[0]||{},n=t.type,r=void 0===n?"":n,i=t.value,a=void 0===i?"":i;return["".concat(a),"".concat(r,": ").concat(a)]}catch(o){return("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&tw.error("Cannot extract message for event ".concat(Vw(e))),[]}return[]}(e).some((function(e){return Cw(e,t)}))}(e,t.ignoreErrors))return("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&tw.warn("Event dropped due to being matched by `ignoreErrors` option.\nEvent: ".concat(Vw(e))),!0;if(function(e,t){if("transaction"!==e.type||!t||!t.length)return!1;var n=e.transaction;return!!n&&Cw(n,t)}(e,t.ignoreTransactions))return("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&tw.warn("Event dropped due to being matched by `ignoreTransactions` option.\nEvent: ".concat(Vw(e))),!0;if(function(e,t){if(!t||!t.length)return!1;var n=Qw(e);return!!n&&Cw(n,t)}(e,t.denyUrls))return("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&tw.warn("Event dropped due to being matched by `denyUrls` option.\nEvent: ".concat(Vw(e),".\nUrl: ").concat(Qw(e))),!0;if(!function(e,t){if(!t||!t.length)return!0;var n=Qw(e);return!n||Cw(n,t)}(e,t.allowUrls))return("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&tw.warn("Event dropped due to not being matched by `allowUrls` option.\nEvent: ".concat(Vw(e),".\nUrl: ").concat(Qw(e))),!0;return!1}(t,s)?null:t}}return t};r.id=this.name,t(r)}}],[{key:"__initStatic",value:function(){this.id="InboundFilters"}}]),e}();function Qw(e){try{var t;try{t=e.exception.values[0].stacktrace.frames}catch(n){}return t?function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=e.length-1;t>=0;t--){var n=e[t];if(n&&"<anonymous>"!==n.filename&&"[native code]"!==n.filename)return n.filename||null}return null}(t):null}catch(r){return("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&tw.error("Cannot extract url for event ".concat(Vw(e))),null}}Ww.__initStatic();var Xw=function(){function e(){He(this,e),e.prototype.__init.call(this)}return Ke(e,[{key:"__init",value:function(){this.name=e.id}},{key:"setupOnce",value:function(){Yw=Function.prototype.toString,Function.prototype.toString=function(){for(var e=Aw(this)||this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Yw.apply(e,n)}}}],[{key:"__initStatic",value:function(){this.id="FunctionToString"}}]),e}();Xw.__initStatic();var $w,Jw=n(846),Zw=n(685),eE="production";function tE(e){return new rE((function(t){t(e)}))}function nE(e){return new rE((function(t,n){n(e)}))}!function(e){e[e.PENDING=0]="PENDING";e[e.RESOLVED=1]="RESOLVED";e[e.REJECTED=2]="REJECTED"}($w||($w={}));var rE=function(){function e(t){He(this,e),e.prototype.__init.call(this),e.prototype.__init2.call(this),e.prototype.__init3.call(this),e.prototype.__init4.call(this),e.prototype.__init5.call(this),e.prototype.__init6.call(this);try{t(this._resolve,this._reject)}catch(n){this._reject(n)}}return Ke(e,[{key:"__init",value:function(){this._state=$w.PENDING}},{key:"__init2",value:function(){this._handlers=[]}},{key:"then",value:function(t,n){var r=this;return new e((function(e,i){r._handlers.push([!1,function(n){if(t)try{e(t(n))}catch(r){i(r)}else e(n)},function(t){if(n)try{e(n(t))}catch(r){i(r)}else i(t)}]),r._executeHandlers()}))}},{key:"catch",value:function(e){return this.then((function(e){return e}),e)}},{key:"finally",value:function(t){var n=this;return new e((function(e,r){var i,a;return n.then((function(e){a=!1,i=e,t&&t()}),(function(e){a=!0,i=e,t&&t()})).then((function(){a?r(i):e(i)}))}))}},{key:"__init3",value:function(){var e=this;this._resolve=function(t){e._setResult($w.RESOLVED,t)}}},{key:"__init4",value:function(){var e=this;this._reject=function(t){e._setResult($w.REJECTED,t)}}},{key:"__init5",value:function(){var e=this;this._setResult=function(t,n){e._state===$w.PENDING&&(_w(n)?n.then(e._resolve,e._reject):(e._state=t,e._value=n,e._executeHandlers()))}}},{key:"__init6",value:function(){var e=this;this._executeHandlers=function(){if(e._state!==$w.PENDING){var t=e._handlers.slice();e._handlers=[],t.forEach((function(t){t[0]||(e._state===$w.RESOLVED&&t[1](e._value),e._state===$w.REJECTED&&t[2](e._value),t[0]=!0)}))}}}}]),e}();function iE(e){var t=(0,Jw.ph)(),n={sid:Fw(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:function(){return function(e){return Uw({sid:"".concat(e.sid),init:e.init,started:new Date(1e3*e.started).toISOString(),timestamp:new Date(1e3*e.timestamp).toISOString(),status:e.status,errors:e.errors,did:"number"===typeof e.did||"string"===typeof e.did?"".concat(e.did):void 0,duration:e.duration,attrs:{release:e.release,environment:e.environment,ip_address:e.ipAddress,user_agent:e.userAgent}})}(n)}};return e&&aE(n,e),n}function aE(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),e.did||t.did||(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||(0,Jw.ph)(),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=32===t.sid.length?t.sid:Fw()),void 0!==t.init&&(e.init=t.init),!e.did&&t.did&&(e.did="".concat(t.did)),"number"===typeof t.started&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if("number"===typeof t.duration)e.duration=t.duration;else{var n=e.timestamp-e.started;e.duration=n>=0?n:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),"number"===typeof t.errors&&(e.errors=t.errors),t.status&&(e.status=t.status)}var oE=function(){function e(){He(this,e),this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={}}return Ke(e,[{key:"addScopeListener",value:function(e){this._scopeListeners.push(e)}},{key:"addEventProcessor",value:function(e){return this._eventProcessors.push(e),this}},{key:"setUser",value:function(e){return this._user=e||{},this._session&&aE(this._session,{user:e}),this._notifyScopeListeners(),this}},{key:"getUser",value:function(){return this._user}},{key:"getRequestSession",value:function(){return this._requestSession}},{key:"setRequestSession",value:function(e){return this._requestSession=e,this}},{key:"setTags",value:function(e){return this._tags=o(o({},this._tags),e),this._notifyScopeListeners(),this}},{key:"setTag",value:function(e,t){return this._tags=o(o({},this._tags),{},i({},e,t)),this._notifyScopeListeners(),this}},{key:"setExtras",value:function(e){return this._extra=o(o({},this._extra),e),this._notifyScopeListeners(),this}},{key:"setExtra",value:function(e,t){return this._extra=o(o({},this._extra),{},i({},e,t)),this._notifyScopeListeners(),this}},{key:"setFingerprint",value:function(e){return this._fingerprint=e,this._notifyScopeListeners(),this}},{key:"setLevel",value:function(e){return this._level=e,this._notifyScopeListeners(),this}},{key:"setTransactionName",value:function(e){return this._transactionName=e,this._notifyScopeListeners(),this}},{key:"setContext",value:function(e,t){return null===t?delete this._contexts[e]:this._contexts[e]=t,this._notifyScopeListeners(),this}},{key:"setSpan",value:function(e){return this._span=e,this._notifyScopeListeners(),this}},{key:"getSpan",value:function(){return this._span}},{key:"getTransaction",value:function(){var e=this.getSpan();return e&&e.transaction}},{key:"setSession",value:function(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this}},{key:"getSession",value:function(){return this._session}},{key:"update",value:function(t){if(!t)return this;if("function"===typeof t){var n=t(this);return n instanceof e?n:this}return t instanceof e?(this._tags=o(o({},this._tags),t._tags),this._extra=o(o({},this._extra),t._extra),this._contexts=o(o({},this._contexts),t._contexts),t._user&&Object.keys(t._user).length&&(this._user=t._user),t._level&&(this._level=t._level),t._fingerprint&&(this._fingerprint=t._fingerprint),t._requestSession&&(this._requestSession=t._requestSession)):mw(t)&&(this._tags=o(o({},this._tags),t.tags),this._extra=o(o({},this._extra),t.extra),this._contexts=o(o({},this._contexts),t.contexts),t.user&&(this._user=t.user),t.level&&(this._level=t.level),t.fingerprint&&(this._fingerprint=t.fingerprint),t.requestSession&&(this._requestSession=t.requestSession)),this}},{key:"clear",value:function(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this._attachments=[],this}},{key:"addBreadcrumb",value:function(e,t){var n="number"===typeof t?t:100;if(n<=0)return this;var r=o({timestamp:(0,Jw.yW)()},e);return this._breadcrumbs=[].concat(W(this._breadcrumbs),[r]).slice(-n),this._notifyScopeListeners(),this}},{key:"getLastBreadcrumb",value:function(){return this._breadcrumbs[this._breadcrumbs.length-1]}},{key:"clearBreadcrumbs",value:function(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}},{key:"addAttachment",value:function(e){return this._attachments.push(e),this}},{key:"getAttachments",value:function(){return this._attachments}},{key:"clearAttachments",value:function(){return this._attachments=[],this}},{key:"applyToEvent",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._extra&&Object.keys(this._extra).length&&(e.extra=o(o({},this._extra),e.extra)),this._tags&&Object.keys(this._tags).length&&(e.tags=o(o({},this._tags),e.tags)),this._user&&Object.keys(this._user).length&&(e.user=o(o({},this._user),e.user)),this._contexts&&Object.keys(this._contexts).length&&(e.contexts=o(o({},this._contexts),e.contexts)),this._level&&(e.level=this._level),this._transactionName&&(e.transaction=this._transactionName),this._span){e.contexts=o({trace:this._span.getTraceContext()},e.contexts);var n=this._span.transaction&&this._span.transaction.name;n&&(e.tags=o({transaction:n},e.tags))}return this._applyFingerprint(e),e.breadcrumbs=[].concat(W(e.breadcrumbs||[]),W(this._breadcrumbs)),e.breadcrumbs=e.breadcrumbs.length>0?e.breadcrumbs:void 0,e.sdkProcessingMetadata=o(o({},e.sdkProcessingMetadata),this._sdkProcessingMetadata),this._notifyEventProcessors([].concat(W(sE()),W(this._eventProcessors)),e,t)}},{key:"setSDKProcessingMetadata",value:function(e){return this._sdkProcessingMetadata=o(o({},this._sdkProcessingMetadata),e),this}},{key:"_notifyEventProcessors",value:function(e,t,n){var r=this,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return new rE((function(a,s){var u=e[i];if(null===t||"function"!==typeof u)a(t);else{var c=u(o({},t),n);("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&u.id&&null===c&&tw.log('Event processor "'.concat(u.id,'" dropped event')),_w(c)?c.then((function(t){return r._notifyEventProcessors(e,t,n,i+1).then(a)})).then(null,s):r._notifyEventProcessors(e,c,n,i+1).then(a).then(null,s)}}))}},{key:"_notifyScopeListeners",value:function(){var e=this;this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach((function(t){t(e)})),this._notifyingListeners=!1)}},{key:"_applyFingerprint",value:function(e){e.fingerprint=e.fingerprint?Hw(e.fingerprint):[],this._fingerprint&&(e.fingerprint=e.fingerprint.concat(this._fingerprint)),e.fingerprint&&!e.fingerprint.length&&delete e.fingerprint}}],[{key:"clone",value:function(t){var n=new e;return t&&(n._breadcrumbs=W(t._breadcrumbs),n._tags=o({},t._tags),n._extra=o({},t._extra),n._contexts=o({},t._contexts),n._user=t._user,n._level=t._level,n._span=t._span,n._session=t._session,n._transactionName=t._transactionName,n._fingerprint=t._fingerprint,n._eventProcessors=W(t._eventProcessors),n._requestSession=t._requestSession,n._attachments=W(t._attachments),n._sdkProcessingMetadata=o({},t._sdkProcessingMetadata)),n}}]),e}();function sE(){return(0,iw.YO)("globalEventProcessors",(function(){return[]}))}function uE(e){sE().push(e)}var cE=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new oE,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4;He(this,e),this._version=r,this._stack=[{scope:n}],t&&this.bindClient(t)}return Ke(e,[{key:"isOlderThan",value:function(e){return this._version<e}},{key:"bindClient",value:function(e){this.getStackTop().client=e,e&&e.setupIntegrations&&e.setupIntegrations()}},{key:"pushScope",value:function(){var e=oE.clone(this.getScope());return this.getStack().push({client:this.getClient(),scope:e}),e}},{key:"popScope",value:function(){return!(this.getStack().length<=1)&&!!this.getStack().pop()}},{key:"withScope",value:function(e){var t=this.pushScope();try{e(t)}finally{this.popScope()}}},{key:"getClient",value:function(){return this.getStackTop().client}},{key:"getScope",value:function(){return this.getStackTop().scope}},{key:"getStack",value:function(){return this._stack}},{key:"getStackTop",value:function(){return this._stack[this._stack.length-1]}},{key:"captureException",value:function(e,t){var n=this._lastEventId=t&&t.event_id?t.event_id:Fw(),r=new Error("Sentry syntheticException");return this._withClient((function(i,a){i.captureException(e,o(o({originalException:e,syntheticException:r},t),{},{event_id:n}),a)})),n}},{key:"captureMessage",value:function(e,t,n){var r=this._lastEventId=n&&n.event_id?n.event_id:Fw(),i=new Error(e);return this._withClient((function(a,s){a.captureMessage(e,t,o(o({originalException:e,syntheticException:i},n),{},{event_id:r}),s)})),r}},{key:"captureEvent",value:function(e,t){var n=t&&t.event_id?t.event_id:Fw();return e.type||(this._lastEventId=n),this._withClient((function(r,i){r.captureEvent(e,o(o({},t),{},{event_id:n}),i)})),n}},{key:"lastEventId",value:function(){return this._lastEventId}},{key:"addBreadcrumb",value:function(e,t){var n=this.getStackTop(),r=n.scope,i=n.client;if(i){var a=i.getOptions&&i.getOptions()||{},s=a.beforeBreadcrumb,u=void 0===s?null:s,c=a.maxBreadcrumbs,l=void 0===c?100:c;if(!(l<=0)){var f=o({timestamp:(0,Jw.yW)()},e),h=u?sw((function(){return u(f,t)})):f;null!==h&&(i.emit&&i.emit("beforeAddBreadcrumb",h,t),r.addBreadcrumb(h,l))}}}},{key:"setUser",value:function(e){this.getScope().setUser(e)}},{key:"setTags",value:function(e){this.getScope().setTags(e)}},{key:"setExtras",value:function(e){this.getScope().setExtras(e)}},{key:"setTag",value:function(e,t){this.getScope().setTag(e,t)}},{key:"setExtra",value:function(e,t){this.getScope().setExtra(e,t)}},{key:"setContext",value:function(e,t){this.getScope().setContext(e,t)}},{key:"configureScope",value:function(e){var t=this.getStackTop(),n=t.scope;t.client&&e(n)}},{key:"run",value:function(e){var t=fE(this);try{e(this)}finally{fE(t)}}},{key:"getIntegration",value:function(e){var t=this.getClient();if(!t)return null;try{return t.getIntegration(e)}catch(n){return("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&tw.warn("Cannot retrieve integration ".concat(e.id," from the current Hub")),null}}},{key:"startTransaction",value:function(e,t){return this._callExtensionMethod("startTransaction",e,t)}},{key:"traceHeaders",value:function(){return this._callExtensionMethod("traceHeaders")}},{key:"captureSession",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(e)return this.endSession();this._sendSessionUpdate()}},{key:"endSession",value:function(){var e=this.getStackTop().scope,t=e.getSession();t&&function(e,t){var n={};t?n={status:t}:"ok"===e.status&&(n={status:"exited"}),aE(e,n)}(t),this._sendSessionUpdate(),e.setSession()}},{key:"startSession",value:function(e){var t=this.getStackTop(),n=t.scope,r=t.client,i=r&&r.getOptions()||{},a=i.release,s=i.environment,u=void 0===s?eE:s,c=(iw.n2.navigator||{}).userAgent,l=iE(o(o({release:a,environment:u,user:n.getUser()},c&&{userAgent:c}),e)),f=n.getSession&&n.getSession();return f&&"ok"===f.status&&aE(f,{status:"exited"}),this.endSession(),n.setSession(l),l}},{key:"shouldSendDefaultPii",value:function(){var e=this.getClient(),t=e&&e.getOptions();return Boolean(t&&t.sendDefaultPii)}},{key:"_sendSessionUpdate",value:function(){var e=this.getStackTop(),t=e.scope,n=e.client,r=t.getSession();r&&n&&n.captureSession&&n.captureSession(r)}},{key:"_withClient",value:function(e){var t=this.getStackTop(),n=t.scope,r=t.client;r&&e(r,n)}},{key:"_callExtensionMethod",value:function(e){var t=lE(),n=t.__SENTRY__;if(n&&n.extensions&&"function"===typeof n.extensions[e]){for(var r=arguments.length,i=new Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];return n.extensions[e].apply(this,i)}("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&tw.warn("Extension method ".concat(e," couldn't be found, doing nothing."))}}]),e}();function lE(){return iw.n2.__SENTRY__=iw.n2.__SENTRY__||{extensions:{},hub:void 0},iw.n2}function fE(e){var t=lE(),n=pE(t);return vE(t,e),n}function hE(){var e=lE();return dE(e)&&!pE(e).isOlderThan(4)||vE(e,new cE),(0,Zw.KV)()?function(e){try{var t=lE().__SENTRY__,n=t&&t.extensions&&t.extensions.domain&&t.extensions.domain.active;if(!n)return pE(e);if(!dE(n)||pE(n).isOlderThan(4)){var r=pE(e).getStackTop();vE(n,new cE(r.client,oE.clone(r.scope)))}return pE(n)}catch(i){return pE(e)}}(e):pE(e)}function dE(e){return!!(e&&e.__SENTRY__&&e.__SENTRY__.hub)}function pE(e){return(0,iw.YO)("hub",(function(){return new cE}),e)}function vE(e,t){return!!e&&((e.__SENTRY__=e.__SENTRY__||{}).hub=t,!0)}var mE=[];function yE(e){var t=e.defaultIntegrations||[],n=e.integrations;t.forEach((function(e){e.isDefaultInstance=!0}));var r=function(e){var t={};return e.forEach((function(e){var n=e.name,r=t[n];r&&!r.isDefaultInstance&&e.isDefaultInstance||(t[n]=e)})),Object.keys(t).map((function(e){return t[e]}))}(Array.isArray(n)?[].concat(W(t),W(n)):"function"===typeof n?Hw(n(t)):t),i=function(e,t){for(var n=0;n<e.length;n++)if(!0===t(e[n]))return n;return-1}(r,(function(e){return"Debug"===e.name}));if(-1!==i){var a=c(r.splice(i,1),1)[0];r.push(a)}return r}function gE(e,t){t[e.name]=e,-1===mE.indexOf(e.name)&&(e.setupOnce(uE,hE),mE.push(e.name),("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&tw.log("Integration installed: ".concat(e.name)))}function _E(e,t){!0===t.debug&&("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__?tw.enable():console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle."));var n=hE();n.getScope().update(t.initialScope);var r=new e(t);n.bindClient(r)}var kE=/\(error: (.*)\)/;function bE(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.sort((function(e,t){return e[0]-t[0]})).map((function(e){return e[1]}));return function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=[],i=e.split("\n"),a=t;a<i.length;a++){var o=i[a];if(!(o.length>1024)){var s,u=kE.test(o)?o.replace(kE,"$1"):o,c=qe(r);try{for(c.s();!(s=c.n()).done;){var l=s.value,f=l(u);if(f){n.push(f);break}}}catch(h){c.e(h)}finally{c.f()}if(n.length>=50)break}}return EE(n)}}function wE(e){return Array.isArray(e)?bE.apply(void 0,W(e)):e}function EE(e){if(!e.length)return[];var t=e.slice(0,50),n=t[t.length-1].function;n&&/sentryWrapped/.test(n)&&t.pop(),t.reverse();var r=t[t.length-1].function;return r&&/captureMessage|captureException/.test(r)&&t.pop(),t.map((function(e){return o(o({},e),{},{filename:e.filename||t[t.length-1].filename,function:e.function||"?"})}))}var TE="<anonymous>";function SE(e){try{return e&&"function"===typeof e&&e.name||TE}catch(t){return TE}}var xE=(0,iw.Rf)();function IE(){if(!("fetch"in xE))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch(e){return!1}}function CE(e){return e&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}var NE=(0,iw.Rf)();var RE,DE=(0,iw.Rf)(),AE={},OE={};function PE(e){if(!OE[e])switch(OE[e]=!0,e){case"console":!function(){if(!("console"in DE))return;ow.forEach((function(e){e in DE.console&&Nw(DE.console,e,(function(t){return function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];ME("console",{args:r,level:e}),t&&t.apply(DE.console,r)}}))}))}();break;case"dom":!function(){if(!("document"in DE))return;var e=ME.bind(null,"dom"),t=qE(e,!0);DE.document.addEventListener("click",t,!1),DE.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach((function(t){var n=DE[t]&&DE[t].prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&(Nw(n,"addEventListener",(function(t){return function(n,r,i){if("click"===n||"keypress"==n)try{var a=this,o=a.__sentry_instrumentation_handlers__=a.__sentry_instrumentation_handlers__||{},s=o[n]=o[n]||{refCount:0};if(!s.handler){var u=qE(e);s.handler=u,t.call(this,n,u,i)}s.refCount++}catch(c){}return t.call(this,n,r,i)}})),Nw(n,"removeEventListener",(function(e){return function(t,n,r){if("click"===t||"keypress"==t)try{var i=this,a=i.__sentry_instrumentation_handlers__||{},o=a[t];o&&(o.refCount--,o.refCount<=0&&(e.call(this,t,o.handler,r),o.handler=void 0,delete a[t]),0===Object.keys(a).length&&delete i.__sentry_instrumentation_handlers__)}catch(s){}return e.call(this,t,n,r)}})))}))}();break;case"xhr":!function(){if(!("XMLHttpRequest"in DE))return;var e=XMLHttpRequest.prototype;Nw(e,"open",(function(e){return function(){for(var t=this,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var a=r[1],o=this.__sentry_xhr__={method:pw(r[0])?r[0].toUpperCase():r[0],url:r[1],request_headers:{}};pw(a)&&"POST"===o.method&&a.match(/sentry_key/)&&(this.__sentry_own_request__=!0);var s=function(){var e=t.__sentry_xhr__;if(e&&4===t.readyState){try{e.status_code=t.status}catch(n){}ME("xhr",{args:r,endTimestamp:Date.now(),startTimestamp:Date.now(),xhr:t})}};return"onreadystatechange"in this&&"function"===typeof this.onreadystatechange?Nw(this,"onreadystatechange",(function(e){return function(){s();for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(this,n)}})):this.addEventListener("readystatechange",s),Nw(this,"setRequestHeader",(function(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n[0],a=n[1],o=this.__sentry_xhr__;return o&&(o.request_headers[i]=a),e.apply(this,n)}})),e.apply(this,r)}})),Nw(e,"send",(function(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return this.__sentry_xhr__&&void 0!==n[0]&&(this.__sentry_xhr__.body=n[0]),ME("xhr",{args:n,startTimestamp:Date.now(),xhr:this}),e.apply(this,n)}}))}();break;case"fetch":!function(){if(!function(){if(!IE())return!1;if(CE(xE.fetch))return!0;var e=!1,t=xE.document;if(t&&"function"===typeof t.createElement)try{var n=t.createElement("iframe");n.hidden=!0,t.head.appendChild(n),n.contentWindow&&n.contentWindow.fetch&&(e=CE(n.contentWindow.fetch)),t.head.removeChild(n)}catch(r){("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&tw.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",r)}return e}())return;Nw(DE,"fetch",(function(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=FE(n),a={args:n,fetchData:{method:i.method,url:i.url},startTimestamp:Date.now()};return ME("fetch",o({},a)),e.apply(DE,n).then((function(e){return ME("fetch",o(o({},a),{},{endTimestamp:Date.now(),response:e})),e}),(function(e){throw ME("fetch",o(o({},a),{},{endTimestamp:Date.now(),error:e})),e}))}}))}();break;case"history":!function(){if(!function(){var e=NE.chrome,t=e&&e.app&&e.app.runtime,n="history"in NE&&!!NE.history.pushState&&!!NE.history.replaceState;return!t&&n}())return;var e=DE.onpopstate;function t(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.length>2?n[2]:void 0;if(i){var a=RE,o=String(i);RE=o,ME("history",{from:a,to:o})}return e.apply(this,n)}}DE.onpopstate=function(){var t=DE.location.href,n=RE;if(RE=t,ME("history",{from:n,to:t}),e)try{for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e.apply(this,i)}catch(o){}},Nw(DE.history,"pushState",t),Nw(DE.history,"replaceState",t)}();break;case"error":HE=DE.onerror,DE.onerror=function(e,t,n,r,i){return ME("error",{column:r,error:i,line:n,msg:e,url:t}),!(!HE||HE.__SENTRY_LOADER__)&&HE.apply(this,arguments)},DE.onerror.__SENTRY_INSTRUMENTED__=!0;break;case"unhandledrejection":YE=DE.onunhandledrejection,DE.onunhandledrejection=function(e){return ME("unhandledrejection",e),!(YE&&!YE.__SENTRY_LOADER__)||YE.apply(this,arguments)},DE.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0;break;default:return void(("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&tw.warn("unknown instrumentation type:",e))}}function LE(e,t){AE[e]=AE[e]||[],AE[e].push(t),PE(e)}function ME(e,t){if(e&&AE[e]){var n,r=qe(AE[e]||[]);try{for(r.s();!(n=r.n()).done;){var i=n.value;try{i(t)}catch(a){("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&tw.error("Error while triggering instrumentation handler.\nType: ".concat(e,"\nName: ").concat(SE(i),"\nError:"),a)}}}catch(o){r.e(o)}finally{r.f()}}}function UE(e,t){return!!e&&"object"===typeof e&&!!e[t]}function jE(e){return"string"===typeof e?e:e?UE(e,"url")?e.url:e.toString?e.toString():"":""}function FE(e){if(0===e.length)return{method:"GET",url:""};if(2===e.length){var t=c(e,2),n=t[0],r=t[1];return{url:jE(n),method:UE(r,"method")?String(r.method).toUpperCase():"GET"}}var i=e[0];return{url:jE(i),method:UE(i,"method")?String(i.method).toUpperCase():"GET"}}var BE,VE;function zE(e,t){if(!e)return!0;if(e.type!==t.type)return!0;try{if(e.target!==t.target)return!0}catch(n){}return!1}function GE(e){if("keypress"!==e.type)return!1;try{var t=e.target;if(!t||!t.tagName)return!0;if("INPUT"===t.tagName||"TEXTAREA"===t.tagName||t.isContentEditable)return!1}catch(n){}return!0}function qE(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(n){if(n&&VE!==n&&!GE(n)){var r="keypress"===n.type?"input":n.type;(void 0===BE||zE(VE,n))&&(e({event:n,name:r,global:t}),VE=n),clearTimeout(BE),BE=DE.setTimeout((function(){BE=void 0}),1e3)}}}var HE=null;var YE=null;var KE=function(e){Xe(n,e);var t=et(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"warn";return He(this,n),(r=t.call(this,e)).message=e,r.name=(this instanceof n?this.constructor:void 0).prototype.constructor.name,Object.setPrototypeOf(We(r),(this instanceof n?this.constructor:void 0).prototype),r.logLevel=i,r}return Ke(n)}(nt(Error)),WE=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function QE(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.host,r=e.path,i=e.pass,a=e.port,o=e.projectId,s=e.protocol,u=e.publicKey;return"".concat(s,"://").concat(u).concat(t&&i?":".concat(i):"")+"@".concat(n).concat(a?":".concat(a):"","/").concat(r?"".concat(r,"/"):r).concat(o)}function XE(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function $E(e){var t="string"===typeof e?function(e){var t=WE.exec(e);if(!t)throw new KE("Invalid Sentry Dsn: ".concat(e));var n=c(t.slice(1),6),r=n[0],i=n[1],a=n[2],o=void 0===a?"":a,s=n[3],u=n[4],l=void 0===u?"":u,f="",h=n[5],d=h.split("/");if(d.length>1&&(f=d.slice(0,-1).join("/"),h=d.pop()),h){var p=h.match(/^\d+/);p&&(h=p[0])}return XE({host:s,pass:o,path:f,projectId:h,port:l,protocol:r,publicKey:i})}(e):XE(e);return function(e){if("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__){var t=e.port,n=e.projectId,r=e.protocol;if(["protocol","publicKey","host","projectId"].forEach((function(t){if(!e[t])throw new KE("Invalid Sentry Dsn: ".concat(t," missing"))})),!n.match(/^\d+$/))throw new KE("Invalid Sentry Dsn: Invalid projectId ".concat(n));if(!function(e){return"http"===e||"https"===e}(r))throw new KE("Invalid Sentry Dsn: Invalid protocol ".concat(r));if(t&&isNaN(parseInt(t,10)))throw new KE("Invalid Sentry Dsn: Invalid port ".concat(t))}}(t),t}function JE(){var e="function"===typeof WeakSet,t=e?new WeakSet:[];return[function(n){if(e)return!!t.has(n)||(t.add(n),!1);for(var r=0;r<t.length;r++){if(t[r]===n)return!0}return t.push(n),!1},function(n){if(e)t.delete(n);else for(var r=0;r<t.length;r++)if(t[r]===n){t.splice(r,1);break}}]}function ZE(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1/0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1/0;try{return tT("",e,t,n)}catch(r){return{ERROR:"**non-serializable** (".concat(r,")")}}}function eT(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:102400,r=ZE(e,t);return rT(r)>n?eT(e,t-1,n):r}function tT(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1/0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:JE(),a=c(i,2),o=a[0],s=a[1];if(null===t||["number","boolean","string"].includes(typeof t)&&!kw(t))return t;var u=nT(e,t);if(!u.startsWith("[object "))return u;if(t.__sentry_skip_normalization__)return t;var l=n;if("number"===typeof t.__sentry_override_normalization_depth__&&(l=t.__sentry_override_normalization_depth__),0===l)return u.replace("object ","");if(o(t))return"[Circular ~]";var f=t;if(f&&"function"===typeof f.toJSON)try{var h=f.toJSON();return tT("",h,l-1,r,i)}catch(g){}var d=Array.isArray(t)?[]:{},p=0,v=Ow(t);for(var m in v)if(Object.prototype.hasOwnProperty.call(v,m)){if(p>=r){d[m]="[MaxProperties ~]";break}var y=v[m];d[m]=tT(m,y,l-1,r,i),p++}return s(t),d}function nT(e,t){try{return"domain"===e&&t&&"object"===typeof t&&t._events?"[Domain]":"domainEmitter"===e?"[DomainEmitter]":"undefined"!==typeof n.g&&t===n.g?"[Global]":"undefined"!==typeof window&&t===window?"[Window]":"undefined"!==typeof document&&t===document?"[Document]":mw(r=t)&&"nativeEvent"in r&&"preventDefault"in r&&"stopPropagation"in r?"[SyntheticEvent]":"number"===typeof t&&t!==t?"[NaN]":void 0===t?"[undefined]":"function"===typeof t?"[Function: ".concat(SE(t),"]"):"symbol"===typeof t?"[".concat(String(t),"]"):"bigint"===typeof t?"[BigInt: ".concat(String(t),"]"):"[object ".concat(function(e){var t=Object.getPrototypeOf(e);return t?t.constructor.name:"null prototype"}(t),"]")}catch(i){return"**non-serializable** (".concat(i,")")}var r}function rT(e){return function(e){return~-encodeURI(e).split(/%..|./).length}(JSON.stringify(e))}function iT(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return[e,t]}function aT(e,t){var n=c(e,2),r=n[0],i=n[1];return[r,[].concat(W(i),[t])]}function oT(e,t){var n,r=qe(e[1]);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(t(i,i[0].type))return!0}}catch(a){r.e(a)}finally{r.f()}return!1}function sT(e,t){return(t||new TextEncoder).encode(e)}function uT(e,t){var n=c(e,2),r=n[0],i=n[1],a=JSON.stringify(r);function o(e){"string"===typeof a?a="string"===typeof e?a+e:[sT(a,t),e]:a.push("string"===typeof e?sT(e,t):e)}var s,u=qe(i);try{for(u.s();!(s=u.n()).done;){var l=c(s.value,2),f=l[0],h=l[1];if(o("\n".concat(JSON.stringify(f),"\n")),"string"===typeof h||h instanceof Uint8Array)o(h);else{var d=void 0;try{d=JSON.stringify(h)}catch(p){d=JSON.stringify(ZE(h))}o(d)}}}catch(v){u.e(v)}finally{u.f()}return"string"===typeof a?a:function(e){var t,n=e.reduce((function(e,t){return e+t.length}),0),r=new Uint8Array(n),i=0,a=qe(e);try{for(a.s();!(t=a.n()).done;){var o=t.value;r.set(o,i),i+=o.length}}catch(v){a.e(v)}finally{a.f()}return r}(a)}function cT(e,t){var n="string"===typeof e.data?sT(e.data,t):e.data;return[Uw({type:"attachment",length:n.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType}),n]}var lT={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",replay_event:"replay",replay_recording:"replay"};function fT(e){return lT[e]}function hT(e){if(e&&e.sdk){var t=e.sdk;return{name:t.name,version:t.version}}}function dT(e){var t=e.protocol?"".concat(e.protocol,":"):"",n=e.port?":".concat(e.port):"";return"".concat(t,"//").concat(e.host).concat(n).concat(e.path?"/".concat(e.path):"","/api/")}function pT(e){return"".concat(dT(e)).concat(e.projectId,"/envelope/")}function vT(e,t){return n=o({sentry_key:e.publicKey,sentry_version:"7"},t&&{sentry_client:"".concat(t.name,"/").concat(t.version)}),Object.keys(n).map((function(e){return"".concat(encodeURIComponent(e),"=").concat(encodeURIComponent(n[e]))})).join("&");var n}function mT(e,t,n,r){var i=hT(n),a=e.type&&"replay_event"!==e.type?e.type:"event";!function(e,t){t&&(e.sdk=e.sdk||{},e.sdk.name=e.sdk.name||t.name,e.sdk.version=e.sdk.version||t.version,e.sdk.integrations=[].concat(W(e.sdk.integrations||[]),W(t.integrations||[])),e.sdk.packages=[].concat(W(e.sdk.packages||[]),W(t.packages||[])))}(e,n&&n.sdk);var s=function(e,t,n,r){var i=e.sdkProcessingMetadata&&e.sdkProcessingMetadata.dynamicSamplingContext;return o(o(o({event_id:e.event_id,sent_at:(new Date).toISOString()},t&&{sdk:t}),!!n&&{dsn:QE(r)}),"transaction"===e.type&&i&&{trace:Uw(o({},i))})}(e,i,r,t);return delete e.sdkProcessingMetadata,iT(s,[[{type:a},e]])}function yT(e,t,n,r){var i=e.normalizeDepth,a=void 0===i?3:i,s=e.normalizeMaxBreadth,u=void 0===s?1e3:s,c=o(o({},t),{},{event_id:t.event_id||n.event_id||Fw(),timestamp:t.timestamp||(0,Jw.yW)()}),l=n.integrations||e.integrations.map((function(e){return e.name}));!function(e,t){var n=t.environment,r=t.release,i=t.dist,a=t.maxValueLength,o=void 0===a?250:a;"environment"in e||(e.environment="environment"in t?n:eE);void 0===e.release&&void 0!==r&&(e.release=r);void 0===e.dist&&void 0!==i&&(e.dist=i);e.message&&(e.message=Sw(e.message,o));var s=e.exception&&e.exception.values&&e.exception.values[0];s&&s.value&&(s.value=Sw(s.value,o));var u=e.request;u&&u.url&&(u.url=Sw(u.url,o))}(c,e),function(e,t){t.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=[].concat(W(e.sdk.integrations||[]),W(t)))}(c,l),function(e,t){var n=iw.n2._sentryDebugIds;if(!n)return;var r=Object.keys(n).reduce((function(e,r){for(var i=t(r),a=i.length-1;a>=0;a--){var o=i[a];if(o.filename){e[o.filename]=n[r];break}}return e}),{}),i=new Set;try{e.exception.values.forEach((function(e){e.stacktrace.frames.forEach((function(e){e.filename&&i.add(e.filename)}))}))}catch(o){}e.debug_meta=e.debug_meta||{},e.debug_meta.images=e.debug_meta.images||[];var a=e.debug_meta.images;i.forEach((function(e){r[e]&&a.push({type:"sourcemap",code_file:e,debug_id:r[e]})}))}(c,e.stackParser);var f=r;n.captureContext&&(f=oE.clone(f).update(n.captureContext));var h=tE(c);if(f){if(f.getAttachments){var d=[].concat(W(n.attachments||[]),W(f.getAttachments()));d.length&&(n.attachments=d)}h=f.applyToEvent(c,n)}return h.then((function(e){return"number"===typeof a&&a>0?function(e,t,n){if(!e)return null;var r=o(o(o(o(o({},e),e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map((function(e){return o(o({},e),e.data&&{data:ZE(e.data,t,n)})}))}),e.user&&{user:ZE(e.user,t,n)}),e.contexts&&{contexts:ZE(e.contexts,t,n)}),e.extra&&{extra:ZE(e.extra,t,n)});e.contexts&&e.contexts.trace&&r.contexts&&(r.contexts.trace=e.contexts.trace,e.contexts.trace.data&&(r.contexts.trace.data=ZE(e.contexts.trace.data,t,n)));e.spans&&(r.spans=e.spans.map((function(e){return e.data&&(e.data=ZE(e.data,t,n)),e})));return r}(e,a,u):e}))}var gT="Not capturing exception because it's already been captured.",_T=function(){function e(t){if(He(this,e),e.prototype.__init.call(this),e.prototype.__init2.call(this),e.prototype.__init3.call(this),e.prototype.__init4.call(this),e.prototype.__init5.call(this),this._options=t,t.dsn){this._dsn=$E(t.dsn);var n=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n="string"===typeof t?t:t.tunnel,r="string"!==typeof t&&t._metadata?t._metadata.sdk:void 0;return n||"".concat(pT(e),"?").concat(vT(e,r))}(this._dsn,t);this._transport=t.transport(o(o({recordDroppedEvent:this.recordDroppedEvent.bind(this)},t.transportOptions),{},{url:n}))}else("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&tw.warn("No DSN provided, client will not do anything.")}return Ke(e,[{key:"__init",value:function(){this._integrations={}}},{key:"__init2",value:function(){this._integrationsInitialized=!1}},{key:"__init3",value:function(){this._numProcessing=0}},{key:"__init4",value:function(){this._outcomes={}}},{key:"__init5",value:function(){this._hooks={}}},{key:"captureException",value:function(e,t,n){var r=this;if(!qw(e)){var i=t&&t.event_id;return this._process(this.eventFromException(e,t).then((function(e){return r._captureEvent(e,t,n)})).then((function(e){i=e}))),i}("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&tw.log(gT)}},{key:"captureMessage",value:function(e,t,n,r){var i=this,a=n&&n.event_id,o=vw(e)?this.eventFromMessage(String(e),t,n):this.eventFromException(e,n);return this._process(o.then((function(e){return i._captureEvent(e,n,r)})).then((function(e){a=e}))),a}},{key:"captureEvent",value:function(e,t,n){if(!(t&&t.originalException&&qw(t.originalException))){var r=t&&t.event_id;return this._process(this._captureEvent(e,t,n).then((function(e){r=e}))),r}("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&tw.log(gT)}},{key:"captureSession",value:function(e){this._isEnabled()?"string"!==typeof e.release?("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&tw.warn("Discarded session because of missing or non-string release"):(this.sendSession(e),aE(e,{init:!1})):("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&tw.warn("SDK not enabled, will not capture session.")}},{key:"getDsn",value:function(){return this._dsn}},{key:"getOptions",value:function(){return this._options}},{key:"getSdkMetadata",value:function(){return this._options._metadata}},{key:"getTransport",value:function(){return this._transport}},{key:"flush",value:function(e){var t=this._transport;return t?this._isClientDoneProcessing(e).then((function(n){return t.flush(e).then((function(e){return n&&e}))})):tE(!0)}},{key:"close",value:function(e){var t=this;return this.flush(e).then((function(e){return t.getOptions().enabled=!1,e}))}},{key:"setupIntegrations",value:function(){this._isEnabled()&&!this._integrationsInitialized&&(this._integrations=function(e){var t={};return e.forEach((function(e){e&&gE(e,t)})),t}(this._options.integrations),this._integrationsInitialized=!0)}},{key:"getIntegrationById",value:function(e){return this._integrations[e]}},{key:"getIntegration",value:function(e){try{return this._integrations[e.id]||null}catch(t){return("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&tw.warn("Cannot retrieve integration ".concat(e.id," from the current Client")),null}}},{key:"addIntegration",value:function(e){gE(e,this._integrations)}},{key:"sendEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._dsn){var r,i=mT(e,this._dsn,this._options._metadata,this._options.tunnel),a=qe(n.attachments||[]);try{for(a.s();!(r=a.n()).done;){var o=r.value;i=aT(i,cT(o,this._options.transportOptions&&this._options.transportOptions.textEncoder))}}catch(u){a.e(u)}finally{a.f()}var s=this._sendEnvelope(i);s&&s.then((function(n){return t.emit("afterSendEvent",e,n)}),null)}}},{key:"sendSession",value:function(e){if(this._dsn){var t=function(e,t,n,r){var i=hT(n);return iT(o(o({sent_at:(new Date).toISOString()},i&&{sdk:i}),!!r&&{dsn:QE(t)}),["aggregates"in e?[{type:"sessions"},e]:[{type:"session"},e]])}(e,this._dsn,this._options._metadata,this._options.tunnel);this._sendEnvelope(t)}}},{key:"recordDroppedEvent",value:function(e,t,n){if(this._options.sendClientReports){var r="".concat(e,":").concat(t);("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&tw.log('Adding outcome: "'.concat(r,'"')),this._outcomes[r]=this._outcomes[r]+1||1}}},{key:"on",value:function(e,t){this._hooks[e]||(this._hooks[e]=[]),this._hooks[e].push(t)}},{key:"emit",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this._hooks[e]&&this._hooks[e].forEach((function(e){return e.apply(void 0,n)}))}},{key:"_updateSessionFromEvent",value:function(e,t){var n=!1,r=!1,i=t.exception&&t.exception.values;if(i){r=!0;var a,s=qe(i);try{for(s.s();!(a=s.n()).done;){var u=a.value.mechanism;if(u&&!1===u.handled){n=!0;break}}}catch(l){s.e(l)}finally{s.f()}}var c="ok"===e.status;(c&&0===e.errors||c&&n)&&(aE(e,o(o({},n&&{status:"crashed"}),{},{errors:e.errors||Number(r||n)})),this.captureSession(e))}},{key:"_isClientDoneProcessing",value:function(e){var t=this;return new rE((function(n){var r=0,i=setInterval((function(){0==t._numProcessing?(clearInterval(i),n(!0)):(r+=1,e&&r>=e&&(clearInterval(i),n(!1)))}),1)}))}},{key:"_isEnabled",value:function(){return!1!==this.getOptions().enabled&&void 0!==this._dsn}},{key:"_prepareEvent",value:function(e,t,n){var r=this.getOptions(),i=Object.keys(this._integrations);return!t.integrations&&i.length>0&&(t.integrations=i),yT(r,e,t,n)}},{key:"_captureEvent",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return this._processEvent(e,t,n).then((function(e){return e.event_id}),(function(e){if("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__){var t=e;"log"===t.logLevel?tw.log(t.message):tw.warn(t)}}))}},{key:"_processEvent",value:function(e,t,n){var r=this,i=this.getOptions(),a=i.sampleRate;if(!this._isEnabled())return nE(new KE("SDK not enabled, will not capture event.","log"));var s=bT(e),u=kT(e),c=e.type||"error",l="before send for type `".concat(c,"`");if(u&&"number"===typeof a&&Math.random()>a)return this.recordDroppedEvent("sample_rate","error",e),nE(new KE("Discarding event because it's not included in the random sample (sampling rate = ".concat(a,")"),"log"));var f="replay_event"===c?"replay":c;return this._prepareEvent(e,t,n).then((function(n){if(null===n)throw r.recordDroppedEvent("event_processor",f,e),new KE("An event processor returned `null`, will not send event.","log");if(t.data&&!0===t.data.__sentry__)return n;var a=function(e,t,n){var r=e.beforeSend,i=e.beforeSendTransaction;if(kT(t)&&r)return r(t,n);if(bT(t)&&i)return i(t,n);return t}(i,n,t);return function(e,t){var n="".concat(t," must return `null` or a valid event.");if(_w(e))return e.then((function(e){if(!mw(e)&&null!==e)throw new KE(n);return e}),(function(e){throw new KE("".concat(t," rejected with ").concat(e))}));if(!mw(e)&&null!==e)throw new KE(n);return e}(a,l)})).then((function(i){if(null===i)throw r.recordDroppedEvent("before_send",f,e),new KE("".concat(l," returned `null`, will not send event."),"log");var a=n&&n.getSession();!s&&a&&r._updateSessionFromEvent(a,i);var u=i.transaction_info;if(s&&u&&i.transaction!==e.transaction){i.transaction_info=o(o({},u),{},{source:"custom"})}return r.sendEvent(i,t),i})).then(null,(function(e){if(e instanceof KE)throw e;throw r.captureException(e,{data:{__sentry__:!0},originalException:e}),new KE("Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.\nReason: ".concat(e))}))}},{key:"_process",value:function(e){var t=this;this._numProcessing++,e.then((function(e){return t._numProcessing--,e}),(function(e){return t._numProcessing--,e}))}},{key:"_sendEnvelope",value:function(e){if(this._transport&&this._dsn)return this.emit("beforeEnvelope",e),this._transport.send(e).then(null,(function(e){("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&tw.error("Error while sending event:",e)}));("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&tw.error("Transport disabled")}},{key:"_clearOutcomes",value:function(){var e=this._outcomes;return this._outcomes={},Object.keys(e).map((function(t){var n=c(t.split(":"),2);return{reason:n[0],category:n[1],quantity:e[t]}}))}}]),e}();function kT(e){return void 0===e.type}function bT(e){return"transaction"===e.type}var wT=n(900);function ET(e,t){var n=ST(e,t),r={type:t&&t.name,value:IT(t)};return n.length&&(r.stacktrace={frames:n}),void 0===r.type&&""===r.value&&(r.value="Unrecoverable error caught"),r}function TT(e,t){return{exception:{values:[ET(e,t)]}}}function ST(e,t){var n=t.stacktrace||t.stack||"",r=function(e){if(e){if("number"===typeof e.framesToPop)return e.framesToPop;if(xT.test(e.message))return 1}return 0}(t);try{return e(n,r)}catch(i){}return[]}var xT=/Minified React error #\d+;/i;function IT(e){var t=e&&e.message;return t?t.error&&"string"===typeof t.error.message?t.error.message:t:"No error message"}function CT(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"info",r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0,a=r&&r.syntheticException||void 0,o=RT(e,t,a,i);return o.level=n,r&&r.event_id&&(o.event_id=r.event_id),tE(o)}function NT(e,t,n,r,i){var a;if(hw(t)&&t.error)return TT(e,t.error);if(dw(t)||fw(t,"DOMException")){var s=t;if("stack"in t)a=TT(e,t);else{var u=s.name||(dw(s)?"DOMError":"DOMException"),c=s.message?"".concat(u,": ").concat(s.message):u;zw(a=RT(e,c,n,r),c)}return"code"in s&&(a.tags=o(o({},a.tags),{},{"DOMException.code":"".concat(s.code)})),a}return lw(t)?TT(e,t):mw(t)||yw(t)?(a=function(e,t,n,r){var i=hE().getClient(),a=i&&i.getOptions().normalizeDepth,o={exception:{values:[{type:yw(t)?t.constructor.name:r?"UnhandledRejection":"Error",value:"Non-Error ".concat(r?"promise rejection":"exception"," captured with keys: ").concat(Mw(t))}]},extra:{__serialized__:eT(t,a)}};if(n){var s=ST(e,n);s.length&&(o.exception.values[0].stacktrace={frames:s})}return o}(e,t,n,i),Gw(a,{synthetic:!0}),a):(zw(a=RT(e,t,n,r),"".concat(t),void 0),Gw(a,{synthetic:!0}),a)}function RT(e,t,n,r){var i={message:t};if(r&&n){var a=ST(e,n);a.length&&(i.exception={values:[{value:t,stacktrace:{frames:a}}]})}return i}function DT(e,t){return hE().captureException(e,{captureContext:t})}function AT(e){hE().withScope(e)}var OT=iw.n2,PT=0;function LT(){return PT>0}function MT(){PT++,setTimeout((function(){PT--}))}function UT(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;if("function"!==typeof e)return e;try{var r=e.__sentry_wrapped__;if(r)return r;if(Aw(e))return e}catch(u){return e}var i=function(){var r=Array.prototype.slice.call(arguments);try{n&&"function"===typeof n&&n.apply(this,arguments);var i=r.map((function(e){return UT(e,t)}));return e.apply(this,i)}catch(a){throw MT(),AT((function(e){e.addEventProcessor((function(e){return t.mechanism&&(zw(e,void 0,void 0),Gw(e,t.mechanism)),e.extra=o(o({},e.extra),{},{arguments:r}),e})),DT(a)})),a}};try{for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(i[a]=e[a])}catch(c){}Dw(i,e),Rw(e,"__sentry_wrapped__",i);try{var s=Object.getOwnPropertyDescriptor(i,"name");s.configurable&&Object.defineProperty(i,"name",{get:function(){return e.name}})}catch(c){}return i}var jT=["fatal","error","warning","log","info","debug"];function FT(e){return"warn"===e?"warning":jT.includes(e)?e:"log"}function BT(e){if(!e)return{};var t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};var n=t[6]||"",r=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],search:n,hash:r,relative:t[5]+n+r}}var VT=1024,zT="Breadcrumbs",GT=function(){function e(t){He(this,e),e.prototype.__init.call(this),this.options=o({console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0},t)}return Ke(e,[{key:"__init",value:function(){this.name=e.id}},{key:"setupOnce",value:function(){this.options.console&&LE("console",qT),this.options.dom&&LE("dom",function(e){function t(t){var n,r="object"===typeof e?e.serializeAttribute:void 0,i="object"===typeof e&&"number"===typeof e.maxStringLength?e.maxStringLength:void 0;i&&i>VT&&(("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&tw.warn("`dom.maxStringLength` cannot exceed ".concat(VT,", but a value of ").concat(i," was configured. Sentry will use ").concat(VT," instead.")),i=VT),"string"===typeof r&&(r=[r]);try{var a=t.event;n=function(e){return e&&!!e.target}(a)?Ew(a.target,{keyAttrs:r,maxStringLength:i}):Ew(a,{keyAttrs:r,maxStringLength:i})}catch(o){n="<unknown>"}0!==n.length&&hE().addBreadcrumb({category:"ui.".concat(t.name),message:n},{event:t.event,name:t.name,global:t.global})}return t}(this.options.dom)),this.options.xhr&&LE("xhr",HT),this.options.fetch&&LE("fetch",YT),this.options.history&&LE("history",KT)}},{key:"addSentryBreadcrumb",value:function(e){this.options.sentry&&hE().addBreadcrumb({category:"sentry.".concat("transaction"===e.type?"transaction":"event"),event_id:e.event_id,level:e.level,message:Vw(e)},{event:e})}}],[{key:"__initStatic",value:function(){this.id=zT}}]),e}();function qT(e){for(var t=0;t<e.args.length;t++)if("ref=Ref<"===e.args[t]){e.args[t+1]="viewRef";break}var n={category:"console",data:{arguments:e.args,logger:"console"},level:FT(e.level),message:xw(e.args," ")};if("assert"===e.level){if(!1!==e.args[0])return;n.message="Assertion failed: ".concat(xw(e.args.slice(1)," ")||"console.assert"),n.data.arguments=e.args.slice(1)}hE().addBreadcrumb(n,{input:e.args,level:e.level})}function HT(e){var t=e.startTimestamp,n=e.endTimestamp;if(t&&n&&e.xhr.__sentry_xhr__){var r=e.xhr.__sentry_xhr__,i=r.method,a=r.url,o=r.status_code,s=r.body,u={method:i,url:a,status_code:o},c={xhr:e.xhr,input:s,startTimestamp:t,endTimestamp:n};hE().addBreadcrumb({category:"xhr",data:u,type:"http"},c)}}function YT(e){var t=e.startTimestamp,n=e.endTimestamp;if(n&&(!e.fetchData.url.match(/sentry_key/)||"POST"!==e.fetchData.method))if(e.error){var r=e.fetchData,i={data:e.error,input:e.args,startTimestamp:t,endTimestamp:n};hE().addBreadcrumb({category:"fetch",data:r,level:"error",type:"http"},i)}else{var a=o(o({},e.fetchData),{},{status_code:e.response&&e.response.status}),s={input:e.args,response:e.response,startTimestamp:t,endTimestamp:n};hE().addBreadcrumb({category:"fetch",data:a,type:"http"},s)}}function KT(e){var t=e.from,n=e.to,r=BT(OT.location.href),i=BT(t),a=BT(n);i.path||(i=r),r.protocol===a.protocol&&r.host===a.host&&(n=a.relative),r.protocol===i.protocol&&r.host===i.host&&(t=i.relative),hE().addBreadcrumb({category:"navigation",data:{from:t,to:n}})}GT.__initStatic();var WT=function(e){Xe(n,e);var t=et(n);function n(e){var r;He(this,n);var i=OT.SENTRY_SDK_SOURCE||(0,wT.S)();return e._metadata=e._metadata||{},e._metadata.sdk=e._metadata.sdk||{name:"sentry.javascript.browser",packages:[{name:"".concat(i,":@sentry/browser"),version:rw}],version:rw},r=t.call(this,e),e.sendClientReports&&OT.document&&OT.document.addEventListener("visibilitychange",(function(){"hidden"===OT.document.visibilityState&&r._flushOutcomes()})),r}return Ke(n,[{key:"eventFromException",value:function(e,t){return function(e,t,n,r){var i=NT(e,t,n&&n.syntheticException||void 0,r);return Gw(i),i.level="error",n&&n.event_id&&(i.event_id=n.event_id),tE(i)}(this._options.stackParser,e,t,this._options.attachStacktrace)}},{key:"eventFromMessage",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info",n=arguments.length>2?arguments[2]:void 0;return CT(this._options.stackParser,e,t,n,this._options.attachStacktrace)}},{key:"sendEvent",value:function(e,t){var r=this.getIntegrationById(zT);r&&r.addSentryBreadcrumb&&r.addSentryBreadcrumb(e),Vn($e(n.prototype),"sendEvent",this).call(this,e,t)}},{key:"captureUserFeedback",value:function(e){if(this._isEnabled()){var t=function(e,t){var n=t.metadata,r=t.tunnel,i=t.dsn,a=o(o({event_id:e.event_id,sent_at:(new Date).toISOString()},n&&n.sdk&&{sdk:{name:n.sdk.name,version:n.sdk.version}}),!!r&&!!i&&{dsn:QE(i)}),s=function(e){return[{type:"user_report"},e]}(e);return iT(a,[s])}(e,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this._sendEnvelope(t)}else("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&tw.warn("SDK not enabled, will not capture user feedback.")}},{key:"_prepareEvent",value:function(e,t,r){return e.platform=e.platform||"javascript",Vn($e(n.prototype),"_prepareEvent",this).call(this,e,t,r)}},{key:"_flushOutcomes",value:function(){var e=this._clearOutcomes();if(0!==e.length)if(this._dsn){("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&tw.log("Sending outcomes:",e);var t,n,r,i=(t=e,iT((n=this._options.tunnel&&QE(this._dsn))?{dsn:n}:{},[[{type:"client_report"},{timestamp:r||(0,Jw.yW)(),discarded_events:t}]]));this._sendEnvelope(i)}else("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&tw.log("No dsn provided, will not send outcomes");else("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&tw.log("No outcomes to send")}}]),n}(_T),QT=function(){function e(t){He(this,e),e.prototype.__init.call(this),e.prototype.__init2.call(this),this._options=o({onerror:!0,onunhandledrejection:!0},t)}return Ke(e,[{key:"__init",value:function(){this.name=e.id}},{key:"__init2",value:function(){this._installFunc={onerror:XT,onunhandledrejection:$T}}},{key:"setupOnce",value:function(){Error.stackTraceLimit=50;var e,t=this._options;for(var n in t){var r=this._installFunc[n];r&&t[n]&&(e=n,("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&tw.log("Global Handler attached: ".concat(e)),r(),this._installFunc[n]=void 0)}}}],[{key:"__initStatic",value:function(){this.id="GlobalHandlers"}}]),e}();function XT(){LE("error",(function(e){var t=c(eS(),3),n=t[0],r=t[1],i=t[2];if(n.getIntegration(QT)){var a=e.msg,o=e.url,s=e.line,u=e.column,l=e.error;if(!(LT()||l&&l.__sentry_own_request__)){var f=void 0===l&&pw(a)?function(e,t,n,r){var i=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i,a=hw(e)?e.message:e,o="Error",s=a.match(i);s&&(o=s[1],a=s[2]);return JT({exception:{values:[{type:o,value:a}]}},t,n,r)}(a,o,s,u):JT(NT(r,l||a,void 0,i,!1),o,s,u);f.level="error",ZT(n,l,f,"onerror")}}}))}function $T(){LE("unhandledrejection",(function(e){var t=c(eS(),3),n=t[0],r=t[1],i=t[2];if(n.getIntegration(QT)){var a=e;try{"reason"in e?a=e.reason:"detail"in e&&"reason"in e.detail&&(a=e.detail.reason)}catch(s){}if(LT()||a&&a.__sentry_own_request__)return!0;var o=vw(a)?{exception:{values:[{type:"UnhandledRejection",value:"Non-Error promise rejection captured with value: ".concat(String(a))}]}}:NT(r,a,void 0,i,!0);o.level="error",ZT(n,a,o,"onunhandledrejection")}}))}function JT(e,t,n,r){var i=e.exception=e.exception||{},a=i.values=i.values||[],o=a[0]=a[0]||{},s=o.stacktrace=o.stacktrace||{},u=s.frames=s.frames||[],c=isNaN(parseInt(r,10))?void 0:r,l=isNaN(parseInt(n,10))?void 0:n,f=pw(t)&&t.length>0?t:function(){try{return ww.document.location.href}catch(e){return""}}();return 0===u.length&&u.push({colno:c,filename:f,function:"?",in_app:!0,lineno:l}),e}function ZT(e,t,n,r){Gw(n,{handled:!1,type:r}),e.captureEvent(n,{originalException:t})}function eS(){var e=hE(),t=e.getClient(),n=t&&t.getOptions()||{stackParser:function(){return[]},attachStacktrace:!1};return[e,n.stackParser,n.attachStacktrace]}QT.__initStatic();var tS=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],nS=function(){function e(t){He(this,e),e.prototype.__init.call(this),this._options=o({XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0},t)}return Ke(e,[{key:"__init",value:function(){this.name=e.id}},{key:"setupOnce",value:function(){this._options.setTimeout&&Nw(OT,"setTimeout",rS),this._options.setInterval&&Nw(OT,"setInterval",rS),this._options.requestAnimationFrame&&Nw(OT,"requestAnimationFrame",iS),this._options.XMLHttpRequest&&"XMLHttpRequest"in OT&&Nw(XMLHttpRequest.prototype,"send",aS);var e=this._options.eventTarget;e&&(Array.isArray(e)?e:tS).forEach(oS)}}],[{key:"__initStatic",value:function(){this.id="TryCatch"}}]),e}();function rS(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n[0];return n[0]=UT(i,{mechanism:{data:{function:SE(e)},handled:!0,type:"instrument"}}),e.apply(this,n)}}function iS(e){return function(t){return e.apply(this,[UT(t,{mechanism:{data:{function:"requestAnimationFrame",handler:SE(e)},handled:!0,type:"instrument"}})])}}function aS(e){return function(){var t=this,n=["onload","onerror","onprogress","onreadystatechange"];n.forEach((function(e){e in t&&"function"===typeof t[e]&&Nw(t,e,(function(t){var n={mechanism:{data:{function:e,handler:SE(t)},handled:!0,type:"instrument"}},r=Aw(t);return r&&(n.mechanism.data.handler=SE(r)),UT(t,n)}))}));for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e.apply(this,i)}}function oS(e){var t=OT,n=t[e]&&t[e].prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&(Nw(n,"addEventListener",(function(t){return function(n,r,i){try{"function"===typeof r.handleEvent&&(r.handleEvent=UT(r.handleEvent,{mechanism:{data:{function:"handleEvent",handler:SE(r),target:e},handled:!0,type:"instrument"}}))}catch(a){}return t.apply(this,[n,UT(r,{mechanism:{data:{function:"addEventListener",handler:SE(r),target:e},handled:!0,type:"instrument"}}),i])}})),Nw(n,"removeEventListener",(function(e){return function(t,n,r){var i=n;try{var a=i&&i.__sentry_wrapped__;a&&e.call(this,t,a,r)}catch(o){}return e.call(this,t,i,r)}})))}nS.__initStatic();var sS="cause",uS=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};He(this,e),e.prototype.__init.call(this),this._key=t.key||sS,this._limit=t.limit||5}return Ke(e,[{key:"__init",value:function(){this.name=e.id}},{key:"setupOnce",value:function(){var t=hE().getClient();t&&uE((function(n,r){var i=hE().getIntegration(e);return i?function(e,t,n,r,i){if(!r.exception||!r.exception.values||!i||!bw(i.originalException,Error))return r;var a=cS(e,n,i.originalException,t);return r.exception.values=[].concat(W(a),W(r.exception.values)),r}(t.getOptions().stackParser,i._key,i._limit,n,r):n}))}}],[{key:"__initStatic",value:function(){this.id="LinkedErrors"}}]),e}();function cS(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];if(!bw(n[r],Error)||i.length+1>=t)return i;var a=ET(e,n[r]);return cS(e,t,n[r],r,[a].concat(W(i)))}uS.__initStatic();var lS=function(){function e(){He(this,e),e.prototype.__init.call(this)}return Ke(e,[{key:"__init",value:function(){this.name=e.id}},{key:"setupOnce",value:function(){uE((function(t){if(hE().getIntegration(e)){if(!OT.navigator&&!OT.location&&!OT.document)return t;var n=t.request&&t.request.url||OT.location&&OT.location.href,r=(OT.document||{}).referrer,i=(OT.navigator||{}).userAgent,a=o(o(o({},t.request&&t.request.headers),r&&{Referer:r}),i&&{"User-Agent":i}),s=o(o(o({},t.request),n&&{url:n}),{},{headers:a});return o(o({},t),{},{request:s})}return t}))}}],[{key:"__initStatic",value:function(){this.id="HttpContext"}}]),e}();lS.__initStatic();var fS=function(){function e(){He(this,e),e.prototype.__init.call(this)}return Ke(e,[{key:"__init",value:function(){this.name=e.id}},{key:"setupOnce",value:function(t,n){var r=function(t){if(t.type)return t;var r=n().getIntegration(e);if(r){try{if(function(e,t){if(!t)return!1;if(function(e,t){var n=e.message,r=t.message;if(!n&&!r)return!1;if(n&&!r||!n&&r)return!1;if(n!==r)return!1;if(!dS(e,t))return!1;if(!hS(e,t))return!1;return!0}(e,t))return!0;if(function(e,t){var n=pS(t),r=pS(e);if(!n||!r)return!1;if(n.type!==r.type||n.value!==r.value)return!1;if(!dS(e,t))return!1;if(!hS(e,t))return!1;return!0}(e,t))return!0;return!1}(t,r._previousEvent))return("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&tw.warn("Event dropped due to being a duplicate of previously captured event."),null}catch(i){return r._previousEvent=t}return r._previousEvent=t}return t};r.id=this.name,t(r)}}],[{key:"__initStatic",value:function(){this.id="Dedupe"}}]),e}();function hS(e,t){var n=vS(e),r=vS(t);if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;if(r.length!==n.length)return!1;for(var i=0;i<r.length;i++){var a=r[i],o=n[i];if(a.filename!==o.filename||a.lineno!==o.lineno||a.colno!==o.colno||a.function!==o.function)return!1}return!0}function dS(e,t){var n=e.fingerprint,r=t.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;try{return!(n.join("")!==r.join(""))}catch(i){return!1}}function pS(e){return e.exception&&e.exception.values&&e.exception.values[0]}function vS(e){var t=e.exception;if(t)try{return t.values[0].stacktrace.frames}catch(n){return}}fS.__initStatic();var mS="?";function yS(e,t,n,r){var i={filename:e,function:t,in_app:!0};return void 0!==n&&(i.lineno=n),void 0!==r&&(i.colno=r),i}var gS=/^\s*at (?:(.*\).*?|.*?) ?\((?:address at )?)?(?:async )?((?:file|https?|blob|chrome-extension|address|native|eval|webpack|<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,_S=/\((\S*)(?::(\d+))(?::(\d+))\)/,kS=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:file|https?|blob|chrome|webpack|resource|moz-extension|safari-extension|safari-web-extension|capacitor)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,bS=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,wS=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,ES=[[30,function(e){var t=gS.exec(e);if(t){if(t[2]&&0===t[2].indexOf("eval")){var n=_S.exec(t[2]);n&&(t[2]=n[1],t[3]=n[2],t[4]=n[3])}var r=c(SS(t[1]||mS,t[2]),2),i=r[0];return yS(r[1],i,t[3]?+t[3]:void 0,t[4]?+t[4]:void 0)}}],[50,function(e){var t=kS.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){var n=bS.exec(t[3]);n&&(t[1]=t[1]||"eval",t[3]=n[1],t[4]=n[2],t[5]="")}var r=t[3],i=t[1]||mS,a=c(SS(i,r),2);return i=a[0],yS(r=a[1],i,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}}],[40,function(e){var t=wS.exec(e);return t?yS(t[2],t[1]||mS,+t[3],t[4]?+t[4]:void 0):void 0}]],TS=bE.apply(void 0,ES),SS=function(e,t){var n=-1!==e.indexOf("safari-extension"),r=-1!==e.indexOf("safari-web-extension");return n||r?[-1!==e.indexOf("@")?e.split("@")[0]:mS,n?"safari-extension:".concat(t):"safari-web-extension:".concat(t)]:[e,t]};function xS(e){var t=[];function n(e){return t.splice(t.indexOf(e),1)[0]}return{$:t,add:function(r){if(!(void 0===e||t.length<e))return nE(new KE("Not adding Promise because buffer limit was reached."));var i=r();return-1===t.indexOf(i)&&t.push(i),i.then((function(){return n(i)})).then(null,(function(){return n(i).then(null,(function(){}))})),i},drain:function(e){return new rE((function(n,r){var i=t.length;if(!i)return n(!0);var a=setTimeout((function(){e&&e>0&&n(!1)}),e);t.forEach((function(e){tE(e).then((function(){--i||(clearTimeout(a),n(!0))}),r)}))}))}}}function IS(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now(),n=parseInt("".concat(e),10);if(!isNaN(n))return 1e3*n;var r=Date.parse("".concat(e));return isNaN(r)?6e4:r-t}function CS(e,t){return e[t]||e.all||0}function NS(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Date.now();return CS(e,t)>n}function RS(e,t){var n=t.statusCode,r=t.headers,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Date.now(),a=o({},e),s=r&&r["x-sentry-rate-limits"],u=r&&r["retry-after"];if(s){var l,f=qe(s.trim().split(","));try{for(f.s();!(l=f.n()).done;){var h=l.value,d=h.split(":",2),p=c(d,2),v=p[0],m=p[1],y=parseInt(v,10),g=1e3*(isNaN(y)?60:y);if(m){var _,k=qe(m.split(";"));try{for(k.s();!(_=k.n()).done;){var b=_.value;a[b]=i+g}}catch(w){k.e(w)}finally{k.f()}}else a.all=i+g}}catch(w){f.e(w)}finally{f.f()}}else u?a.all=i+IS(u,i):429===n&&(a.all=i+6e4);return a}function DS(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:xS(e.bufferSize||30),r={},i=function(e){return n.drain(e)};function a(i){var a=[];if(oT(i,(function(t,n){var i=fT(n);if(NS(r,i)){var o=AS(t,n);e.recordDroppedEvent("ratelimit_backoff",i,o)}else a.push(t)})),0===a.length)return tE();var o=iT(i[0],a),s=function(t){oT(o,(function(n,r){var i=AS(n,r);e.recordDroppedEvent(t,fT(r),i)}))};return n.add((function(){return t({body:uT(o,e.textEncoder)}).then((function(e){return void 0!==e.statusCode&&(e.statusCode<200||e.statusCode>=300)&&("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&tw.warn("Sentry responded with status code ".concat(e.statusCode," to sent event.")),r=RS(r,e),e}),(function(e){throw s("network_error"),e}))})).then((function(e){return e}),(function(e){if(e instanceof KE)return("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&tw.error("Skipped sending event because buffer is full."),s("queue_overflow"),tE();throw e}))}return a.__sentry__baseTransport__=!0,{send:a,flush:i}}function AS(e,t){if("event"===t||"transaction"===t)return Array.isArray(e)?e[1]:void 0}var OS=void 0;function PS(){if(OS)return OS;if(CE(OT.fetch))return OS=OT.fetch.bind(OT);var e=OT.document,t=OT.fetch;if(e&&"function"===typeof e.createElement)try{var n=e.createElement("iframe");n.hidden=!0,e.head.appendChild(n);var r=n.contentWindow;r&&r.fetch&&(t=r.fetch),e.head.removeChild(n)}catch(i){("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&tw.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",i)}return OS=t.bind(OT)}function LS(){OS=void 0}function MS(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:PS(),n=0,r=0;function i(i){var a=i.body.length;n+=a,r++;var s=o({body:i.body,method:"POST",referrerPolicy:"origin",headers:e.headers,keepalive:n<=6e4&&r<15},e.fetchOptions);try{return t(e.url,s).then((function(e){return n-=a,r--,{statusCode:e.status,headers:{"x-sentry-rate-limits":e.headers.get("X-Sentry-Rate-Limits"),"retry-after":e.headers.get("Retry-After")}}}))}catch(u){return LS(),n-=a,r--,nE(u)}}return DS(e,i)}function US(e){return DS(e,(function(t){return new rE((function(n,r){var i=new XMLHttpRequest;for(var a in i.onerror=r,i.onreadystatechange=function(){4===i.readyState&&n({statusCode:i.status,headers:{"x-sentry-rate-limits":i.getResponseHeader("X-Sentry-Rate-Limits"),"retry-after":i.getResponseHeader("Retry-After")}})},i.open("POST",e.url),e.headers)Object.prototype.hasOwnProperty.call(e.headers,a)&&i.setRequestHeader(a,e.headers[a]);i.send(t.body)}))}))}var jS=[new Ww,new Xw,new nS,new GT,new QT,new uS,new fS,new lS];function FS(e){e.startSession({ignoreDuration:!0}),e.captureSession()}function BS(){if("undefined"!==typeof OT.document){var e=hE();e.captureSession&&(FS(e),LE("history",(function(e){var t=e.from,n=e.to;void 0!==t&&t!==n&&FS(hE())})))}else("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&tw.warn("Session tracking in non-browser environment with @sentry/browser is not supported.")}var VS=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e3;He(this,e),e.prototype.__init.call(this),this._maxlen=t}return Ke(e,[{key:"__init",value:function(){this.spans=[]}},{key:"add",value:function(e){this.spans.length>this._maxlen?e.spanRecorder=void 0:this.spans.push(e)}}]),e}();var zS=function(e){Xe(n,e);var t=et(n);function n(e,r){var i;He(this,n),i=t.call(this,e),n.prototype.__init.call(We(i)),n.prototype.__init2.call(We(i)),n.prototype.__init3.call(We(i)),i._hub=r||hE(),i._name=e.name||"",i.metadata=o(o({source:"custom"},e.metadata),{},{spanMetadata:{}}),i._trimEnd=e.trimEnd,i.transaction=We(i);var a=i.metadata.dynamicSamplingContext;return a&&(i._frozenDynamicSamplingContext=o({},a)),i}return Ke(n,[{key:"__init",value:function(){this._measurements={}}},{key:"__init2",value:function(){this._contexts={}}},{key:"__init3",value:function(){this._frozenDynamicSamplingContext=void 0}},{key:"name",get:function(){return this._name},set:function(e){this.setName(e)}},{key:"setName",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"custom";this._name=e,this.metadata.source=t}},{key:"initSpanRecorder",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e3;this.spanRecorder||(this.spanRecorder=new VS(e)),this.spanRecorder.add(this)}},{key:"setContext",value:function(e,t){null===t?delete this._contexts[e]:this._contexts[e]=t}},{key:"setMeasurement",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";this._measurements[e]={value:t,unit:n}}},{key:"setMetadata",value:function(e){this.metadata=o(o({},this.metadata),e)}},{key:"finish",value:function(e){var t=this;if(void 0===this.endTimestamp){this.name||(("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&tw.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this.name="<unlabeled transaction>"),Vn($e(n.prototype),"finish",this).call(this,e);var r=this._hub.getClient();if(r&&r.emit&&r.emit("finishTransaction",this),!0!==this.sampled)return("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&tw.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled."),void(r&&r.recordDroppedEvent("sample_rate","transaction"));var i=this.spanRecorder?this.spanRecorder.spans.filter((function(e){return e!==t&&e.endTimestamp})):[];this._trimEnd&&i.length>0&&(this.endTimestamp=i.reduce((function(e,t){return e.endTimestamp&&t.endTimestamp?e.endTimestamp>t.endTimestamp?e:t:e})).endTimestamp);var a=this.metadata,s=o({contexts:o(o({},this._contexts),{},{trace:this.getTraceContext()}),spans:i,start_timestamp:this.startTimestamp,tags:this.tags,timestamp:this.endTimestamp,transaction:this.name,type:"transaction",sdkProcessingMetadata:o(o({},a),{},{dynamicSamplingContext:this.getDynamicSamplingContext()})},a.source&&{transaction_info:{source:a.source}});return Object.keys(this._measurements).length>0&&(("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&tw.log("[Measurements] Adding measurements to transaction",JSON.stringify(this._measurements,void 0,2)),s.measurements=this._measurements),("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&tw.log("[Tracing] Finishing ".concat(this.op," transaction: ").concat(this.name,".")),this._hub.captureEvent(s)}}},{key:"toContext",value:function(){return Uw(o(o({},Vn($e(n.prototype),"toContext",this).call(this)),{},{name:this.name,trimEnd:this._trimEnd}))}},{key:"updateWithContext",value:function(e){return Vn($e(n.prototype),"updateWithContext",this).call(this,e),this.name=e.name||"",this._trimEnd=e.trimEnd,this}},{key:"getDynamicSamplingContext",value:function(){if(this._frozenDynamicSamplingContext)return this._frozenDynamicSamplingContext;var e=this._hub||hE(),t=e&&e.getClient();if(!t)return{};var n=t.getOptions()||{},r=n.environment,i=n.release,a=(t.getDsn()||{}).publicKey,o=this.metadata.sampleRate,s=void 0!==o?o.toString():void 0,u=(e.getScope().getUser()||{}).segment,c=this.metadata.source,l=c&&"url"!==c?this.name:void 0,f=Uw({environment:r||eE,release:i,transaction:l,user_segment:u,public_key:a,trace_id:this.traceId,sample_rate:s});return t.emit&&t.emit("createDsc",f),f}},{key:"setHub",value:function(e){this._hub=e}}]),n}(function(){function e(t){if(He(this,e),e.prototype.__init2.call(this),e.prototype.__init3.call(this),e.prototype.__init4.call(this),e.prototype.__init5.call(this),e.prototype.__init6.call(this),e.prototype.__init7.call(this),!t)return this;t.traceId&&(this.traceId=t.traceId),t.spanId&&(this.spanId=t.spanId),t.parentSpanId&&(this.parentSpanId=t.parentSpanId),"sampled"in t&&(this.sampled=t.sampled),t.op&&(this.op=t.op),t.description&&(this.description=t.description),t.data&&(this.data=t.data),t.tags&&(this.tags=t.tags),t.status&&(this.status=t.status),t.startTimestamp&&(this.startTimestamp=t.startTimestamp),t.endTimestamp&&(this.endTimestamp=t.endTimestamp),t.instrumenter&&(this.instrumenter=t.instrumenter)}return Ke(e,[{key:"__init2",value:function(){this.traceId=Fw()}},{key:"__init3",value:function(){this.spanId=Fw().substring(16)}},{key:"__init4",value:function(){this.startTimestamp=(0,Jw._I)()}},{key:"__init5",value:function(){this.tags={}}},{key:"__init6",value:function(){this.data={}}},{key:"__init7",value:function(){this.instrumenter="sentry"}},{key:"startChild",value:function(t){var n=new e(o(o({},t),{},{parentSpanId:this.spanId,sampled:this.sampled,traceId:this.traceId}));if(n.spanRecorder=this.spanRecorder,n.spanRecorder&&n.spanRecorder.add(n),n.transaction=this.transaction,("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&n.transaction){var r=t&&t.op||"< unknown op >",i=n.transaction.name||"< unknown name >",a=n.transaction.spanId,s="[Tracing] Starting '".concat(r,"' span on transaction '").concat(i,"' (").concat(a,").");n.transaction.metadata.spanMetadata[n.spanId]={logMessage:s},tw.log(s)}return n}},{key:"setTag",value:function(e,t){return this.tags=o(o({},this.tags),{},i({},e,t)),this}},{key:"setData",value:function(e,t){return this.data=o(o({},this.data),{},i({},e,t)),this}},{key:"setStatus",value:function(e){return this.status=e,this}},{key:"setHttpStatus",value:function(e){this.setTag("http.status_code",String(e));var t=function(e){if(e<400&&e>=100)return"ok";if(e>=400&&e<500)switch(e){case 401:return"unauthenticated";case 403:return"permission_denied";case 404:return"not_found";case 409:return"already_exists";case 413:return"failed_precondition";case 429:return"resource_exhausted";default:return"invalid_argument"}if(e>=500&&e<600)switch(e){case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline_exceeded";default:return"internal_error"}return"unknown_error"}(e);return"unknown_error"!==t&&this.setStatus(t),this}},{key:"isSuccess",value:function(){return"ok"===this.status}},{key:"finish",value:function(e){if(("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&this.transaction&&this.transaction.spanId!==this.spanId){var t=this.transaction.metadata.spanMetadata[this.spanId].logMessage;t&&tw.log(t.replace("Starting","Finishing"))}this.endTimestamp="number"===typeof e?e:(0,Jw._I)()}},{key:"toTraceparent",value:function(){var e="";return void 0!==this.sampled&&(e=this.sampled?"-1":"-0"),"".concat(this.traceId,"-").concat(this.spanId).concat(e)}},{key:"toContext",value:function(){return Uw({data:this.data,description:this.description,endTimestamp:this.endTimestamp,op:this.op,parentSpanId:this.parentSpanId,sampled:this.sampled,spanId:this.spanId,startTimestamp:this.startTimestamp,status:this.status,tags:this.tags,traceId:this.traceId})}},{key:"updateWithContext",value:function(e){return this.data=e.data||{},this.description=e.description,this.endTimestamp=e.endTimestamp,this.op=e.op,this.parentSpanId=e.parentSpanId,this.sampled=e.sampled,this.spanId=e.spanId||this.spanId,this.startTimestamp=e.startTimestamp||this.startTimestamp,this.status=e.status,this.tags=e.tags||{},this.traceId=e.traceId||this.traceId,this}},{key:"getTraceContext",value:function(){return Uw({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,trace_id:this.traceId})}},{key:"toJSON",value:function(){return Uw({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,start_timestamp:this.startTimestamp,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,timestamp:this.endTimestamp,trace_id:this.traceId})}}]),e}()),GS={idleTimeout:1e3,finalTimeout:3e4,heartbeatInterval:5e3},qS="finishReason",HS=["heartbeatFailed","idleTimeout","documentHidden","finalTimeout","externalFinish","cancelled"],YS=function(e){Xe(n,e);var t=et(n);function n(e,r,i,a){var o;return He(this,n),(o=t.call(this,a))._pushActivity=e,o._popActivity=r,o.transactionSpanId=i,o}return Ke(n,[{key:"add",value:function(e){var t=this;e.spanId!==this.transactionSpanId&&(e.finish=function(n){e.endTimestamp="number"===typeof n?n:(0,Jw._I)(),t._popActivity(e.spanId)},void 0===e.endTimestamp&&this._pushActivity(e.spanId)),Vn($e(n.prototype),"add",this).call(this,e)}}]),n}(VS),KS=function(e){Xe(n,e);var t=et(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:GS.idleTimeout,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:GS.finalTimeout,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:GS.heartbeatInterval,u=arguments.length>5&&void 0!==arguments[5]&&arguments[5];return He(this,n),(i=t.call(this,e,r))._idleHub=r,i._idleTimeout=a,i._finalTimeout=o,i._heartbeatInterval=s,i._onScope=u,n.prototype.__init.call(We(i)),n.prototype.__init2.call(We(i)),n.prototype.__init3.call(We(i)),n.prototype.__init4.call(We(i)),n.prototype.__init5.call(We(i)),n.prototype.__init6.call(We(i)),u&&(("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&tw.log("Setting idle transaction on scope. Span ID: ".concat(i.spanId)),r.configureScope((function(e){return e.setSpan(We(i))}))),i._restartIdleTimeout(),setTimeout((function(){i._finished||(i.setStatus("deadline_exceeded"),i._finishReason=HS[3],i.finish())}),i._finalTimeout),i}return Ke(n,[{key:"__init",value:function(){this.activities={}}},{key:"__init2",value:function(){this._heartbeatCounter=0}},{key:"__init3",value:function(){this._finished=!1}},{key:"__init4",value:function(){this._idleTimeoutCanceledPermanently=!1}},{key:"__init5",value:function(){this._beforeFinishCallbacks=[]}},{key:"__init6",value:function(){this._finishReason=HS[4]}},{key:"finish",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,Jw._I)();if(this._finished=!0,this.activities={},"ui.action.click"===this.op&&this.setTag(qS,this._finishReason),this.spanRecorder){("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&tw.log("[Tracing] finishing IdleTransaction",new Date(1e3*t).toISOString(),this.op);var r,i=qe(this._beforeFinishCallbacks);try{for(i.s();!(r=i.n()).done;){var a=r.value;a(this,t)}}catch(s){i.e(s)}finally{i.f()}this.spanRecorder.spans=this.spanRecorder.spans.filter((function(n){if(n.spanId===e.spanId)return!0;n.endTimestamp||(n.endTimestamp=t,n.setStatus("cancelled"),("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&tw.log("[Tracing] cancelling span since transaction ended early",JSON.stringify(n,void 0,2)));var r=n.startTimestamp<t;return r||("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&tw.log("[Tracing] discarding Span since it happened after Transaction was finished",JSON.stringify(n,void 0,2)),r})),("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&tw.log("[Tracing] flushing IdleTransaction")}else("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&tw.log("[Tracing] No active IdleTransaction");if(this._onScope){var o=this._idleHub.getScope();o.getTransaction()===this&&o.setSpan(void 0)}return Vn($e(n.prototype),"finish",this).call(this,t)}},{key:"registerBeforeFinishCallback",value:function(e){this._beforeFinishCallbacks.push(e)}},{key:"initSpanRecorder",value:function(e){var t=this;if(!this.spanRecorder){this.spanRecorder=new YS((function(e){t._finished||t._pushActivity(e)}),(function(e){t._finished||t._popActivity(e)}),this.spanId,e),("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&tw.log("Starting heartbeat"),this._pingHeartbeat()}this.spanRecorder.add(this)}},{key:"cancelIdleTimeout",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{restartOnChildSpanChange:!0},n=t.restartOnChildSpanChange;this._idleTimeoutCanceledPermanently=!1===n,this._idleTimeoutID&&(clearTimeout(this._idleTimeoutID),this._idleTimeoutID=void 0,0===Object.keys(this.activities).length&&this._idleTimeoutCanceledPermanently&&(this._finishReason=HS[5],this.finish(e)))}},{key:"setFinishReason",value:function(e){this._finishReason=e}},{key:"_restartIdleTimeout",value:function(e){var t=this;this.cancelIdleTimeout(),this._idleTimeoutID=setTimeout((function(){t._finished||0!==Object.keys(t.activities).length||(t._finishReason=HS[1],t.finish(e))}),this._idleTimeout)}},{key:"_pushActivity",value:function(e){this.cancelIdleTimeout(void 0,{restartOnChildSpanChange:!this._idleTimeoutCanceledPermanently}),("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&tw.log("[Tracing] pushActivity: ".concat(e)),this.activities[e]=!0,("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&tw.log("[Tracing] new activities count",Object.keys(this.activities).length)}},{key:"_popActivity",value:function(e){if(this.activities[e]&&(("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&tw.log("[Tracing] popActivity ".concat(e)),delete this.activities[e],("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&tw.log("[Tracing] new activities count",Object.keys(this.activities).length)),0===Object.keys(this.activities).length){var t=(0,Jw._I)();this._idleTimeoutCanceledPermanently?(this._finishReason=HS[5],this.finish(t)):this._restartIdleTimeout(t+this._idleTimeout/1e3)}}},{key:"_beat",value:function(){if(!this._finished){var e=Object.keys(this.activities).join("");e===this._prevHeartbeatString?this._heartbeatCounter++:this._heartbeatCounter=1,this._prevHeartbeatString=e,this._heartbeatCounter>=3?(("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&tw.log("[Tracing] Transaction finished because of no change for 3 heart beats"),this.setStatus("deadline_exceeded"),this._finishReason=HS[0],this.finish()):this._pingHeartbeat()}}},{key:"_pingHeartbeat",value:function(){var e=this;("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&tw.log("pinging Heartbeat -> current counter: ".concat(this._heartbeatCounter)),setTimeout((function(){e._beat()}),this._heartbeatInterval)}}]),n}(zS);function WS(e){if("boolean"===typeof __SENTRY_TRACING__&&!__SENTRY_TRACING__)return!1;var t=hE().getClient(),n=e||t&&t.getOptions();return!!n&&(n.enableTracing||"tracesSampleRate"in n||"tracesSampler"in n)}function QS(e){return(e||hE()).getScope().getTransaction()}var XS=!1;function $S(){var e=QS();if(e){var t="internal_error";("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&tw.log("[Tracing] Transaction: ".concat(t," -> Global error occured")),e.setStatus(t)}}function JS(){var e=this.getScope().getSpan();return e?{"sentry-trace":e.toTraceparent()}:{}}function ZS(e,t,n){return WS(t)?void 0!==e.sampled?(e.setMetadata({sampleRate:Number(e.sampled)}),e):("function"===typeof t.tracesSampler?(r=t.tracesSampler(n),e.setMetadata({sampleRate:Number(r)})):void 0!==n.parentSampled?r=n.parentSampled:"undefined"!==typeof t.tracesSampleRate?(r=t.tracesSampleRate,e.setMetadata({sampleRate:Number(r)})):(r=1,e.setMetadata({sampleRate:r})),function(e){if(kw(e)||"number"!==typeof e&&"boolean"!==typeof e)return("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&tw.warn("[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ".concat(JSON.stringify(e)," of type ").concat(JSON.stringify(typeof e),".")),!1;if(e<0||e>1)return("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&tw.warn("[Tracing] Given sample rate is invalid. Sample rate must be between 0 and 1. Got ".concat(e,".")),!1;return!0}(r)?r?(e.sampled=Math.random()<r,e.sampled?(("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&tw.log("[Tracing] starting ".concat(e.op," transaction - ").concat(e.name)),e):(("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&tw.log("[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ".concat(Number(r),")")),e)):(("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&tw.log("[Tracing] Discarding transaction because ".concat("function"===typeof t.tracesSampler?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0")),e.sampled=!1,e):(("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&tw.warn("[Tracing] Discarding transaction because of invalid sample rate."),e.sampled=!1,e)):(e.sampled=!1,e);var r}function ex(e,t){var n=this.getClient(),r=n&&n.getOptions()||{},i=r.instrumenter||"sentry",a=e.instrumenter||"sentry";i!==a&&(("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&tw.error("A transaction was started with instrumenter=`".concat(a,"`, but the SDK is configured with the `").concat(i,"` instrumenter.\nThe transaction will not be sampled. Please use the ").concat(i," instrumentation to start transactions.")),e.sampled=!1);var s=new zS(e,this);return(s=ZS(s,r,o({parentSampled:e.parentSampled,transactionContext:e},t))).sampled&&s.initSpanRecorder(r._experiments&&r._experiments.maxSpans),n&&n.emit&&n.emit("startTransaction",s),s}function tx(e,t,n,r,i,a,s){var u=e.getClient(),c=u&&u.getOptions()||{},l=new KS(t,e,n,r,s,i);return(l=ZS(l,c,o({parentSampled:t.parentSampled,transactionContext:t},a))).sampled&&l.initSpanRecorder(c._experiments&&c._experiments.maxSpans),u&&u.emit&&u.emit("startTransaction",l),l}function nx(){var e=lE();e.__SENTRY__&&(e.__SENTRY__.extensions=e.__SENTRY__.extensions||{},e.__SENTRY__.extensions.startTransaction||(e.__SENTRY__.extensions.startTransaction=ex),e.__SENTRY__.extensions.traceHeaders||(e.__SENTRY__.extensions.traceHeaders=JS),XS||(XS=!0,LE("error",$S),LE("unhandledrejection",$S)))}$S.tag="sentry_tracingErrorCallback";var rx=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");var ix="baggage",ax="sentry-",ox=/^sentry-/;function sx(e){return function(e){if(0===Object.keys(e).length)return;return Object.entries(e).reduce((function(e,t,n){var r=c(t,2),i=r[0],a=r[1],o="".concat(encodeURIComponent(i),"=").concat(encodeURIComponent(a)),s=0===n?o:"".concat(e,",").concat(o);return s.length>8192?(("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&tw.warn("Not adding key: ".concat(i," with val: ").concat(a," to baggage header due to exceeding baggage size limits.")),e):s}),"")}(Object.entries(e).reduce((function(e,t){var n=c(t,2),r=n[0],i=n[1];return i&&(e["".concat(ax).concat(r)]=i),e}),{}))}function ux(e){return e.split(",").map((function(e){return e.split("=").map((function(e){return decodeURIComponent(e.trim())}))})).reduce((function(e,t){var n=c(t,2),r=n[0],i=n[1];return e[r]=i,e}),{})}var cx=iw.n2;var lx=function(e,t,n){var r,i;return function(a){t.value>=0&&(a||n)&&((i=t.value-(r||0))||void 0===r)&&(r=t.value,t.delta=i,e(t))}},fx=function(){return cx.__WEB_VITALS_POLYFILL__?cx.performance&&(performance.getEntriesByType&&performance.getEntriesByType("navigation")[0]||function(){var e=cx.performance.timing,t=cx.performance.navigation.type,n={entryType:"navigation",startTime:0,type:2==t?"back_forward":1===t?"reload":"navigate"};for(var r in e)"navigationStart"!==r&&"toJSON"!==r&&(n[r]=Math.max(e[r]-e.navigationStart,0));return n}()):cx.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0]},hx=function(){var e=fx();return e&&e.activationStart||0},dx=function(e,t){var n=fx(),r="navigate";return n&&(r=cx.document.prerendering||hx()>0?"prerender":n.type.replace(/_/g,"-")),{name:e,value:"undefined"===typeof t?-1:t,rating:"good",delta:0,entries:[],id:"v3-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12),navigationType:r}},px=function(e,t,n){try{if(PerformanceObserver.supportedEntryTypes.includes(e)){var r=new PerformanceObserver((function(e){t(e.getEntries())}));return r.observe(Object.assign({type:e,buffered:!0},n||{})),r}}catch(i){}},vx=function(e,t){var n=function n(r){"pagehide"!==r.type&&"hidden"!==cx.document.visibilityState||(e(r),t&&(removeEventListener("visibilitychange",n,!0),removeEventListener("pagehide",n,!0)))};addEventListener("visibilitychange",n,!0),addEventListener("pagehide",n,!0)},mx=-1,yx=function(){return mx<0&&(mx="hidden"!==cx.document.visibilityState||cx.document.prerendering?1/0:0,vx((function(e){var t=e.timeStamp;mx=t}),!0)),{get firstHiddenTime(){return mx}}},gx={},_x=["startTimestamp"];function kx(e){return"number"===typeof e&&isFinite(e)}function bx(e,t){var n=t.startTimestamp,r=K(t,_x);return n&&e.startTimestamp>n&&(e.startTimestamp=n),e.startChild(o({startTimestamp:n},r))}function wx(e){return e/1e3}function Ex(){return cx&&cx.addEventListener&&cx.performance}var Tx,Sx,xx=0,Ix={};function Cx(){var e=Ex();if(e&&Jw.Z1){e.mark&&cx.performance.mark("sentry-tracing-init"),function(e){var t,n=yx(),r=dx("FID"),i=function(e){e.startTime<n.firstHiddenTime&&(r.value=e.processingStart-e.startTime,r.entries.push(e),t(!0))},a=function(e){e.forEach(i)},o=px("first-input",a);t=lx(e,r),o&&vx((function(){a(o.takeRecords()),o.disconnect()}),!0)}((function(e){var t=e.entries.pop();if(t){var n=wx(Jw.Z1),r=wx(t.startTime);("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&tw.log("[Measurements] Adding FID"),Ix.fid={value:e.value,unit:"millisecond"},Ix["mark.fid"]={value:n+r,unit:"second"}}}));var t=function(e){var t,n=dx("CLS",0),r=0,i=[],a=function(e){e.forEach((function(e){if(!e.hadRecentInput){var a=i[0],o=i[i.length-1];r&&0!==i.length&&e.startTime-o.startTime<1e3&&e.startTime-a.startTime<5e3?(r+=e.value,i.push(e)):(r=e.value,i=[e]),r>n.value&&(n.value=r,n.entries=i,t&&t())}}))},o=px("layout-shift",a);if(o){t=lx(e,n);var s=function(){a(o.takeRecords()),t(!0)};return vx(s),s}}((function(e){var t=e.entries.pop();t&&(("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&tw.log("[Measurements] Adding CLS"),Ix.cls={value:e.value,unit:""},Sx=t)})),n=function(e){var t,n=yx(),r=dx("LCP"),i=function(e){var i=e[e.length-1];if(i){var a=Math.max(i.startTime-hx(),0);a<n.firstHiddenTime&&(r.value=a,r.entries=[i],t())}},a=px("largest-contentful-paint",i);if(a){t=lx(e,r);var o=function(){gx[r.id]||(i(a.takeRecords()),a.disconnect(),gx[r.id]=!0,t(!0))};return["keydown","click"].forEach((function(e){addEventListener(e,o,{once:!0,capture:!0})})),vx(o,!0),o}}((function(e){var t=e.entries.pop();t&&(("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&tw.log("[Measurements] Adding LCP"),Ix.lcp={value:e.value,unit:"millisecond"},Tx=t)}));return function(){t&&t(),n&&n()}}return function(){}}function Nx(e){var t=Ex();if(t&&cx.performance.getEntries&&Jw.Z1){("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&tw.log("[Tracing] Adding & adjusting spans using Performance API");var n,r,i=wx(Jw.Z1),a=t.getEntries();if(a.slice(xx).forEach((function(t){var a=wx(t.startTime),o=wx(t.duration);if(!("navigation"===e.op&&i+a<e.startTimestamp))switch(t.entryType){case"navigation":!function(e,t,n){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach((function(r){Rx(e,t,r,n)})),Rx(e,t,"secureConnection",n,"TLS/SSL","connectEnd"),Rx(e,t,"fetch",n,"cache","domainLookupStart"),Rx(e,t,"domainLookup",n,"DNS"),function(e,t,n){bx(e,{op:"browser",description:"request",startTimestamp:n+wx(t.requestStart),endTimestamp:n+wx(t.responseEnd)}),bx(e,{op:"browser",description:"response",startTimestamp:n+wx(t.responseStart),endTimestamp:n+wx(t.responseEnd)})}(e,t,n)}(e,t,i),n=i+wx(t.responseStart),r=i+wx(t.requestStart);break;case"mark":case"paint":case"measure":!function(e,t,n,r,i){var a=i+n,o=a+r;bx(e,{description:t.name,endTimestamp:o,op:t.entryType,startTimestamp:a})}(e,t,a,o,i);var s=yx(),u=t.startTime<s.firstHiddenTime;"first-paint"===t.name&&u&&(("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&tw.log("[Measurements] Adding FP"),Ix.fp={value:t.startTime,unit:"millisecond"}),"first-contentful-paint"===t.name&&u&&(("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&tw.log("[Measurements] Adding FCP"),Ix.fcp={value:t.startTime,unit:"millisecond"});break;case"resource":var c=t.name.replace(cx.location.origin,"");!function(e,t,n,r,i,a){if("xmlhttprequest"===t.initiatorType||"fetch"===t.initiatorType)return;var o={};"transferSize"in t&&(o["Transfer Size"]=t.transferSize);"encodedBodySize"in t&&(o["Encoded Body Size"]=t.encodedBodySize);"decodedBodySize"in t&&(o["Decoded Body Size"]=t.decodedBodySize);"renderBlockingStatus"in t&&(o["resource.render_blocking_status"]=t.renderBlockingStatus);var s=a+r;bx(e,{description:n,endTimestamp:s+i,op:t.initiatorType?"resource.".concat(t.initiatorType):"resource.other",startTimestamp:s,data:o})}(e,t,c,a,o,i)}})),xx=Math.max(a.length-1,0),function(e){var t=cx.navigator;if(!t)return;var n=t.connection;n&&(n.effectiveType&&e.setTag("effectiveConnectionType",n.effectiveType),n.type&&e.setTag("connectionType",n.type),kx(n.rtt)&&(Ix["connection.rtt"]={value:n.rtt,unit:"millisecond"}));kx(t.deviceMemory)&&e.setTag("deviceMemory","".concat(t.deviceMemory," GB"));kx(t.hardwareConcurrency)&&e.setTag("hardwareConcurrency",String(t.hardwareConcurrency))}(e),"pageload"===e.op){"number"===typeof n&&(("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&tw.log("[Measurements] Adding TTFB"),Ix.ttfb={value:1e3*(n-e.startTimestamp),unit:"millisecond"},"number"===typeof r&&r<=n&&(Ix["ttfb.requestTime"]={value:1e3*(n-r),unit:"millisecond"})),["fcp","fp","lcp"].forEach((function(t){if(Ix[t]&&!(i>=e.startTimestamp)){var n=Ix[t].value,r=i+wx(n),a=Math.abs(1e3*(r-e.startTimestamp)),o=a-n;("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&tw.log("[Measurements] Normalized ".concat(t," from ").concat(n," to ").concat(a," (").concat(o,")")),Ix[t].value=a}}));var o=Ix["mark.fid"];o&&Ix.fid&&(bx(e,{description:"first input delay",endTimestamp:o.value+wx(Ix.fid.value),op:"ui.action",startTimestamp:o.value}),delete Ix["mark.fid"]),"fcp"in Ix||delete Ix.cls,Object.keys(Ix).forEach((function(t){e.setMeasurement(t,Ix[t].value,Ix[t].unit)})),function(e){Tx&&(("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&tw.log("[Measurements] Adding LCP Data"),Tx.element&&e.setTag("lcp.element",Ew(Tx.element)),Tx.id&&e.setTag("lcp.id",Tx.id),Tx.url&&e.setTag("lcp.url",Tx.url.trim().slice(0,200)),e.setTag("lcp.size",Tx.size));Sx&&Sx.sources&&(("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&tw.log("[Measurements] Adding CLS Data"),Sx.sources.forEach((function(t,n){return e.setTag("cls.source.".concat(n+1),Ew(t.node))})))}(e)}Tx=void 0,Sx=void 0,Ix={}}}function Rx(e,t,n,r,i,a){var o=a?t[a]:t["".concat(n,"End")],s=t["".concat(n,"Start")];s&&o&&bx(e,{op:"browser",description:i||n,startTimestamp:r+wx(s),endTimestamp:r+wx(o)})}var Dx=["localhost",/^\//],Ax={traceFetch:!0,traceXHR:!0,tracingOrigins:Dx,tracePropagationTargets:Dx};function Ox(e){var t=o({traceFetch:Ax.traceFetch,traceXHR:Ax.traceXHR},e),n=t.traceFetch,r=t.traceXHR,i=t.tracePropagationTargets,a=t.tracingOrigins,s=t.shouldCreateSpanForRequest,u="function"===typeof s?s:function(e){return!0},c=function(e){return function(e,t){return Cw(e,t||Dx)}(e,i||a)},l={};n&&LE("fetch",(function(e){!function(e,t,n,r){if(!WS()||!e.fetchData||!t(e.fetchData.url))return;if(e.endTimestamp){var i=e.fetchData.__span;if(!i)return;var a=r[i];return void(a&&(e.response?a.setHttpStatus(e.response.status):e.error&&a.setStatus("internal_error"),a.finish(),delete r[i]))}var s=hE().getScope(),u=s&&s.getSpan(),c=u&&u.transaction;if(u&&c){var l=u.startChild({data:o(o({},e.fetchData),{},{type:"fetch"}),description:"".concat(e.fetchData.method," ").concat(e.fetchData.url),op:"http.client"});e.fetchData.__span=l.spanId,r[l.spanId]=l;var f=e.args[0];e.args[1]=e.args[1]||{};var h=e.args[1];n(e.fetchData.url)&&(h.headers=function(e,t,n,r){var i=sx(t),a=n.toTraceparent(),s="undefined"!==typeof Request&&bw(e,Request)?e.headers:r.headers;if(s){if("undefined"!==typeof Headers&&bw(s,Headers)){var u=new Headers(s);return u.append("sentry-trace",a),i&&u.append(ix,i),u}if(Array.isArray(s)){var c=[].concat(W(s),[["sentry-trace",a]]);return i&&c.push([ix,i]),c}var l="baggage"in s?s.baggage:void 0,f=[];return Array.isArray(l)?f.push.apply(f,W(l)):l&&f.push(l),i&&f.push(i),o(o({},s),{},{"sentry-trace":a,baggage:f.length>0?f.join(","):void 0})}return{"sentry-trace":a,baggage:i}}(f,c.getDynamicSamplingContext(),l,h))}}(e,u,c,l)})),r&&LE("xhr",(function(e){!function(e,t,n,r){if(!WS()||e.xhr&&e.xhr.__sentry_own_request__||!(e.xhr&&e.xhr.__sentry_xhr__&&t(e.xhr.__sentry_xhr__.url)))return;var i=e.xhr.__sentry_xhr__;if(e.endTimestamp){var a=e.xhr.__sentry_xhr_span_id__;if(!a)return;var s=r[a];return void(s&&(s.setHttpStatus(i.status_code),s.finish(),delete r[a]))}var u=hE().getScope(),c=u&&u.getSpan(),l=c&&c.transaction;if(c&&l){var f=c.startChild({data:o(o({},i.data),{},{type:"xhr",method:i.method,url:i.url}),description:"".concat(i.method," ").concat(i.url),op:"http.client"});if(e.xhr.__sentry_xhr_span_id__=f.spanId,r[e.xhr.__sentry_xhr_span_id__]=f,e.xhr.setRequestHeader&&n(e.xhr.__sentry_xhr__.url))try{e.xhr.setRequestHeader("sentry-trace",f.toTraceparent());var h=sx(l.getDynamicSamplingContext());h&&e.xhr.setRequestHeader(ix,h)}catch(he){}}}(e,u,c,l)}))}var Px,Lx=o(o({},GS),{},{markBackgroundTransactions:!0,routingInstrumentation:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(cx&&cx.location){var r,i=cx.location.href;t&&(r=e({name:cx.location.pathname,startTimestamp:Jw.Z1,op:"pageload",metadata:{source:"url"}})),n&&LE("history",(function(t){var n=t.to,a=t.from;void 0===a&&i&&-1!==i.indexOf(n)?i=void 0:a!==n&&(i=void 0,r&&(("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&tw.log("[Tracing] Finishing current transaction with op: ".concat(r.op)),r.finish()),r=e({name:cx.location.pathname,op:"navigation",metadata:{source:"url"}}))}))}else("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&tw.warn("Could not initialize routing instrumentation due to invalid location")},startTransactionOnLocationChange:!0,startTransactionOnPageLoad:!0,enableLongTask:!0,_experiments:{}},Ax);function Mx(e){var t,n=(t="meta[name=".concat(e,"]"),ww.document&&ww.document.querySelector?ww.document.querySelector(t):null);return n?n.getAttribute("content"):null}(Px={dsn:"https://0264bc86f3fe4d77b57eab4426b1e5d8@o4504972902334464.ingest.sentry.io/4504972905480192",integrations:[new(function(){function e(t){He(this,e),e.prototype.__init.call(this),nx(),this.options=o(o({},Lx),t),void 0!==this.options._experiments.enableLongTask&&(this.options.enableLongTask=this.options._experiments.enableLongTask),t&&!t.tracePropagationTargets&&t.tracingOrigins&&(this.options.tracePropagationTargets=t.tracingOrigins),this._collectWebVitals=Cx(),this.options.enableLongTask&&px("longtask",(function(e){var t,n=qe(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=QS();if(!i)return;var a=wx(Jw.Z1+r.startTime),o=wx(r.duration);i.startChild({description:"Main UI thread blocked",op:"ui.long-task",startTimestamp:a,endTimestamp:a+o})}}catch(s){n.e(s)}finally{n.f()}})),this.options._experiments.enableInteractions&&px("event",(function(e){var t,n=qe(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=QS();if(!i)return;if("click"===r.name){var a=wx(Jw.Z1+r.startTime),o=wx(r.duration);i.startChild({description:Ew(r.target),op:"ui.interaction.".concat(r.name),startTimestamp:a,endTimestamp:a+o})}}}catch(s){n.e(s)}finally{n.f()}}),{durationThreshold:0})}return Ke(e,[{key:"__init",value:function(){this.name="BrowserTracing"}},{key:"setupOnce",value:function(e,t){var n=this;this._getCurrentHub=t;var r=this.options,i=r.routingInstrumentation,a=r.startTransactionOnLocationChange,o=r.startTransactionOnPageLoad,s=r.markBackgroundTransactions,u=r.traceFetch,c=r.traceXHR,l=r.tracePropagationTargets,f=r.shouldCreateSpanForRequest,h=r._experiments;i((function(e){var r=n._createRouteTransaction(e);return n.options._experiments.onStartRouteTransaction&&n.options._experiments.onStartRouteTransaction(r,e,t),r}),o,a),s&&(cx&&cx.document?cx.document.addEventListener("visibilitychange",(function(){var e=QS();if(cx.document.hidden&&e){var t="cancelled";("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&tw.log("[Tracing] Transaction: ".concat(t," -> since tab moved to the background, op: ").concat(e.op)),e.status||e.setStatus(t),e.setTag("visibilitychange","document.hidden"),e.finish()}})):("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&tw.warn("[Tracing] Could not set up background tab detection due to lack of global document")),h.enableInteractions&&this._registerInteractionListener(),Ox({traceFetch:u,traceXHR:c,tracePropagationTargets:l,shouldCreateSpanForRequest:f})}},{key:"_createRouteTransaction",value:function(e){var t=this;if(this._getCurrentHub){var n=this.options,r=n.beforeNavigate,i=n.idleTimeout,a=n.finalTimeout,s=n.heartbeatInterval,u="pageload"===e.op,l=u?Mx("sentry-trace"):null,f=u?Mx("baggage"):null,h=l?function(e){var t,n=e.match(rx);if(e&&n)return"1"===n[3]?t=!0:"0"===n[3]&&(t=!1),{traceId:n[1],parentSampled:t,parentSpanId:n[2]}}(l):void 0,d=f?function(e){if(pw(e)||Array.isArray(e)){var t={};if(Array.isArray(e))t=e.reduce((function(e,t){var n=ux(t);return o(o({},e),n)}),{});else{if(!e)return;t=ux(e)}var n=Object.entries(t).reduce((function(e,t){var n=c(t,2),r=n[0],i=n[1];return r.match(ox)&&(e[r.slice(ax.length)]=i),e}),{});return Object.keys(n).length>0?n:void 0}}(f):void 0,p=o(o(o({},e),h),{},{metadata:o(o({},e.metadata),{},{dynamicSamplingContext:h&&!d?{}:d}),trimEnd:!0}),v="function"===typeof r?r(p):p,m=void 0===v?o(o({},p),{},{sampled:!1}):v;m.metadata=m.name!==p.name?o(o({},m.metadata),{},{source:"custom"}):m.metadata,this._latestRouteName=m.name,this._latestRouteSource=m.metadata&&m.metadata.source,!1===m.sampled&&("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&tw.log("[Tracing] Will not send ".concat(m.op," transaction because of beforeNavigate.")),("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&tw.log("[Tracing] Starting ".concat(m.op," transaction on scope"));var y=tx(this._getCurrentHub(),m,i,a,!0,{location:cx.location},s);return y.registerBeforeFinishCallback((function(e){t._collectWebVitals(),Nx(e)})),y}("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&tw.warn("[Tracing] Did not create ".concat(e.op," transaction because _getCurrentHub is invalid."))}},{key:"_registerInteractionListener",value:function(){var e,t=this,n=function(){var n=t.options,r=n.idleTimeout,i=n.finalTimeout,a=n.heartbeatInterval,o="ui.action.click",s=QS();if(s&&s.op&&["navigation","pageload"].includes(s.op))("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&tw.warn("[Tracing] Did not create ".concat(o," transaction because a pageload or navigation transaction is in progress."));else if(e&&(e.setFinishReason("interactionInterrupted"),e.finish(),e=void 0),t._getCurrentHub)if(t._latestRouteName){var u=t._getCurrentHub(),c=cx.location,l={name:t._latestRouteName,op:o,trimEnd:!0,metadata:{source:t._latestRouteSource||"url"}};e=tx(u,l,r,i,!0,{location:c},a)}else("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&tw.warn("[Tracing] Did not create ".concat(o," transaction because _latestRouteName is missing."));else("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&tw.warn("[Tracing] Did not create ".concat(o," transaction because _getCurrentHub is invalid."))};["click"].forEach((function(e){addEventListener(e,n,{once:!1,capture:!0})}))}}]),e}())],tracesSampleRate:1})._metadata=Px._metadata||{},Px._metadata.sdk=Px._metadata.sdk||{name:"sentry.javascript.react",packages:[{name:"npm:@sentry/react",version:rw}],version:rw},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};void 0===e.defaultIntegrations&&(e.defaultIntegrations=jS),void 0===e.release&&("string"===typeof __SENTRY_RELEASE__&&(e.release=__SENTRY_RELEASE__),OT.SENTRY_RELEASE&&OT.SENTRY_RELEASE.id&&(e.release=OT.SENTRY_RELEASE.id)),void 0===e.autoSessionTracking&&(e.autoSessionTracking=!0),void 0===e.sendClientReports&&(e.sendClientReports=!0);var t=o(o({},e),{},{stackParser:wE(e.stackParser||TS),integrations:yE(e),transport:e.transport||(IE()?MS:US)});_E(WT,t),e.autoSessionTracking&&BS()}(Px),r.createRoot(document.getElementById("root")).render((0,Ne.jsx)(Ue,{children:(0,Ne.jsx)(nw,{})}))}()}();
//# sourceMappingURL=main.08648ed3.js.map